# Visual Architecture Diagrams

## Frontend System Design Visual Reference

### 1. Browser Rendering Pipeline

```
┌─────────────────────────────────────────────────────────────────┐
│                    BROWSER RENDERING PIPELINE                   │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  User Input: URL                                               │
│       ↓                                                        │
│  ┌─────────────┐    ┌──────────────┐    ┌─────────────────┐   │
│  │ DNS Lookup  │ →  │ TCP Handshake│ →  │ HTTP Request    │   │
│  └─────────────┘    └──────────────┘    └─────────────────┘   │
│       ↓                                                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                HTML PARSING                             │   │
│  │  ┌─────────────┐    ┌──────────────┐                   │   │
│  │  │ HTML Parser │ →  │   DOM Tree   │                   │   │
│  │  └─────────────┘    └──────────────┘                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│       ↓                                                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                CSS PARSING                              │   │
│  │  ┌─────────────┐    ┌──────────────┐                   │   │
│  │  │ CSS Parser  │ →  │  CSSOM Tree  │                   │   │
│  │  └─────────────┘    └──────────────┘                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│       ↓                                                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              JAVASCRIPT EXECUTION                       │   │
│  │  ┌─────────────┐    ┌──────────────┐                   │   │
│  │  │ JS Engine   │ →  │ DOM Updates  │                   │   │
│  │  └─────────────┘    └──────────────┘                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│       ↓                                                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                RENDER PIPELINE                          │   │
│  │  ┌──────────┐  ┌────────┐  ┌───────┐  ┌─────────────┐  │   │
│  │  │ Render   │→ │ Layout │→ │ Paint │→ │ Composite   │  │   │
│  │  │ Tree     │  │ (Refl) │  │       │  │             │  │   │
│  │  └──────────┘  └────────┘  └───────┘  └─────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│       ↓                                                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 SCREEN DISPLAY                          │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 2. React Fiber Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                    REACT FIBER ARCHITECTURE                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────┐    ┌──────────────────┐                   │
│  │   Scheduler     │ →  │    Work Loop     │                   │
│  │  - Priority     │    │  - Time Slicing  │                   │
│  │  - Task Queue   │    │  - Interruption  │                   │
│  └─────────────────┘    └──────────────────┘                   │
│         ↓                         ↓                            │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 FIBER TREE                              │   │
│  │                                                         │   │
│  │     App                                                 │   │
│  │      ├── Header (Priority: 3)                          │   │
│  │      ├── Main                                           │   │
│  │      │    ├── Sidebar (Priority: 2)                    │   │
│  │      │    └── Content (Priority: 1)                    │   │
│  │      └── Footer (Priority: 4)                          │   │
│  │                                                         │   │
│  │  Each node is a Fiber with:                            │   │
│  │  - type, props, state                                  │   │
│  │  - child, sibling, return pointers                     │   │
│  │  - effectTag, priority                                 │   │
│  └─────────────────────────────────────────────────────────┘   │
│         ↓                                                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              RECONCILIATION PHASES                      │   │
│  │                                                         │   │
│  │  Phase 1: RENDER (Interruptible)                       │   │
│  │  ┌─────────────┐    ┌──────────────┐                   │   │
│  │  │ Diff Algo   │ →  │ Effect List  │                   │   │
│  │  │ - Compare   │    │ - Updates    │                   │   │
│  │  │ - Mark      │    │ - Insertions │                   │   │
│  │  └─────────────┘    └──────────────┘                   │   │
│  │                                                         │   │
│  │  Phase 2: COMMIT (Not Interruptible)                   │   │
│  │  ┌─────────────┐    ┌──────────────┐                   │   │
│  │  │ Apply       │ →  │ DOM Updates  │                   │   │
│  │  │ Effects     │    │ Lifecycle    │                   │   │
│  │  └─────────────┘    └──────────────┘                   │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 3. Micro-Frontend Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                  MICRO-FRONTEND ARCHITECTURE                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 SHELL APPLICATION                       │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │   Router    │  │  Auth Guard │  │ Error Boundary  │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│         ↓              ↓              ↓                        │
│  ┌─────────────┐ ┌─────────────┐ ┌─────────────────────────┐   │
│  │  MF Header  │ │ MF Sidebar  │ │      MF Main Content    │   │
│  │             │ │             │ │                         │   │
│  │ - React 18  │ │ - Vue 3     │ │     - Angular 15        │   │
│  │ - Team A    │ │ - Team B    │ │     - Team C            │   │
│  │ - Port 3001 │ │ - Port 3002 │ │     - Port 3003         │   │
│  └─────────────┘ └─────────────┘ └─────────────────────────┘   │
│         ↓              ↓              ↓                        │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │              SHARED DEPENDENCIES                        │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │   Shared    │  │   Design    │  │   State Mgmt    │  │   │
│  │  │   Utils     │  │   System    │  │   (Redux/Zustand)│  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  Module Federation (Webpack 5):                                │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │  Shell: ModuleFederationPlugin({                        │   │
│  │    remotes: {                                           │   │
│  │      header: "header@http://localhost:3001/remoteEntry.js" │
│  │      sidebar: "sidebar@http://localhost:3002/remoteEntry.js"│
│  │      main: "main@http://localhost:3003/remoteEntry.js"  │   │
│  │    }                                                    │   │
│  │  })                                                     │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 4. Performance Optimization Flow

```
┌─────────────────────────────────────────────────────────────────┐
│               PERFORMANCE OPTIMIZATION PIPELINE                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                   MEASUREMENT                           │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │ Lighthouse  │  │ Web Vitals  │  │ Custom Metrics  │  │   │
│  │  │ - LCP       │  │ - FID       │  │ - TTI           │  │   │
│  │  │ - CLS       │  │ - FCP       │  │ - Bundle Size   │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│         ↓                                                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                   ANALYSIS                              │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │ Bundle      │  │ Runtime     │  │ Network         │  │   │
│  │  │ Analysis    │  │ Performance │  │ Optimization    │  │   │
│  │  │ - Tree      │  │ - Memory    │  │ - Caching       │  │   │
│  │  │   Shaking   │  │ - CPU Usage │  │ - Compression   │  │   │
│  │  │ - Code      │  │ - Frame     │  │ - CDN           │  │   │
│  │  │   Splitting │  │   Drops     │  │ - Preloading    │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
│         ↓                                                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 OPTIMIZATION                            │   │
│  │                                                         │   │
│  │  Build Time:           Runtime:           Load Time:    │   │
│  │  ┌─────────────┐      ┌─────────────┐    ┌──────────┐   │   │
│  │  │ Tree Shake  │      │ Memoization │    │ Lazy     │   │   │
│  │  │ Dead Code   │      │ Virtualize  │    │ Loading  │   │   │
│  │  │ Minification│      │ Debounce    │    │ Prefetch │   │   │
│  │  │ Compression │      │ Web Workers │    │ Preload  │   │   │
│  │  └─────────────┘      └─────────────┘    └──────────┘   │   │
│  └─────────────────────────────────────────────────────────┘   │
│         ↓                                                       │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 MONITORING                              │   │
│  │  ┌─────────────┐  ┌─────────────┐  ┌─────────────────┐  │   │
│  │  │ Real User   │  │ Synthetic   │  │ Performance     │  │   │
│  │  │ Monitoring  │  │ Testing     │  │ Budget          │  │   │
│  │  │ (RUM)       │  │ - CI/CD     │  │ - Alerts        │  │   │
│  │  └─────────────┘  └─────────────┘  └─────────────────┘  │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 5. State Management Architecture Comparison

```
┌─────────────────────────────────────────────────────────────────┐
│              STATE MANAGEMENT PATTERNS COMPARISON               │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    REDUX PATTERN                        │   │
│  │                                                         │   │
│  │  Component → Action → Reducer → Store → Component      │   │
│  │      ↑                                      ↓          │   │
│  │      └──────────── UI Update ←──────────────┘          │   │
│  │                                                         │   │
│  │  Pros: Predictable, DevTools, Time Travel              │   │
│  │  Cons: Boilerplate, Learning Curve                     │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                   ZUSTAND PATTERN                       │   │
│  │                                                         │   │
│  │  Component → Store.setState() → Store → Component      │   │
│  │      ↑                                      ↓          │   │
│  │      └──────────── Re-render ←──────────────┘          │   │
│  │                                                         │   │
│  │  Pros: Simple API, Small Bundle, TypeScript            │   │
│  │  Cons: Less Ecosystem, Manual Optimization             │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                 REACT CONTEXT PATTERN                   │   │
│  │                                                         │   │
│  │  Provider → Consumer/useContext → State → Provider     │   │
│  │      ↑                                      ↓          │   │
│  │      └──────────── Re-render ←──────────────┘          │   │
│  │                                                         │   │
│  │  Pros: Built-in, No Dependencies                       │   │
│  │  Cons: Performance Issues, Prop Drilling               │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                   JOTAI PATTERN                         │   │
│  │                                                         │   │
│  │  Atom → useAtom() → Component → Atom Update            │   │
│  │    ↑                               ↓                   │   │
│  │    └──────── Atomic Updates ←──────┘                   │   │
│  │                                                         │   │
│  │  Pros: Atomic, Bottom-up, Minimal Re-renders           │   │
│  │  Cons: New Paradigm, Smaller Community                 │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

### 6. Security Threat Model

```
┌─────────────────────────────────────────────────────────────────┐
│                   FRONTEND SECURITY THREATS                     │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                    XSS ATTACKS                          │   │
│  │                                                         │   │
│  │  Stored XSS:     Reflected XSS:     DOM-based XSS:     │   │
│  │  ┌─────────┐     ┌─────────────┐    ┌─────────────┐    │   │
│  │  │Database │ →   │URL Parameter│ →  │JavaScript   │ →  │   │
│  │  │Payload  │     │Payload      │    │Sink         │    │   │
│  │  └─────────┘     └─────────────┘    └─────────────┘    │   │
│  │                                                         │   │
│  │  Prevention:                                            │   │
│  │  • Content Security Policy (CSP)                       │   │
│  │  • Input Sanitization                                  │   │
│  │  • Output Encoding                                     │   │
│  │  • HTTP-only Cookies                                   │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │                   CSRF ATTACKS                          │   │
│  │                                                         │   │
│  │  Malicious Site → User Browser → Legitimate Site       │   │
│  │       ↓               ↓              ↓                 │   │
│  │  ┌─────────┐     ┌─────────┐    ┌─────────────┐        │   │
│  │  │Hidden   │     │Cookies  │    │Unauthorized │        │   │
│  │  │Form     │  →  │Sent     │ →  │Action       │        │   │
│  │  └─────────┘     └─────────┘    └─────────────┘        │   │
│  │                                                         │   │
│  │  Prevention:                                            │   │
│  │  • CSRF Tokens                                         │   │
│  │  • SameSite Cookies                                    │   │
│  │  • Origin Header Validation                            │   │
│  │  • Custom Headers                                      │   │
│  └─────────────────────────────────────────────────────────┘   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────┐   │
│  │               SUPPLY CHAIN ATTACKS                      │   │
│  │                                                         │   │
│  │  npm Package → Build Process → Production Bundle       │   │
│  │       ↓             ↓              ↓                   │   │
│  │  ┌─────────┐   ┌─────────┐    ┌─────────────┐          │   │
│  │  │Malicious│   │Webpack  │    │Injected     │          │   │
│  │  │Code     │ → │Bundle   │ →  │Payload      │          │   │
│  │  └─────────┘   └─────────┘    └─────────────┘          │   │
│  │                                                         │   │
│  │  Prevention:                                            │   │
│  │  • Package Auditing (npm audit)                        │   │
│  │  • Subresource Integrity (SRI)                         │   │
│  │  • Lock Files (package-lock.json)                      │   │
│  │  • Dependency Scanning                                 │   │
│  └─────────────────────────────────────────────────────────┘   │
└─────────────────────────────────────────────────────────────────┘
```

These visual diagrams provide clear mental models for complex frontend concepts that are crucial for system design interviews at Big Tech companies.