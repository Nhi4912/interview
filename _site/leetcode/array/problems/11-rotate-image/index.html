<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rotate Image | Frontend Interview Preparation Guide</title>
    <meta name="description" content="Comprehensive frontend interview materials for Big Tech companies">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav class="container">
            <div class="logo">Frontend Interview Hub</div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="#progress">Progress</a></li>
                <li><a href="#knowledge">Knowledge</a></li>
                <li><a href="https://github.com/nee/interview">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <div class="content-container">
    
        <nav class="breadcrumb">
            <ol>
                <li><a href="/">Home</a></li>
                
                
                
                    
                
                    
                        
                        
                            <li><a href="/leetcode/">Leetcode</a></li>
                        
                    
                
                    
                        
                        
                            <li><a href="/leetcode/array/">Array</a></li>
                        
                    
                
                    
                        
                        
                            <li><a href="/leetcode/array/problems/">Problems</a></li>
                        
                    
                
                    
                        
                        
                            <li class="active">Rotate image</li>
                        
                    
                
            </ol>
        </nav>
    
    
    <article class="content">
        
            <header class="content-header">
                <h1 class="content-title">Rotate Image</h1>
                
                
                    <div class="content-meta">
                        <span class="difficulty difficulty-hard">Hard</span>
                        
                            <span class="category">Array</span>
                        
                        
                            <div class="tags">
                                
                                    <span class="tag">Array</span>
                                
                            </div>
                        
                    </div>
                
            </header>
        
        
        <div class="content-body">
            <h1 id="rotate-image">Rotate Image</h1>

<p><strong>LeetCode Problem # * 48. Rotate Image</strong></p>

<h2 id="problem-description">Problem Description</h2>

<ul>
  <li>You are given an n x n 2D matrix representing an image, rotate the image by 90 degrees (clockwise).  *  * You have to rotate the image in-place, which means you have to modify the input 2D matrix directly.  * DO NOT allocate another 2D matrix and do the rotation.  *</li>
</ul>

<h2 id="solutions">Solutions</h2>

<p>/**</p>
<ul>
  <li>
    <ol>
      <li>Rotate Image
 *</li>
    </ol>
  </li>
  <li>Problem:</li>
  <li>You are given an n x n 2D matrix representing an image, rotate the image by 90 degrees (clockwise).
 *</li>
  <li>You have to rotate the image in-place, which means you have to modify the input 2D matrix directly.</li>
  <li>DO NOT allocate another 2D matrix and do the rotation.
 *</li>
  <li>Example:</li>
  <li>Input: matrix = [[1,2,3],[4,5,6],[7,8,9]]</li>
  <li>Output: [[7,4,1],[8,5,2],[9,6,3]]
 *</li>
  <li>Input: matrix = [[5,1,9,11],[2,4,8,10],[13,3,6,7],[15,14,12,16]]</li>
  <li>Output: [[15,13,2,5],[14,3,4,1],[12,6,8,9],[16,7,10,11]]
 *</li>
  <li>LeetCode: https://leetcode.com/problems/rotate-image/
 */</li>
</ul>

<p>/**</p>
<ul>
  <li>Solution 1: Transpose and Reverse (Optimal)
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Transpose the matrix (swap rows and columns)</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>Reverse each row
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(1)
 */
function rotate(matrix: number[][]): void {
  const n = matrix.length;</li>
</ul>

<p>// Transpose the matrix
  for (let i = 0; i &lt; n; i++) {
    for (let j = i; j &lt; n; j++) {
      [matrix[i][j], matrix[j][i]] = [matrix[j][i], matrix[i][j]];
    }
  }</p>

<p>// Reverse each row
  for (let i = 0; i &lt; n; i++) {
    matrix[i].reverse();
  }
}</p>

<p>/**</p>
<ul>
  <li>Solution 2: Layer by Layer Rotation
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Rotate the matrix layer by layer from outside to inside</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>For each layer, rotate 4 elements at a time
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(1)
 */
function rotateLayerByLayer(matrix: number[][]): void {
  const n = matrix.length;</li>
</ul>

<p>for (let layer = 0; layer &lt; Math.floor(n / 2); layer++) {
    const first = layer;
    const last = n - 1 - layer;</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="rouge-code"><pre>for (let i = first; i &lt; last; i++) {
  const offset = i - first;
  const top = matrix[first][i];

  // Move left to top
  matrix[first][i] = matrix[last - offset][first];

  // Move bottom to left
  matrix[last - offset][first] = matrix[last][last - offset];

  // Move right to bottom
  matrix[last][last - offset] = matrix[i][last];

  // Move top to right
  matrix[i][last] = top;
}   } }
</pre></td></tr></tbody></table></code></pre></div></div>

<p>/**</p>
<ul>
  <li>Solution 3: Using Extra Space (Not in-place)
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Create a new matrix and copy elements in rotated positions</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>Educational purpose to show the pattern
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(n²)
 */
function rotateWithExtraSpace(matrix: number[][]): void {
  const n = matrix.length;
  const rotated = Array.from({ length: n }, () =&gt; new Array(n).fill(0));</li>
</ul>

<p>for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      rotated[j][n - 1 - i] = matrix[i][j];
    }
  }</p>

<p>// Copy back to original matrix
  for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      matrix[i][j] = rotated[i][j];
    }
  }
}</p>

<p>/**</p>
<ul>
  <li>Solution 4: Using Generator (Memory efficient)
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Use generator to yield matrix elements</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>Memory efficient for large matrices
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(1)
 <em>/
function</em> matrixGenerator(
  matrix: number[][],
  direction: “clockwise” | “counterclockwise” = “clockwise”
): Generator<number> {
  const n = matrix.length;</number></li>
</ul>

<p>if (direction === “clockwise”) {
    for (let j = 0; j &lt; n; j++) {
      for (let i = n - 1; i &gt;= 0; i–) {
        yield matrix[i][j];
      }
    }
  } else {
    for (let j = n - 1; j &gt;= 0; j–) {
      for (let i = 0; i &lt; n; i++) {
        yield matrix[i][j];
      }
    }
  }
}</p>

<p>function rotateWithGenerator(matrix: number[][]): void {
  const n = matrix.length;
  const rotated = Array.from(matrixGenerator(matrix));</p>

<p>let index = 0;
  for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      matrix[i][j] = rotated[index++];
    }
  }
}</p>

<p>/**</p>
<ul>
  <li>Solution 5: Functional Approach
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Use functional programming concepts</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>More declarative style
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(n²)
 */
function rotateFunctional(matrix: number[][]): void {
  const n = matrix.length;</li>
</ul>

<p>// Create rotated matrix using functional approach
  const rotated = Array.from({ length: n }, (<em>, i) =&gt;
    Array.from({ length: n }, (</em>, j) =&gt; matrix[n - 1 - j][i])
  );</p>

<p>// Copy back to original matrix
  for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      matrix[i][j] = rotated[i][j];
    }
  }
}</p>

<p>/**</p>
<ul>
  <li>Solution 6: Using Class (Object-oriented)
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Create a MatrixRotator class</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>Encapsulate rotation logic
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(1)
 */
class MatrixRotator {
  private matrix: number[][];
  private n: number;</li>
</ul>

<p>constructor(matrix: number[][]) {
    this.matrix = matrix;
    this.n = matrix.length;
  }</p>

<p>rotateClockwise(): void {
    this.transpose();
    this.reverseRows();
  }</p>

<p>rotateCounterClockwise(): void {
    this.reverseRows();
    this.transpose();
  }</p>

<p>private transpose(): void {
    for (let i = 0; i &lt; this.n; i++) {
      for (let j = i; j &lt; this.n; j++) {
        [this.matrix[i][j], this.matrix[j][i]] = [
          this.matrix[j][i],
          this.matrix[i][j],
        ];
      }
    }
  }</p>

<p>private reverseRows(): void {
    for (let i = 0; i &lt; this.n; i++) {
      this.matrix[i].reverse();
    }
  }</p>

<p>getMatrix(): number[][] {
    return this.matrix.map((row) =&gt; […row]);
  }
}</p>

<p>function rotateClass(matrix: number[][]): void {
  const rotator = new MatrixRotator(matrix);
  rotator.rotateClockwise();
}</p>

<p>/**</p>
<ul>
  <li>Solution 7: Using Bit Manipulation (Limited use case)
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Use bit operations for small matrices</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>Limited to small matrices due to integer size
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(1)
 */
function rotateBitwise(matrix: number[][]): void {
  const n = matrix.length;</li>
</ul>

<p>if (n &gt; 8) {
    // Fallback to standard approach for large matrices
    rotate(matrix);
    return;
  }</p>

<p>// Convert matrix to bit representation (for small matrices)
  const bits = new Array(n).fill(0);</p>

<p>for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      bits[i] |= matrix[i][j] « (j * 4);
    }
  }</p>

<p>// Rotate bits
  const rotatedBits = new Array(n).fill(0);
  for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      const value = (bits[n - 1 - j] » (i * 4)) &amp; 0xf;
      rotatedBits[i] |= value « (j * 4);
    }
  }</p>

<p>// Convert back to matrix
  for (let i = 0; i &lt; n; i++) {
    for (let j = 0; j &lt; n; j++) {
      matrix[i][j] = (rotatedBits[i] » (j * 4)) &amp; 0xf;
    }
  }
}</p>

<p>/**</p>
<ul>
  <li>Solution 8: Using Array Methods
 *</li>
  <li>Approach:</li>
  <li>
    <ul>
      <li>Use array methods to manipulate matrix</li>
    </ul>
  </li>
  <li>
    <ul>
      <li>More readable but less efficient
 *</li>
    </ul>
  </li>
  <li>Time Complexity: O(n²)</li>
  <li>Space Complexity: O(n²)
 */
function rotateArrayMethods(matrix: number[][]): void {
  const n = matrix.length;</li>
</ul>

<p>// Extract columns and reverse them
  const columns = Array.from({ length: n }, (_, j) =&gt;
    matrix.map((row) =&gt; row[j])
  );</p>

<p>// Reverse each column and assign to rows
  for (let i = 0; i &lt; n; i++) {
    matrix[i] = columns[i].reverse();
  }
}</p>

<p>// Helper functions
function printMatrix(matrix: number[][]): string {
  return matrix.map((row) =&gt; <code class="language-plaintext highlighter-rouge">[${row.join(", ")}]</code>).join(“\n”);
}</p>

<p>function createMatrix(n: number): number[][] {
  return Array.from({ length: n }, (<em>, i) =&gt;
    Array.from({ length: n }, (</em>, j) =&gt; i * n + j + 1)
  );
}</p>

<p>// Test cases
function testRotateImage() {
  console.log(“=== Testing Rotate Image ===\n”);</p>

<p>const testCases = [
    {
      input: [
        [1, 2, 3],
        [4, 5, 6],
        [7, 8, 9],
      ],
      expected: [
        [7, 4, 1],
        [8, 5, 2],
        [9, 6, 3],
      ],
      description: “3x3 matrix”,
    },
    {
      input: [
        [5, 1, 9, 11],
        [2, 4, 8, 10],
        [13, 3, 6, 7],
        [15, 14, 12, 16],
      ],
      expected: [
        [15, 13, 2, 5],
        [14, 3, 4, 1],
        [12, 6, 8, 9],
        [16, 7, 10, 11],
      ],
      description: “4x4 matrix”,
    },
    {
      input: [
        [1, 2],
        [3, 4],
      ],
      expected: [
        [3, 1],
        [4, 2],
      ],
      description: “2x2 matrix”,
    },
    {
      input: [[1]],
      expected: [[1]],
      description: “1x1 matrix”,
    },
  ];</p>

<p>testCases.forEach((testCase, index) =&gt; {
    console.log(<code class="language-plaintext highlighter-rouge">Test Case ${index + 1}: ${testCase.description}</code>);
    console.log(<code class="language-plaintext highlighter-rouge">Input:\n${printMatrix(testCase.input)}</code>);
    console.log(<code class="language-plaintext highlighter-rouge">Expected:\n${printMatrix(testCase.expected)}\n</code>);</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
</pre></td><td class="rouge-code"><pre>// Test Solution 1 (Transpose and Reverse)
const matrix1 = testCase.input.map((row) =&gt; [...row]);
rotate(matrix1);
console.log(`Solution 1 (Transpose &amp; Reverse):\n${printMatrix(matrix1)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix1) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

// Test Solution 2 (Layer by Layer)
const matrix2 = testCase.input.map((row) =&gt; [...row]);
rotateLayerByLayer(matrix2);
console.log(`Solution 2 (Layer by Layer):\n${printMatrix(matrix2)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix2) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

// Test Solution 3 (Extra Space)
const matrix3 = testCase.input.map((row) =&gt; [...row]);
rotateWithExtraSpace(matrix3);
console.log(`Solution 3 (Extra Space):\n${printMatrix(matrix3)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix3) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

// Test Solution 4 (Generator)
const matrix4 = testCase.input.map((row) =&gt; [...row]);
rotateWithGenerator(matrix4);
console.log(`Solution 4 (Generator):\n${printMatrix(matrix4)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix4) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

// Test Solution 5 (Functional)
const matrix5 = testCase.input.map((row) =&gt; [...row]);
rotateFunctional(matrix5);
console.log(`Solution 5 (Functional):\n${printMatrix(matrix5)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix5) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

// Test Solution 6 (Class)
const matrix6 = testCase.input.map((row) =&gt; [...row]);
rotateClass(matrix6);
console.log(`Solution 6 (Class):\n${printMatrix(matrix6)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix6) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

// Test Solution 7 (Bitwise) - Only for small matrices
if (testCase.input.length &lt;= 8) {
  const matrix7 = testCase.input.map((row) =&gt; [...row]);
  rotateBitwise(matrix7);
  console.log(`Solution 7 (Bitwise):\n${printMatrix(matrix7)}`);
  console.log(
    `Result: ${
      JSON.stringify(matrix7) === JSON.stringify(testCase.expected)
        ? "✅"
        : "❌"
    }\n`
  );
}

// Test Solution 8 (Array Methods)
const matrix8 = testCase.input.map((row) =&gt; [...row]);
rotateArrayMethods(matrix8);
console.log(`Solution 8 (Array Methods):\n${printMatrix(matrix8)}`);
console.log(
  `Result: ${
    JSON.stringify(matrix8) === JSON.stringify(testCase.expected)
      ? "✅"
      : "❌"
  }\n`
);

console.log("---\n");   }); }
</pre></td></tr></tbody></table></code></pre></div></div>

<p>// Performance comparison
function performanceComparison() {
  console.log(“=== Performance Comparison ===\n”);</p>

<p>const testCases = [
    { name: “Transpose &amp; Reverse”, func: rotate },
    { name: “Layer by Layer”, func: rotateLayerByLayer },
    { name: “Extra Space”, func: rotateWithExtraSpace },
    { name: “Generator”, func: rotateWithGenerator },
    { name: “Functional”, func: rotateFunctional },
    { name: “Class”, func: rotateClass },
    { name: “Bitwise”, func: rotateBitwise },
    { name: “Array Methods”, func: rotateArrayMethods },
  ];</p>

<p>// Create test matrices
  const smallMatrix = createMatrix(3);
  const mediumMatrix = createMatrix(10);
  const largeMatrix = createMatrix(50);</p>

<p>const matrices = [
    { name: “Small (3x3)”, matrix: smallMatrix },
    { name: “Medium (10x10)”, matrix: mediumMatrix },
    { name: “Large (50x50)”, matrix: largeMatrix },
  ];</p>

<p>matrices.forEach(({ name, matrix }) =&gt; {
    console.log(<code class="language-plaintext highlighter-rouge">${name} Matrix:</code>);</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre>testCases.forEach(({ name: funcName, func }) =&gt; {
  const testMatrix = matrix.map((row) =&gt; [...row]);
  const start = performance.now();
  func(testMatrix);
  const end = performance.now();

  console.log(`  ${funcName}: ${(end - start).toFixed(2)}ms`);
});

console.log("");   }); }
</pre></td></tr></tbody></table></code></pre></div></div>

<p>// Uncomment the following lines to run tests
// testRotateImage();
// performanceComparison();</p>

<p>export {
  rotate,
  rotateLayerByLayer,
  rotateWithExtraSpace,
  rotateWithGenerator,
  rotateFunctional,
  rotateClass,
  rotateBitwise,
  rotateArrayMethods,
  MatrixRotator,
  matrixGenerator,
  printMatrix,
  createMatrix,
  testRotateImage,
  performanceComparison,
};</p>


        </div>
    </article>
</div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Study Resources</h3>
                    <p>Comprehensive collection of frontend interview questions, coding challenges, and system design problems.</p>
                </div>
                <div class="footer-section">
                    <h3>Progress Tracking</h3>
                    <p>Monitor your learning journey with detailed progress indicators and completion status.</p>
                </div>
                <div class="footer-section">
                    <h3>Big Tech Ready</h3>
                    <p>Curated content specifically designed for interviews at Google, Meta, Amazon, Apple, and Netflix.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Frontend Interview Hub. Built for aspiring frontend engineers.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/assets/js/main.js"></script>
</body>
</html>