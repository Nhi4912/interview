<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern Build Tools &amp; DevOps for Frontend | Frontend Interview Preparation Guide</title>
    <meta name="description" content="Comprehensive frontend interview materials for Big Tech companies">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav class="container">
            <div class="logo">Frontend Interview Hub</div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="#progress">Progress</a></li>
                <li><a href="#knowledge">Knowledge</a></li>
                <li><a href="https://github.com/nee/interview">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <div class="content-container">
    
        <nav class="breadcrumb">
            <ol>
                <li><a href="/">Home</a></li>
                
                
                
                    
                
                    
                        
                        
                            <li><a href="/frontend/">Frontend</a></li>
                        
                    
                
                    
                        
                        
                            <li><a href="/frontend/tools/">Tools</a></li>
                        
                    
                
                    
                        
                        
                            <li class="active">Modern build tools &amp; devops for frontend</li>
                        
                    
                
            </ol>
        </nav>
    
    
    <article class="content">
        
            <header class="content-header">
                <h1 class="content-title">Modern Build Tools &amp; DevOps for Frontend</h1>
                
                
            </header>
        
        
        <div class="content-body">
            <h1 id="modern-build-tools--devops-for-frontend">Modern Build Tools &amp; DevOps for Frontend</h1>

<h2 id="overview">Overview</h2>
<p>Modern frontend development relies heavily on sophisticated build tools and DevOps practices. Big Tech companies expect deep understanding of these systems for optimization, debugging, and scaling applications.</p>

<hr />

<h2 id="build-tool-comparisons--implementation">Build Tool Comparisons &amp; Implementation</h2>

<h3 id="webpack-vs-vite-vs-esbuild-performance-analysis"><strong>Webpack vs Vite vs esbuild Performance Analysis</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
</pre></td><td class="rouge-code"><pre><span class="c1">// webpack.config.js - Advanced Configuration</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">Configuration</span><span class="p">,</span> <span class="nx">DefinePlugin</span><span class="p">,</span> <span class="nx">ProgressPlugin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">webpack</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">BundleAnalyzerPlugin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">webpack-bundle-analyzer</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">TerserPlugin</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">terser-webpack-plugin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">MiniCssExtractPlugin</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">mini-css-extract-plugin</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">ModuleFederationPlugin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@module-federation/webpack</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">BuildMetrics</span> <span class="p">{</span>
  <span class="nl">buildTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">bundleSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">chunkCount</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">treeshakingEfficiency</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">WebpackOptimizer</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">metrics</span><span class="p">:</span> <span class="nx">BuildMetrics</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">buildTime</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">bundleSize</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">chunkCount</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="na">treeshakingEfficiency</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">};</span>

  <span class="nx">createOptimizedConfig</span><span class="p">(</span><span class="nx">env</span><span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">):</span> <span class="nx">Configuration</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">isProduction</span> <span class="o">=</span> <span class="nx">env</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">;</span>

    <span class="k">return</span> <span class="p">{</span>
      <span class="na">mode</span><span class="p">:</span> <span class="nx">env</span><span class="p">,</span>
      
      <span class="c1">// Advanced entry point configuration</span>
      <span class="na">entry</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">main</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/index.tsx</span><span class="dl">'</span><span class="p">,</span>
        <span class="c1">// Separate vendor bundle for better caching</span>
        <span class="na">vendor</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">],</span>
        <span class="c1">// Dynamic imports for critical vs non-critical code</span>
        <span class="na">critical</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/critical.ts</span><span class="dl">'</span>
      <span class="p">},</span>

      <span class="c1">// Sophisticated output configuration</span>
      <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">path</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">),</span>
        <span class="na">filename</span><span class="p">:</span> <span class="nx">isProduction</span> 
          <span class="p">?</span> <span class="dl">'</span><span class="s1">[name].[contenthash:8].js</span><span class="dl">'</span> 
          <span class="p">:</span> <span class="dl">'</span><span class="s1">[name].js</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">chunkFilename</span><span class="p">:</span> <span class="nx">isProduction</span>
          <span class="p">?</span> <span class="dl">'</span><span class="s1">[name].[contenthash:8].chunk.js</span><span class="dl">'</span>
          <span class="p">:</span> <span class="dl">'</span><span class="s1">[name].chunk.js</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">publicPath</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">clean</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="c1">// Enable module federation</span>
        <span class="na">uniqueName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">main-app</span><span class="dl">'</span><span class="p">,</span>
        <span class="c1">// Optimize for HTTP/2</span>
        <span class="na">chunkLoadingGlobal</span><span class="p">:</span> <span class="dl">'</span><span class="s1">webpackChunkLoadingGlobal</span><span class="dl">'</span>
      <span class="p">},</span>

      <span class="c1">// Advanced optimization strategies</span>
      <span class="na">optimization</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">minimize</span><span class="p">:</span> <span class="nx">isProduction</span><span class="p">,</span>
        <span class="na">minimizer</span><span class="p">:</span> <span class="p">[</span>
          <span class="k">new</span> <span class="nx">TerserPlugin</span><span class="p">({</span>
            <span class="na">terserOptions</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">compress</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">drop_console</span><span class="p">:</span> <span class="nx">isProduction</span><span class="p">,</span>
                <span class="na">drop_debugger</span><span class="p">:</span> <span class="nx">isProduction</span><span class="p">,</span>
                <span class="na">pure_funcs</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">console.log</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">console.info</span><span class="dl">'</span><span class="p">],</span>
                <span class="c1">// Advanced tree shaking</span>
                <span class="na">pure_getters</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">unsafe</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">unsafe_comps</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">unsafe_math</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">unsafe_proto</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">unsafe_regexp</span><span class="p">:</span> <span class="kc">true</span>
              <span class="p">},</span>
              <span class="na">mangle</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">safari10</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                <span class="na">properties</span><span class="p">:</span> <span class="p">{</span>
                  <span class="na">regex</span><span class="p">:</span> <span class="sr">/^_/</span>
                <span class="p">}</span>
              <span class="p">}</span>
            <span class="p">},</span>
            <span class="na">parallel</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">extractComments</span><span class="p">:</span> <span class="kc">false</span>
          <span class="p">})</span>
        <span class="p">],</span>

        <span class="c1">// Advanced splitting strategy</span>
        <span class="na">splitChunks</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">chunks</span><span class="p">:</span> <span class="dl">'</span><span class="s1">all</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">minSize</span><span class="p">:</span> <span class="mi">20000</span><span class="p">,</span>
          <span class="na">maxSize</span><span class="p">:</span> <span class="mi">244000</span><span class="p">,</span>
          <span class="na">cacheGroups</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">// Framework code (React, etc.)</span>
            <span class="na">framework</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">[\\/]</span><span class="sr">node_modules</span><span class="se">[\\/](</span><span class="sr">react|react-dom|scheduler|prop-types</span><span class="se">)[\\/]</span><span class="sr">/</span><span class="p">,</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">framework</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">chunks</span><span class="p">:</span> <span class="dl">'</span><span class="s1">all</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">priority</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
              <span class="na">enforce</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
              <span class="na">reuseExistingChunk</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">},</span>
            <span class="c1">// Large libraries</span>
            <span class="na">lib</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">[\\/]</span><span class="sr">node_modules</span><span class="se">[\\/](</span><span class="sr">lodash|moment|date-fns</span><span class="se">)[\\/]</span><span class="sr">/</span><span class="p">,</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lib</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">chunks</span><span class="p">:</span> <span class="dl">'</span><span class="s1">all</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">priority</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
              <span class="na">reuseExistingChunk</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">},</span>
            <span class="c1">// Common code</span>
            <span class="na">common</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">common</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">chunks</span><span class="p">:</span> <span class="dl">'</span><span class="s1">all</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">priority</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span>
              <span class="na">minChunks</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
              <span class="na">reuseExistingChunk</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">},</span>
            <span class="c1">// Default vendor chunk</span>
            <span class="na">default</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">[\\/]</span><span class="sr">node_modules</span><span class="se">[\\/]</span><span class="sr">/</span><span class="p">,</span>
              <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">vendors</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">chunks</span><span class="p">:</span> <span class="dl">'</span><span class="s1">all</span><span class="dl">'</span><span class="p">,</span>
              <span class="na">priority</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
              <span class="na">reuseExistingChunk</span><span class="p">:</span> <span class="kc">true</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">},</span>

        <span class="c1">// Module ID optimization</span>
        <span class="na">moduleIds</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">deterministic</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">named</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">chunkIds</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">deterministic</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">named</span><span class="dl">'</span><span class="p">,</span>

        <span class="c1">// Runtime chunk for better caching</span>
        <span class="na">runtimeChunk</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">runtime</span><span class="dl">'</span>
        <span class="p">}</span>
      <span class="p">},</span>

      <span class="c1">// Advanced module resolution</span>
      <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">extensions</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">.tsx</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.ts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.jsx</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.js</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">.json</span><span class="dl">'</span><span class="p">],</span>
        <span class="na">alias</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">'</span><span class="s1">@</span><span class="dl">'</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">),</span>
          <span class="dl">'</span><span class="s1">@components</span><span class="dl">'</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/components</span><span class="dl">'</span><span class="p">),</span>
          <span class="dl">'</span><span class="s1">@utils</span><span class="dl">'</span><span class="p">:</span> <span class="nx">path</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/utils</span><span class="dl">'</span><span class="p">),</span>
          <span class="c1">// Performance optimization: use production React</span>
          <span class="p">...(</span><span class="nx">isProduction</span> <span class="o">&amp;&amp;</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">react/umd/react.production.min.js</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">react-dom/umd/react-dom.production.min.js</span><span class="dl">'</span>
          <span class="p">})</span>
        <span class="p">},</span>
        <span class="c1">// Prefer ES modules</span>
        <span class="na">mainFields</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">browser</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">module</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">],</span>
        <span class="c1">// Resolve symlinks to actual files</span>
        <span class="na">symlinks</span><span class="p">:</span> <span class="kc">false</span>
      <span class="p">},</span>

      <span class="na">module</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">rules</span><span class="p">:</span> <span class="p">[</span>
          <span class="c1">// TypeScript/JavaScript</span>
          <span class="p">{</span>
            <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.(</span><span class="sr">ts|tsx|js|jsx</span><span class="se">)</span><span class="sr">$/</span><span class="p">,</span>
            <span class="na">exclude</span><span class="p">:</span> <span class="sr">/node_modules/</span><span class="p">,</span>
            <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
              <span class="p">{</span>
                <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">babel-loader</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                  <span class="na">presets</span><span class="p">:</span> <span class="p">[</span>
                    <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-env</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
                      <span class="na">useBuiltIns</span><span class="p">:</span> <span class="dl">'</span><span class="s1">usage</span><span class="dl">'</span><span class="p">,</span>
                      <span class="na">corejs</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                      <span class="na">targets</span><span class="p">:</span> <span class="p">{</span>
                        <span class="na">browsers</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">&gt; 1%</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">last 2 versions</span><span class="dl">'</span><span class="p">]</span>
                      <span class="p">}</span>
                    <span class="p">}],</span>
                    <span class="p">[</span><span class="dl">'</span><span class="s1">@babel/preset-react</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">runtime</span><span class="p">:</span> <span class="dl">'</span><span class="s1">automatic</span><span class="dl">'</span> <span class="p">}],</span>
                    <span class="dl">'</span><span class="s1">@babel/preset-typescript</span><span class="dl">'</span>
                  <span class="p">],</span>
                  <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
                    <span class="c1">// Dynamic imports for code splitting</span>
                    <span class="dl">'</span><span class="s1">@babel/plugin-syntax-dynamic-import</span><span class="dl">'</span><span class="p">,</span>
                    <span class="c1">// Tree shaking optimization</span>
                    <span class="p">[</span><span class="dl">'</span><span class="s1">babel-plugin-transform-imports</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
                      <span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span>
                        <span class="na">transform</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lodash/${member}</span><span class="dl">'</span><span class="p">,</span>
                        <span class="na">preventFullImport</span><span class="p">:</span> <span class="kc">true</span>
                      <span class="p">}</span>
                    <span class="p">}]</span>
                  <span class="p">],</span>
                  <span class="na">cacheDirectory</span><span class="p">:</span> <span class="kc">true</span>
                <span class="p">}</span>
              <span class="p">}</span>
            <span class="p">]</span>
          <span class="p">},</span>

          <span class="c1">// CSS with advanced optimization</span>
          <span class="p">{</span>
            <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span><span class="p">,</span>
            <span class="na">use</span><span class="p">:</span> <span class="p">[</span>
              <span class="nx">isProduction</span> <span class="p">?</span> <span class="nx">MiniCssExtractPlugin</span><span class="p">.</span><span class="nx">loader</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">style-loader</span><span class="dl">'</span><span class="p">,</span>
              <span class="p">{</span>
                <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">css-loader</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                  <span class="na">importLoaders</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                  <span class="na">modules</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">auto</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="na">localIdentName</span><span class="p">:</span> <span class="nx">isProduction</span> 
                      <span class="p">?</span> <span class="dl">'</span><span class="s1">[hash:base64:8]</span><span class="dl">'</span> 
                      <span class="p">:</span> <span class="dl">'</span><span class="s1">[name]__[local]__[hash:base64:5]</span><span class="dl">'</span>
                  <span class="p">}</span>
                <span class="p">}</span>
              <span class="p">},</span>
              <span class="p">{</span>
                <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">postcss-loader</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">options</span><span class="p">:</span> <span class="p">{</span>
                  <span class="na">postcssOptions</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
                      <span class="p">[</span><span class="dl">'</span><span class="s1">autoprefixer</span><span class="dl">'</span><span class="p">],</span>
                      <span class="p">[</span><span class="dl">'</span><span class="s1">cssnano</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">preset</span><span class="p">:</span> <span class="dl">'</span><span class="s1">default</span><span class="dl">'</span> <span class="p">}]</span>
                    <span class="p">]</span>
                  <span class="p">}</span>
                <span class="p">}</span>
              <span class="p">}</span>
            <span class="p">]</span>
          <span class="p">},</span>

          <span class="c1">// Asset optimization</span>
          <span class="p">{</span>
            <span class="na">test</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.(</span><span class="sr">png|jpe</span><span class="se">?</span><span class="sr">g|gif|svg|webp</span><span class="se">)</span><span class="sr">$/i</span><span class="p">,</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">asset</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">parser</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">dataUrlCondition</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">maxSize</span><span class="p">:</span> <span class="mi">8</span> <span class="o">*</span> <span class="mi">1024</span> <span class="c1">// 8KB</span>
              <span class="p">}</span>
            <span class="p">},</span>
            <span class="na">generator</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">assets/images/[name].[hash:8][ext]</span><span class="dl">'</span>
            <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">]</span>
      <span class="p">},</span>

      <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
        <span class="c1">// Environment variables</span>
        <span class="k">new</span> <span class="nx">DefinePlugin</span><span class="p">({</span>
          <span class="dl">'</span><span class="s1">process.env.NODE_ENV</span><span class="dl">'</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">env</span><span class="p">),</span>
          <span class="na">__DEV__</span><span class="p">:</span> <span class="o">!</span><span class="nx">isProduction</span><span class="p">,</span>
          <span class="na">__PROD__</span><span class="p">:</span> <span class="nx">isProduction</span>
        <span class="p">}),</span>

        <span class="c1">// Build progress</span>
        <span class="k">new</span> <span class="nx">ProgressPlugin</span><span class="p">({</span>
          <span class="na">activeModules</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">entries</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">modules</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">modulesCount</span><span class="p">:</span> <span class="mi">5000</span><span class="p">,</span>
          <span class="na">profile</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="na">dependencies</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">dependenciesCount</span><span class="p">:</span> <span class="mi">10000</span>
        <span class="p">}),</span>

        <span class="c1">// CSS extraction for production</span>
        <span class="p">...(</span><span class="nx">isProduction</span> <span class="p">?</span> <span class="p">[</span>
          <span class="k">new</span> <span class="nx">MiniCssExtractPlugin</span><span class="p">({</span>
            <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">css/[name].[contenthash:8].css</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">chunkFilename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">css/[name].[contenthash:8].chunk.css</span><span class="dl">'</span>
          <span class="p">})</span>
        <span class="p">]</span> <span class="p">:</span> <span class="p">[]),</span>

        <span class="c1">// Bundle analysis</span>
        <span class="p">...(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">ANALYZE</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">true</span><span class="dl">'</span> <span class="p">?</span> <span class="p">[</span>
          <span class="k">new</span> <span class="nx">BundleAnalyzerPlugin</span><span class="p">({</span>
            <span class="na">analyzerMode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">static</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">reportFilename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bundle-report.html</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">openAnalyzer</span><span class="p">:</span> <span class="kc">false</span>
          <span class="p">})</span>
        <span class="p">]</span> <span class="p">:</span> <span class="p">[]),</span>

        <span class="c1">// Module Federation for micro-frontends</span>
        <span class="k">new</span> <span class="nx">ModuleFederationPlugin</span><span class="p">({</span>
          <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">main</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">remoteEntry.js</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">exposes</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">'</span><span class="s1">./App</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/App</span><span class="dl">'</span><span class="p">,</span>
            <span class="dl">'</span><span class="s1">./utils</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">./src/utils</span><span class="dl">'</span>
          <span class="p">},</span>
          <span class="na">shared</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">react</span><span class="p">:</span> <span class="p">{</span> <span class="na">singleton</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">requiredVersion</span><span class="p">:</span> <span class="dl">'</span><span class="s1">^18.0.0</span><span class="dl">'</span> <span class="p">},</span>
            <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">:</span> <span class="p">{</span> <span class="na">singleton</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="na">requiredVersion</span><span class="p">:</span> <span class="dl">'</span><span class="s1">^18.0.0</span><span class="dl">'</span> <span class="p">}</span>
          <span class="p">}</span>
        <span class="p">})</span>
      <span class="p">],</span>

      <span class="c1">// Development server configuration</span>
      <span class="na">devServer</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">hot</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">historyApiFallback</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">compress</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">port</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">'</span><span class="s1">Access-Control-Allow-Origin</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*</span><span class="dl">'</span>
        <span class="p">}</span>
      <span class="p">},</span>

      <span class="c1">// Performance budgets</span>
      <span class="na">performance</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">maxEntrypointSize</span><span class="p">:</span> <span class="mi">250000</span><span class="p">,</span>
        <span class="na">maxAssetSize</span><span class="p">:</span> <span class="mi">250000</span><span class="p">,</span>
        <span class="na">hints</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">warning</span><span class="dl">'</span> <span class="p">:</span> <span class="kc">false</span>
      <span class="p">},</span>

      <span class="c1">// Source maps</span>
      <span class="na">devtool</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">source-map</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">eval-cheap-module-source-map</span><span class="dl">'</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="c1">// Performance monitoring</span>
  <span class="nx">measureBuildPerformance</span><span class="p">(</span><span class="nx">startTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">):</span> <span class="nx">BuildMetrics</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">buildTime</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="vite-configuration-for-maximum-performance"><strong>Vite Configuration for Maximum Performance</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
</pre></td><td class="rouge-code"><pre><span class="c1">// vite.config.ts</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">defineConfig</span><span class="p">,</span> <span class="nx">loadEnv</span><span class="p">,</span> <span class="nx">Plugin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vite</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">react</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@vitejs/plugin-react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">resolve</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">visualizer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">rollup-plugin-visualizer</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">splitVendorChunkPlugin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">vite</span><span class="dl">'</span><span class="p">;</span>

<span class="kr">interface</span> <span class="nx">ViteOptimizationConfig</span> <span class="p">{</span>
  <span class="nl">chunkSizeWarningLimit</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">rollupOptions</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
  <span class="nl">terserOptions</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">ViteOptimizer</span> <span class="p">{</span>
  <span class="nx">createConfig</span><span class="p">(</span><span class="nx">mode</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">ViteOptimizationConfig</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">env</span> <span class="o">=</span> <span class="nx">loadEnv</span><span class="p">(</span><span class="nx">mode</span><span class="p">,</span> <span class="nx">process</span><span class="p">.</span><span class="nx">cwd</span><span class="p">(),</span> <span class="dl">''</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">isProduction</span> <span class="o">=</span> <span class="nx">mode</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">defineConfig</span><span class="p">({</span>
      <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
        <span class="nx">react</span><span class="p">({</span>
          <span class="c1">// Fast Refresh optimization</span>
          <span class="na">fastRefresh</span><span class="p">:</span> <span class="o">!</span><span class="nx">isProduction</span><span class="p">,</span>
          <span class="c1">// Babel optimization</span>
          <span class="na">babel</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
              <span class="c1">// Remove console logs in production</span>
              <span class="p">...(</span><span class="nx">isProduction</span> <span class="p">?</span> <span class="p">[[</span><span class="dl">'</span><span class="s1">babel-plugin-transform-remove-console</span><span class="dl">'</span><span class="p">]]</span> <span class="p">:</span> <span class="p">[])</span>
            <span class="p">]</span>
          <span class="p">}</span>
        <span class="p">}),</span>
        
        <span class="c1">// Vendor chunk splitting</span>
        <span class="nx">splitVendorChunkPlugin</span><span class="p">(),</span>
        
        <span class="c1">// Bundle analyzer</span>
        <span class="nx">visualizer</span><span class="p">({</span>
          <span class="na">filename</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dist/stats.html</span><span class="dl">'</span><span class="p">,</span>
          <span class="na">open</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
          <span class="na">gzipSize</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="na">brotliSize</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}),</span>

        <span class="c1">// Custom plugin for advanced optimizations</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">createAdvancedOptimizationPlugin</span><span class="p">()</span>
      <span class="p">],</span>

      <span class="c1">// Advanced resolve configuration</span>
      <span class="na">resolve</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">alias</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">'</span><span class="s1">@</span><span class="dl">'</span><span class="p">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src</span><span class="dl">'</span><span class="p">),</span>
          <span class="dl">'</span><span class="s1">@components</span><span class="dl">'</span><span class="p">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/components</span><span class="dl">'</span><span class="p">),</span>
          <span class="dl">'</span><span class="s1">@utils</span><span class="dl">'</span><span class="p">:</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">__dirname</span><span class="p">,</span> <span class="dl">'</span><span class="s1">src/utils</span><span class="dl">'</span><span class="p">),</span>
          <span class="c1">// Performance alias for lighter alternatives</span>
          <span class="dl">'</span><span class="s1">moment</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dayjs</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">lodash</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">lodash-es</span><span class="dl">'</span>
        <span class="p">},</span>
        <span class="c1">// Dedupe packages</span>
        <span class="na">dedupe</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">]</span>
      <span class="p">},</span>

      <span class="c1">// Build optimization</span>
      <span class="na">build</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">target</span><span class="p">:</span> <span class="dl">'</span><span class="s1">es2015</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">outDir</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">,</span>
        <span class="na">sourcemap</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="kc">true</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="na">minify</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">terser</span><span class="dl">'</span> <span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        
        <span class="c1">// Performance budget</span>
        <span class="na">chunkSizeWarningLimit</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
        
        <span class="na">rollupOptions</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">output</span><span class="p">:</span> <span class="p">{</span>
            <span class="c1">// Advanced chunking strategy</span>
            <span class="na">manualChunks</span><span class="p">:</span> <span class="p">{</span>
              <span class="c1">// Framework chunks</span>
              <span class="dl">'</span><span class="s1">react-vendor</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">],</span>
              <span class="dl">'</span><span class="s1">router</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react-router-dom</span><span class="dl">'</span><span class="p">],</span>
              
              <span class="c1">// UI library chunks</span>
              <span class="dl">'</span><span class="s1">ui-vendor</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@mui/material</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">@emotion/react</span><span class="dl">'</span><span class="p">],</span>
              
              <span class="c1">// Utility chunks</span>
              <span class="dl">'</span><span class="s1">utils</span><span class="dl">'</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">lodash-es</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">dayjs</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">]</span>
            <span class="p">},</span>
            
            <span class="c1">// Optimize chunk naming</span>
            <span class="na">chunkFileNames</span><span class="p">:</span> <span class="p">(</span><span class="nx">chunkInfo</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
              <span class="kd">const</span> <span class="nx">facadeModuleId</span> <span class="o">=</span> <span class="nx">chunkInfo</span><span class="p">.</span><span class="nx">facadeModuleId</span> 
                <span class="p">?</span> <span class="nx">chunkInfo</span><span class="p">.</span><span class="nx">facadeModuleId</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">).</span><span class="nx">pop</span><span class="p">()?.</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">.tsx</span><span class="dl">'</span><span class="p">,</span> <span class="dl">''</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="dl">'</span><span class="s1">.ts</span><span class="dl">'</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
                <span class="p">:</span> <span class="dl">'</span><span class="s1">chunk</span><span class="dl">'</span><span class="p">;</span>
              <span class="k">return</span> <span class="s2">`js/</span><span class="p">${</span><span class="nx">facadeModuleId</span><span class="p">}</span><span class="s2">-[hash].js`</span><span class="p">;</span>
            <span class="p">}</span>
          <span class="p">},</span>
          
          <span class="c1">// External dependencies for CDN</span>
          <span class="na">external</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">]</span> <span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>

        <span class="c1">// Terser optimization</span>
        <span class="na">terserOptions</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">compress</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">drop_console</span><span class="p">:</span> <span class="nx">isProduction</span><span class="p">,</span>
            <span class="na">drop_debugger</span><span class="p">:</span> <span class="nx">isProduction</span><span class="p">,</span>
            <span class="na">pure_funcs</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">console.log</span><span class="dl">'</span><span class="p">],</span>
            <span class="c1">// Advanced optimizations</span>
            <span class="na">unsafe_arrows</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">unsafe_methods</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">unsafe_proto</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="na">unsafe_regexp</span><span class="p">:</span> <span class="kc">true</span>
          <span class="p">},</span>
          <span class="na">mangle</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">properties</span><span class="p">:</span> <span class="p">{</span>
              <span class="na">regex</span><span class="p">:</span> <span class="sr">/^_/</span>
            <span class="p">}</span>
          <span class="p">},</span>
          <span class="na">format</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">comments</span><span class="p">:</span> <span class="kc">false</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">},</span>

      <span class="c1">// Development server optimization</span>
      <span class="na">server</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">port</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="na">host</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="na">cors</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="c1">// HMR optimization</span>
        <span class="na">hmr</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">overlay</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
      <span class="p">},</span>

      <span class="c1">// Dependency optimization</span>
      <span class="na">optimizeDeps</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">include</span><span class="p">:</span> <span class="p">[</span>
          <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">react-router-dom</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">axios</span><span class="dl">'</span><span class="p">,</span>
          <span class="dl">'</span><span class="s1">lodash-es</span><span class="dl">'</span>
        <span class="p">],</span>
        <span class="na">exclude</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">@vite/client</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">@vite/env</span><span class="dl">'</span><span class="p">]</span>
      <span class="p">},</span>

      <span class="c1">// CSS optimization</span>
      <span class="na">css</span><span class="p">:</span> <span class="p">{</span>
        <span class="na">modules</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">localsConvention</span><span class="p">:</span> <span class="dl">'</span><span class="s1">camelCase</span><span class="dl">'</span>
        <span class="p">},</span>
        <span class="na">preprocessorOptions</span><span class="p">:</span> <span class="p">{</span>
          <span class="na">scss</span><span class="p">:</span> <span class="p">{</span>
            <span class="na">additionalData</span><span class="p">:</span> <span class="s2">`@import "@/styles/variables.scss";`</span>
          <span class="p">}</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">createAdvancedOptimizationPlugin</span><span class="p">():</span> <span class="nx">Plugin</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">advanced-optimization</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">buildStart</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1"> Starting optimized build...</span><span class="dl">'</span><span class="p">);</span>
      <span class="p">},</span>
      <span class="nx">generateBundle</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">bundle</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Analyze bundle composition</span>
        <span class="kd">const</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">values</span><span class="p">(</span><span class="nx">bundle</span><span class="p">).</span><span class="nx">filter</span><span class="p">(</span><span class="nx">chunk</span> <span class="o">=&gt;</span> <span class="nx">chunk</span><span class="p">.</span><span class="kd">type</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">chunk</span><span class="dl">'</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">totalSize</span> <span class="o">=</span> <span class="nx">chunks</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">size</span><span class="p">,</span> <span class="nx">chunk</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">size</span> <span class="o">+</span> <span class="nx">chunk</span><span class="p">.</span><span class="nx">code</span><span class="p">.</span><span class="nx">length</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">` Generated </span><span class="p">${</span><span class="nx">chunks</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2"> chunks, total size: </span><span class="p">${(</span><span class="nx">totalSize</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2">KB`</span><span class="p">);</span>
        
        <span class="c1">// Warn about large chunks</span>
        <span class="nx">chunks</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">chunk</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">chunk</span><span class="p">.</span><span class="nx">code</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">500000</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 500KB</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">`  Large chunk detected: </span><span class="p">${</span><span class="nx">chunk</span><span class="p">.</span><span class="nx">fileName</span><span class="p">}</span><span class="s2"> (</span><span class="p">${(</span><span class="nx">chunk</span><span class="p">.</span><span class="nx">code</span><span class="p">.</span><span class="nx">length</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2">KB)`</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="esbuild-for-maximum-speed"><strong>esbuild for Maximum Speed</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
</pre></td><td class="rouge-code"><pre><span class="c1">// esbuild.config.ts</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">build</span><span class="p">,</span> <span class="nx">BuildOptions</span><span class="p">,</span> <span class="nx">Plugin</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">esbuild</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">resolve</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">path</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ESBuildOptimizer</span> <span class="p">{</span>
  <span class="k">async</span> <span class="nx">createOptimizedBuild</span><span class="p">(</span><span class="nx">mode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">development</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">isProduction</span> <span class="o">=</span> <span class="nx">mode</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">production</span><span class="dl">'</span><span class="p">;</span>

    <span class="kd">const</span> <span class="na">config</span><span class="p">:</span> <span class="nx">BuildOptions</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">entryPoints</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">src/index.tsx</span><span class="dl">'</span><span class="p">],</span>
      <span class="na">bundle</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">outdir</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dist</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">format</span><span class="p">:</span> <span class="dl">'</span><span class="s1">esm</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">target</span><span class="p">:</span> <span class="dl">'</span><span class="s1">es2020</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">platform</span><span class="p">:</span> <span class="dl">'</span><span class="s1">browser</span><span class="dl">'</span><span class="p">,</span>
      
      <span class="c1">// Advanced splitting</span>
      <span class="na">splitting</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">chunkNames</span><span class="p">:</span> <span class="dl">'</span><span class="s1">chunks/[name]-[hash]</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">assetNames</span><span class="p">:</span> <span class="dl">'</span><span class="s1">assets/[name]-[hash]</span><span class="dl">'</span><span class="p">,</span>
      
      <span class="c1">// Optimization</span>
      <span class="na">minify</span><span class="p">:</span> <span class="nx">isProduction</span><span class="p">,</span>
      <span class="na">sourcemap</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">external</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">inline</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">treeShaking</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      
      <span class="c1">// Define globals</span>
      <span class="na">define</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">process.env.NODE_ENV</span><span class="dl">'</span><span class="p">:</span> <span class="s2">`"</span><span class="p">${</span><span class="nx">mode</span><span class="p">}</span><span class="s2">"`</span><span class="p">,</span>
        <span class="na">__DEV__</span><span class="p">:</span> <span class="nb">String</span><span class="p">(</span><span class="o">!</span><span class="nx">isProduction</span><span class="p">)</span>
      <span class="p">},</span>
      
      <span class="c1">// Loader configuration</span>
      <span class="na">loader</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">'</span><span class="s1">.png</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">file</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">.jpg</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">file</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">.svg</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">dataurl</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">.woff</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">file</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">.woff2</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">file</span><span class="dl">'</span>
      <span class="p">},</span>
      
      <span class="c1">// External dependencies</span>
      <span class="na">external</span><span class="p">:</span> <span class="nx">isProduction</span> <span class="p">?</span> <span class="p">[]</span> <span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">],</span>
      
      <span class="c1">// Plugins</span>
      <span class="na">plugins</span><span class="p">:</span> <span class="p">[</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">createReactPlugin</span><span class="p">(),</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">createCSSPlugin</span><span class="p">(),</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">createAnalysisPlugin</span><span class="p">()</span>
      <span class="p">],</span>
      
      <span class="c1">// Advanced options</span>
      <span class="na">metafile</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      <span class="na">write</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
      
      <span class="c1">// Performance</span>
      <span class="na">logLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">info</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">color</span><span class="p">:</span> <span class="kc">true</span>
    <span class="p">};</span>

    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">build</span><span class="p">(</span><span class="nx">config</span><span class="p">);</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">metafile</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">analyzeBundle</span><span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">metafile</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">createReactPlugin</span><span class="p">():</span> <span class="nx">Plugin</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">setup</span><span class="p">(</span><span class="nx">build</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// Handle JSX</span>
        <span class="nx">build</span><span class="p">.</span><span class="nx">onResolve</span><span class="p">({</span> <span class="na">filter</span><span class="p">:</span> <span class="sr">/^react$/</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
          <span class="na">path</span><span class="p">:</span> <span class="nx">require</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">),</span>
          <span class="na">external</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}));</span>

        <span class="nx">build</span><span class="p">.</span><span class="nx">onResolve</span><span class="p">({</span> <span class="na">filter</span><span class="p">:</span> <span class="sr">/^react-dom$/</span> <span class="p">},</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">({</span>
          <span class="na">path</span><span class="p">:</span> <span class="nx">require</span><span class="p">.</span><span class="nx">resolve</span><span class="p">(</span><span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">),</span>
          <span class="na">external</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}));</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">createCSSPlugin</span><span class="p">():</span> <span class="nx">Plugin</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">css</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">setup</span><span class="p">(</span><span class="nx">build</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">build</span><span class="p">.</span><span class="nx">onLoad</span><span class="p">({</span> <span class="na">filter</span><span class="p">:</span> <span class="sr">/</span><span class="se">\.</span><span class="sr">css$/</span> <span class="p">},</span> <span class="k">async</span> <span class="p">(</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">css</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fs</span><span class="p">.</span><span class="nx">readFile</span><span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">path</span><span class="p">,</span> <span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">);</span>
          
          <span class="c1">// Simple CSS modules implementation</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">args</span><span class="p">.</span><span class="nx">path</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">'</span><span class="s1">.module.css</span><span class="dl">'</span><span class="p">))</span> <span class="p">{</span>
            <span class="kd">const</span> <span class="nx">className</span> <span class="o">=</span> <span class="s2">`module_</span><span class="p">${</span><span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mi">36</span><span class="p">).</span><span class="nx">substr</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">9</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
            <span class="kd">const</span> <span class="nx">processedCSS</span> <span class="o">=</span> <span class="nx">css</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/</span><span class="se">\.([</span><span class="sr">a-zA-Z</span><span class="se">][\w</span><span class="sr">-</span><span class="se">]</span><span class="sr">*</span><span class="se">)</span><span class="sr">/g</span><span class="p">,</span> <span class="s2">`.</span><span class="p">${</span><span class="nx">className</span><span class="p">}</span><span class="s2">_$1`</span><span class="p">);</span>
            
            <span class="k">return</span> <span class="p">{</span>
              <span class="na">contents</span><span class="p">:</span> <span class="s2">`
                const style = document.createElement('style');
                style.textContent = </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">processedCSS</span><span class="p">)}</span><span class="s2">;
                document.head.appendChild(style);
                export default </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span> <span class="nx">className</span> <span class="p">})}</span><span class="s2">;
              `</span><span class="p">,</span>
              <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">js</span><span class="dl">'</span>
            <span class="p">};</span>
          <span class="p">}</span>
          
          <span class="k">return</span> <span class="p">{</span>
            <span class="na">contents</span><span class="p">:</span> <span class="s2">`
              const style = document.createElement('style');
              style.textContent = </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">css</span><span class="p">)}</span><span class="s2">;
              document.head.appendChild(style);
            `</span><span class="p">,</span>
            <span class="na">loader</span><span class="p">:</span> <span class="dl">'</span><span class="s1">js</span><span class="dl">'</span>
          <span class="p">};</span>
        <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="nx">createAnalysisPlugin</span><span class="p">():</span> <span class="nx">Plugin</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">analysis</span><span class="dl">'</span><span class="p">,</span>
      <span class="nx">setup</span><span class="p">(</span><span class="nx">build</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="na">startTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
        
        <span class="nx">build</span><span class="p">.</span><span class="nx">onStart</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">startTime</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">  Starting esbuild...</span><span class="dl">'</span><span class="p">);</span>
        <span class="p">});</span>
        
        <span class="nx">build</span><span class="p">.</span><span class="nx">onEnd</span><span class="p">((</span><span class="nx">result</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">;</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">` Build completed in </span><span class="p">${</span><span class="nx">duration</span><span class="p">}</span><span class="s2">ms`</span><span class="p">);</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">errors</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1"> Build errors:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>
          <span class="p">}</span>
          
          <span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">warnings</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="dl">'</span><span class="s1">  Build warnings:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">result</span><span class="p">.</span><span class="nx">warnings</span><span class="p">);</span>
          <span class="p">}</span>
        <span class="p">});</span>
      <span class="p">}</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">async</span> <span class="nx">analyzeBundle</span><span class="p">(</span><span class="nx">metafile</span><span class="p">:</span> <span class="kr">any</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">analysis</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">analyze</span><span class="p">(</span><span class="nx">metafile</span><span class="p">);</span>
    
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="se">\n</span><span class="s1"> Bundle Analysis:</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Total size: </span><span class="p">${(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">bytes</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2">KB`</span><span class="p">);</span>
    
    <span class="c1">// Show largest modules</span>
    <span class="kd">const</span> <span class="nx">modules</span> <span class="o">=</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">entries</span><span class="p">(</span><span class="nx">analysis</span><span class="p">.</span><span class="nx">inputs</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">sort</span><span class="p">(([,</span><span class="nx">a</span><span class="p">],</span> <span class="p">[,</span><span class="nx">b</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">b</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">bytes</span> <span class="o">-</span> <span class="p">(</span><span class="nx">a</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">bytes</span><span class="p">)</span>
      <span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
    
    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="se">\n</span><span class="s1"> Largest modules:</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">modules</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(([</span><span class="nx">path</span><span class="p">,</span> <span class="nx">info</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`  </span><span class="p">${</span><span class="nx">path</span><span class="p">}</span><span class="s2">: </span><span class="p">${((</span><span class="nx">info</span> <span class="k">as</span> <span class="kr">any</span><span class="p">).</span><span class="nx">bytes</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2">KB`</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="cicd-pipeline-implementation">CI/CD Pipeline Implementation</h2>

<h3 id="github-actions-for-frontend"><strong>GitHub Actions for Frontend</strong></h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
</pre></td><td class="rouge-code"><pre><span class="c1"># .github/workflows/frontend-ci-cd.yml</span>
<span class="na">name</span><span class="pi">:</span> <span class="s">Frontend CI/CD Pipeline</span>

<span class="na">on</span><span class="pi">:</span>
  <span class="na">push</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">main</span><span class="pi">,</span> <span class="nv">develop</span><span class="pi">]</span>
  <span class="na">pull_request</span><span class="pi">:</span>
    <span class="na">branches</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">main</span><span class="pi">]</span>

<span class="na">env</span><span class="pi">:</span>
  <span class="na">NODE_VERSION</span><span class="pi">:</span> <span class="s1">'</span><span class="s">18.x'</span>
  <span class="na">CACHE_KEY</span><span class="pi">:</span> <span class="s">v1</span>

<span class="na">jobs</span><span class="pi">:</span>
  <span class="c1"># Quality checks</span>
  <span class="na">quality</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Quality Checks</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Setup Node.js</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/setup-node@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">node-version</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">cache</span><span class="pi">:</span> <span class="s1">'</span><span class="s">npm'</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm ci</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run linting</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run lint:ci</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run type checking</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run type-check</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run tests with coverage</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run test:coverage</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Upload coverage to Codecov</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">codecov/codecov-action@v3</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Security audit</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm audit --audit-level=high</span>

  <span class="c1"># Build and test</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Build Application</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">quality</span>
    
    <span class="na">strategy</span><span class="pi">:</span>
      <span class="na">matrix</span><span class="pi">:</span>
        <span class="na">build-type</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">development</span><span class="pi">,</span> <span class="nv">production</span><span class="pi">]</span>
        
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Setup Node.js</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/setup-node@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">node-version</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">cache</span><span class="pi">:</span> <span class="s1">'</span><span class="s">npm'</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Install dependencies</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm ci</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Build application</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run build:$</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">NODE_ENV</span><span class="pi">:</span> <span class="s">$</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Analyze bundle size</span>
        <span class="na">if</span><span class="pi">:</span> <span class="s">matrix.build-type == 'production'</span>
        <span class="na">run</span><span class="pi">:</span> <span class="s">npm run analyze</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Upload build artifacts</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/upload-artifact@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">build-$</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">dist/</span>
          <span class="na">retention-days</span><span class="pi">:</span> <span class="m">7</span>

  <span class="c1"># Performance testing</span>
  <span class="na">performance</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Performance Testing</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">build</span>
    
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Download build artifacts</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/download-artifact@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">build-production</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">dist/</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Start test server</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">npm install -g serve</span>
          <span class="s">serve -s dist -p 3000 &amp;</span>
          <span class="s">sleep 5</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run Lighthouse CI</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">treosh/lighthouse-ci-action@v9</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">configPath</span><span class="pi">:</span> <span class="s1">'</span><span class="s">.lighthouserc.json'</span>
          <span class="na">uploadArtifacts</span><span class="pi">:</span> <span class="no">true</span>
          <span class="na">temporaryPublicStorage</span><span class="pi">:</span> <span class="no">true</span>

  <span class="c1"># Visual regression testing</span>
  <span class="na">visual-testing</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Visual Regression Testing</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">build</span>
    
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Download build artifacts</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/download-artifact@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">build-production</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">dist/</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run Percy visual tests</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">percy/exec-action@v0.3.1</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">command</span><span class="pi">:</span> <span class="s">npm run test:visual</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">PERCY_TOKEN</span><span class="pi">:</span> <span class="s">$</span>

  <span class="c1"># Security scanning</span>
  <span class="na">security</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Security Scanning</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="s">quality</span>
    
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Checkout code</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/checkout@v3</span>
        
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Run Snyk security scan</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">snyk/actions/node@master</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">SNYK_TOKEN</span><span class="pi">:</span> <span class="s">$</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">args</span><span class="pi">:</span> <span class="s">--severity-threshold=high</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Upload Snyk results</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">github/codeql-action/upload-sarif@v2</span>
        <span class="na">if</span><span class="pi">:</span> <span class="s">always()</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">sarif_file</span><span class="pi">:</span> <span class="s">snyk.sarif</span>

  <span class="c1"># Deployment</span>
  <span class="na">deploy</span><span class="pi">:</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy to Environment</span>
    <span class="na">runs-on</span><span class="pi">:</span> <span class="s">ubuntu-latest</span>
    <span class="na">needs</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">build</span><span class="pi">,</span> <span class="nv">performance</span><span class="pi">,</span> <span class="nv">visual-testing</span><span class="pi">,</span> <span class="nv">security</span><span class="pi">]</span>
    <span class="na">if</span><span class="pi">:</span> <span class="s">github.ref == 'refs/heads/main'</span>
    
    <span class="na">environment</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">production</span>
      <span class="na">url</span><span class="pi">:</span> <span class="s">https://your-app.com</span>
      
    <span class="na">steps</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Download build artifacts</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">actions/download-artifact@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">name</span><span class="pi">:</span> <span class="s">build-production</span>
          <span class="na">path</span><span class="pi">:</span> <span class="s">dist/</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Deploy to AWS S3</span>
        <span class="na">run</span><span class="pi">:</span> <span class="pi">|</span>
          <span class="s">aws s3 sync dist/ s3://$ --delete</span>
          <span class="s">aws cloudfront create-invalidation --distribution-id $ --paths "/*"</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">AWS_ACCESS_KEY_ID</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">AWS_SECRET_ACCESS_KEY</span><span class="pi">:</span> <span class="s">$</span>
          <span class="na">AWS_DEFAULT_REGION</span><span class="pi">:</span> <span class="s">us-east-1</span>
          
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">Notify deployment</span>
        <span class="na">uses</span><span class="pi">:</span> <span class="s">8398a7/action-slack@v3</span>
        <span class="na">with</span><span class="pi">:</span>
          <span class="na">status</span><span class="pi">:</span> <span class="s">success</span>
          <span class="na">text</span><span class="pi">:</span> <span class="s1">'</span><span class="s">Frontend</span><span class="nv"> </span><span class="s">deployment</span><span class="nv"> </span><span class="s">completed</span><span class="nv"> </span><span class="s">successfully!</span><span class="nv"> </span><span class="s">'</span>
        <span class="na">env</span><span class="pi">:</span>
          <span class="na">SLACK_WEBHOOK_URL</span><span class="pi">:</span> <span class="s">$</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="advanced-performance-monitoring"><strong>Advanced Performance Monitoring</strong></h3>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
</pre></td><td class="rouge-code"><pre><span class="c1">// performance-monitor.ts</span>
<span class="kr">interface</span> <span class="nx">PerformanceMetrics</span> <span class="p">{</span>
  <span class="nl">buildTime</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">bundleSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">cacheHitRate</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">testCoverage</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
  <span class="nl">lighthouseScore</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nx">CIPerfomanceMonitor</span> <span class="p">{</span>
  <span class="k">private</span> <span class="nx">metrics</span><span class="p">:</span> <span class="nx">PerformanceMetrics</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">private</span> <span class="nx">thresholds</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">buildTime</span><span class="p">:</span> <span class="mi">180000</span><span class="p">,</span> <span class="c1">// 3 minutes</span>
    <span class="na">bundleSize</span><span class="p">:</span> <span class="mi">500000</span><span class="p">,</span> <span class="c1">// 500KB</span>
    <span class="na">cacheHitRate</span><span class="p">:</span> <span class="mf">0.8</span><span class="p">,</span> <span class="c1">// 80%</span>
    <span class="na">testCoverage</span><span class="p">:</span> <span class="mf">0.85</span><span class="p">,</span> <span class="c1">// 85%</span>
    <span class="na">lighthouseScore</span><span class="p">:</span> <span class="mi">90</span> <span class="c1">// 90/100</span>
  <span class="p">};</span>

  <span class="k">async</span> <span class="nx">measureBuildPerformance</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">PerformanceMetrics</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">startTime</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>
    
    <span class="c1">// Measure bundle size</span>
    <span class="kd">const</span> <span class="nx">bundleStats</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">analyzeBundleSize</span><span class="p">();</span>
    
    <span class="c1">// Check cache performance</span>
    <span class="kd">const</span> <span class="nx">cacheStats</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">analyzeCachePerformance</span><span class="p">();</span>
    
    <span class="c1">// Get test coverage</span>
    <span class="kd">const</span> <span class="nx">coverage</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">getTestCoverage</span><span class="p">();</span>
    
    <span class="c1">// Run Lighthouse</span>
    <span class="kd">const</span> <span class="nx">lighthouseScore</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">runLighthouseTest</span><span class="p">();</span>
    
    <span class="kd">const</span> <span class="na">metrics</span><span class="p">:</span> <span class="nx">PerformanceMetrics</span> <span class="o">=</span> <span class="p">{</span>
      <span class="na">buildTime</span><span class="p">:</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">startTime</span><span class="p">,</span>
      <span class="na">bundleSize</span><span class="p">:</span> <span class="nx">bundleStats</span><span class="p">.</span><span class="nx">totalSize</span><span class="p">,</span>
      <span class="na">cacheHitRate</span><span class="p">:</span> <span class="nx">cacheStats</span><span class="p">.</span><span class="nx">hitRate</span><span class="p">,</span>
      <span class="na">testCoverage</span><span class="p">:</span> <span class="nx">coverage</span><span class="p">.</span><span class="nx">percentage</span><span class="p">,</span>
      <span class="na">lighthouseScore</span><span class="p">:</span> <span class="nx">lighthouseScore</span><span class="p">.</span><span class="nx">performance</span>
    <span class="p">};</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">metrics</span><span class="p">);</span>
    <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">validateMetrics</span><span class="p">(</span><span class="nx">metrics</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">async</span> <span class="nx">analyzeBundleSize</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">totalSize</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">chunks</span><span class="p">:</span> <span class="kr">any</span><span class="p">[]</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./dist/stats.json</span><span class="dl">'</span><span class="p">);</span>
    
    <span class="kd">const</span> <span class="nx">totalSize</span> <span class="o">=</span> <span class="nx">stats</span><span class="p">.</span><span class="nx">assets</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="na">sum</span><span class="p">:</span> <span class="kr">number</span><span class="p">,</span> <span class="na">asset</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">sum</span> <span class="o">+</span> <span class="nx">asset</span><span class="p">.</span><span class="nx">size</span><span class="p">;</span>
    <span class="p">},</span> <span class="mi">0</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">chunks</span> <span class="o">=</span> <span class="nx">stats</span><span class="p">.</span><span class="nx">chunks</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="na">chunk</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">({</span>
      <span class="na">name</span><span class="p">:</span> <span class="nx">chunk</span><span class="p">.</span><span class="nx">names</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span>
      <span class="na">size</span><span class="p">:</span> <span class="nx">chunk</span><span class="p">.</span><span class="nx">size</span><span class="p">,</span>
      <span class="na">modules</span><span class="p">:</span> <span class="nx">chunk</span><span class="p">.</span><span class="nx">modules</span><span class="p">?.</span><span class="nx">length</span> <span class="o">||</span> <span class="mi">0</span>
    <span class="p">}));</span>

    <span class="k">return</span> <span class="p">{</span> <span class="nx">totalSize</span><span class="p">,</span> <span class="nx">chunks</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">async</span> <span class="nx">analyzeCachePerformance</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">hitRate</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">totalRequests</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="c1">// Analyze cache headers and hit rates</span>
    <span class="kd">const</span> <span class="nx">cacheReport</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/cache-stats</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="nx">r</span> <span class="o">=&gt;</span> <span class="nx">r</span><span class="p">.</span><span class="nx">json</span><span class="p">());</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">hitRate</span><span class="p">:</span> <span class="nx">cacheReport</span><span class="p">.</span><span class="nx">hits</span> <span class="o">/</span> <span class="nx">cacheReport</span><span class="p">.</span><span class="nx">total</span><span class="p">,</span>
      <span class="na">totalRequests</span><span class="p">:</span> <span class="nx">cacheReport</span><span class="p">.</span><span class="nx">total</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">async</span> <span class="nx">getTestCoverage</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">percentage</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">lines</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">functions</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">coverage</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">./coverage/coverage-summary.json</span><span class="dl">'</span><span class="p">);</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">percentage</span><span class="p">:</span> <span class="nx">coverage</span><span class="p">.</span><span class="nx">total</span><span class="p">.</span><span class="nx">lines</span><span class="p">.</span><span class="nx">pct</span> <span class="o">/</span> <span class="mi">100</span><span class="p">,</span>
      <span class="na">lines</span><span class="p">:</span> <span class="nx">coverage</span><span class="p">.</span><span class="nx">total</span><span class="p">.</span><span class="nx">lines</span><span class="p">.</span><span class="nx">covered</span><span class="p">,</span>
      <span class="na">functions</span><span class="p">:</span> <span class="nx">coverage</span><span class="p">.</span><span class="nx">total</span><span class="p">.</span><span class="nx">functions</span><span class="p">.</span><span class="nx">covered</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">async</span> <span class="nx">runLighthouseTest</span><span class="p">():</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="p">{</span> <span class="na">performance</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">accessibility</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">bestPractices</span><span class="p">:</span> <span class="kr">number</span><span class="p">;</span> <span class="nl">seo</span><span class="p">:</span> <span class="kr">number</span> <span class="p">}</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">lighthouse</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">lighthouse</span><span class="dl">'</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">chromeLauncher</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">chrome-launcher</span><span class="dl">'</span><span class="p">);</span>

    <span class="kd">const</span> <span class="nx">chrome</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">chromeLauncher</span><span class="p">.</span><span class="nx">launch</span><span class="p">({</span> <span class="na">chromeFlags</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">--headless</span><span class="dl">'</span><span class="p">]</span> <span class="p">});</span>
    <span class="kd">const</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{</span> <span class="na">logLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">info</span><span class="dl">'</span><span class="p">,</span> <span class="na">output</span><span class="p">:</span> <span class="dl">'</span><span class="s1">json</span><span class="dl">'</span><span class="p">,</span> <span class="na">port</span><span class="p">:</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">port</span> <span class="p">};</span>
    
    <span class="kd">const</span> <span class="nx">runnerResult</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">lighthouse</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://localhost:3000</span><span class="dl">'</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">chrome</span><span class="p">.</span><span class="nx">kill</span><span class="p">();</span>

    <span class="kd">const</span> <span class="nx">scores</span> <span class="o">=</span> <span class="nx">runnerResult</span><span class="p">.</span><span class="nx">lhr</span><span class="p">.</span><span class="nx">categories</span><span class="p">;</span>
    
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">performance</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">scores</span><span class="p">.</span><span class="nx">performance</span><span class="p">.</span><span class="nx">score</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span>
      <span class="na">accessibility</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">scores</span><span class="p">.</span><span class="nx">accessibility</span><span class="p">.</span><span class="nx">score</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span>
      <span class="na">bestPractices</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">scores</span><span class="p">[</span><span class="dl">'</span><span class="s1">best-practices</span><span class="dl">'</span><span class="p">].</span><span class="nx">score</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span>
      <span class="na">seo</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="nx">scores</span><span class="p">.</span><span class="nx">seo</span><span class="p">.</span><span class="nx">score</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
    <span class="p">};</span>
  <span class="p">}</span>

  <span class="k">private</span> <span class="k">async</span> <span class="nx">validateMetrics</span><span class="p">(</span><span class="nx">metrics</span><span class="p">:</span> <span class="nx">PerformanceMetrics</span><span class="p">):</span> <span class="nb">Promise</span><span class="o">&lt;</span><span class="k">void</span><span class="o">&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="na">violations</span><span class="p">:</span> <span class="kr">string</span><span class="p">[]</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">buildTime</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">buildTime</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">violations</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">`Build time exceeded threshold: </span><span class="p">${</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">buildTime</span><span class="p">}</span><span class="s2">ms &gt; </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">buildTime</span><span class="p">}</span><span class="s2">ms`</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">bundleSize</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">bundleSize</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">violations</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">`Bundle size exceeded threshold: </span><span class="p">${</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">bundleSize</span><span class="p">}</span><span class="s2"> bytes &gt; </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">bundleSize</span><span class="p">}</span><span class="s2"> bytes`</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">cacheHitRate</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">cacheHitRate</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">violations</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">`Cache hit rate below threshold: </span><span class="p">${</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">cacheHitRate</span><span class="p">}</span><span class="s2"> &lt; </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">cacheHitRate</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">testCoverage</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">testCoverage</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">violations</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">`Test coverage below threshold: </span><span class="p">${</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">testCoverage</span><span class="p">}</span><span class="s2"> &lt; </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">testCoverage</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">lighthouseScore</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">lighthouseScore</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">violations</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="s2">`Lighthouse score below threshold: </span><span class="p">${</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">lighthouseScore</span><span class="p">}</span><span class="s2"> &lt; </span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">thresholds</span><span class="p">.</span><span class="nx">lighthouseScore</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">violations</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1"> Performance thresholds violated:</span><span class="dl">'</span><span class="p">);</span>
      <span class="nx">violations</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">violation</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">`  - </span><span class="p">${</span><span class="nx">violation</span><span class="p">}</span><span class="s2">`</span><span class="p">));</span>
      
      <span class="c1">// Fail the build if in CI</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">process</span><span class="p">.</span><span class="nx">env</span><span class="p">.</span><span class="nx">CI</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">process</span><span class="p">.</span><span class="nx">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1"> All performance thresholds met!</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">generatePerformanceReport</span><span class="p">():</span> <span class="kr">string</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">latest</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
    <span class="kd">const</span> <span class="nx">previous</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">2</span><span class="p">];</span>

    <span class="kd">let</span> <span class="nx">report</span> <span class="o">=</span> <span class="dl">'</span><span class="s1"> **Performance Report**</span><span class="se">\n\n</span><span class="dl">'</span><span class="p">;</span>
    
    <span class="k">if</span> <span class="p">(</span><span class="nx">previous</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">buildTimeDiff</span> <span class="o">=</span> <span class="p">((</span><span class="nx">latest</span><span class="p">.</span><span class="nx">buildTime</span> <span class="o">-</span> <span class="nx">previous</span><span class="p">.</span><span class="nx">buildTime</span><span class="p">)</span> <span class="o">/</span> <span class="nx">previous</span><span class="p">.</span><span class="nx">buildTime</span> <span class="o">*</span> <span class="mi">100</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="kd">const</span> <span class="nx">bundleSizeDiff</span> <span class="o">=</span> <span class="p">((</span><span class="nx">latest</span><span class="p">.</span><span class="nx">bundleSize</span> <span class="o">-</span> <span class="nx">previous</span><span class="p">.</span><span class="nx">bundleSize</span><span class="p">)</span> <span class="o">/</span> <span class="nx">previous</span><span class="p">.</span><span class="nx">bundleSize</span> <span class="o">*</span> <span class="mi">100</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Build Time**: </span><span class="p">${</span><span class="nx">latest</span><span class="p">.</span><span class="nx">buildTime</span><span class="p">}</span><span class="s2">ms (</span><span class="p">${</span><span class="nx">buildTimeDiff</span><span class="p">}</span><span class="s2">% change)\n`</span><span class="p">;</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Bundle Size**: </span><span class="p">${(</span><span class="nx">latest</span><span class="p">.</span><span class="nx">bundleSize</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2">KB (</span><span class="p">${</span><span class="nx">bundleSizeDiff</span><span class="p">}</span><span class="s2">% change)\n`</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Build Time**: </span><span class="p">${</span><span class="nx">latest</span><span class="p">.</span><span class="nx">buildTime</span><span class="p">}</span><span class="s2">ms\n`</span><span class="p">;</span>
      <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Bundle Size**: </span><span class="p">${(</span><span class="nx">latest</span><span class="p">.</span><span class="nx">bundleSize</span> <span class="o">/</span> <span class="mi">1024</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">)}</span><span class="s2">KB\n`</span><span class="p">;</span>
    <span class="p">}</span>
    
    <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Cache Hit Rate**: </span><span class="p">${(</span><span class="nx">latest</span><span class="p">.</span><span class="nx">cacheHitRate</span> <span class="o">*</span> <span class="mi">100</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">1</span><span class="p">)}</span><span class="s2">%\n`</span><span class="p">;</span>
    <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Test Coverage**: </span><span class="p">${(</span><span class="nx">latest</span><span class="p">.</span><span class="nx">testCoverage</span> <span class="o">*</span> <span class="mi">100</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">1</span><span class="p">)}</span><span class="s2">%\n`</span><span class="p">;</span>
    <span class="nx">report</span> <span class="o">+=</span> <span class="s2">`**Lighthouse Score**: </span><span class="p">${</span><span class="nx">latest</span><span class="p">.</span><span class="nx">lighthouseScore</span><span class="p">}</span><span class="s2">/100\n`</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">report</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="docker-optimization-for-frontend"><strong>Docker Optimization for Frontend</strong></h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre></td><td class="rouge-code"><pre><span class="c"># Dockerfile.frontend</span>
<span class="c"># Multi-stage build for optimal image size</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">node:18-alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">base</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>
<span class="k">COPY</span><span class="s"> package*.json ./</span>

<span class="c"># Dependencies stage</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">base</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">deps</span>
<span class="k">RUN </span>npm ci <span class="nt">--only</span><span class="o">=</span>production <span class="o">&amp;&amp;</span> npm cache clean <span class="nt">--force</span>

<span class="c"># Build stage</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">base</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">build</span>
<span class="k">COPY</span><span class="s"> . .</span>
<span class="k">RUN </span>npm ci
<span class="k">RUN </span>npm run build
<span class="k">RUN </span>npm run <span class="nb">test</span>:ci

<span class="c"># Production stage</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">nginx:alpine</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">production</span>

<span class="c"># Security: Run as non-root user</span>
<span class="k">RUN </span>addgroup <span class="nt">-g</span> 1001 <span class="nt">-S</span> nodejs <span class="o">&amp;&amp;</span> <span class="se">\
</span>    adduser <span class="nt">-S</span> nextjs <span class="nt">-u</span> 1001

<span class="c"># Copy built application</span>
<span class="k">COPY</span><span class="s"> --from=build --chown=nextjs:nodejs /app/dist /usr/share/nginx/html</span>

<span class="c"># Copy optimized nginx configuration</span>
<span class="k">COPY</span><span class="s"> nginx.conf /etc/nginx/nginx.conf</span>

<span class="c"># Health check</span>
<span class="k">HEALTHCHECK</span><span class="s"> --interval=30s --timeout=3s --start-period=5s --retries=3 \</span>
  CMD curl -f http://localhost:80/ || exit 1

<span class="k">EXPOSE</span><span class="s"> 80</span>

<span class="k">USER</span><span class="s"> nextjs</span>

<span class="k">CMD</span><span class="s"> ["nginx", "-g", "daemon off;"]</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
</pre></td><td class="rouge-code"><pre><span class="c1"># nginx.conf - Optimized for performance</span>
<span class="k">worker_processes</span> <span class="s">auto</span><span class="p">;</span>
<span class="k">pid</span> <span class="n">/tmp/nginx.pid</span><span class="p">;</span>

<span class="k">events</span> <span class="p">{</span>
    <span class="kn">worker_connections</span> <span class="mi">1024</span><span class="p">;</span>
    <span class="kn">use</span> <span class="s">epoll</span><span class="p">;</span>
    <span class="kn">multi_accept</span> <span class="no">on</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">http</span> <span class="p">{</span>
    <span class="kn">include</span> <span class="n">/etc/nginx/mime.types</span><span class="p">;</span>
    <span class="kn">default_type</span> <span class="nc">application/octet-stream</span><span class="p">;</span>

    <span class="c1"># Performance optimizations</span>
    <span class="kn">sendfile</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">tcp_nopush</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">tcp_nodelay</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">keepalive_timeout</span> <span class="mi">65</span><span class="p">;</span>
    <span class="kn">types_hash_max_size</span> <span class="mi">2048</span><span class="p">;</span>

    <span class="c1"># Gzip compression</span>
    <span class="kn">gzip</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">gzip_vary</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">gzip_min_length</span> <span class="mi">1024</span><span class="p">;</span>
    <span class="kn">gzip_types</span>
        <span class="nc">text/plain</span>
        <span class="nc">text/css</span>
        <span class="nc">text/xml</span>
        <span class="nc">text/javascript</span>
        <span class="nc">application/javascript</span>
        <span class="nc">application/xml</span><span class="s">+rss</span>
        <span class="nc">application/json</span><span class="p">;</span>

    <span class="c1"># Brotli compression (if module available)</span>
    <span class="kn">brotli</span> <span class="no">on</span><span class="p">;</span>
    <span class="kn">brotli_comp_level</span> <span class="mi">6</span><span class="p">;</span>
    <span class="kn">brotli_types</span>
        <span class="nc">text/plain</span>
        <span class="nc">text/css</span>
        <span class="nc">application/json</span>
        <span class="nc">application/javascript</span>
        <span class="nc">text/xml</span>
        <span class="nc">application/xml</span>
        <span class="nc">application/xml</span><span class="s">+rss</span>
        <span class="nc">text/javascript</span><span class="p">;</span>

    <span class="kn">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
        <span class="kn">server_name</span> <span class="s">_</span><span class="p">;</span>
        <span class="kn">root</span> <span class="n">/usr/share/nginx/html</span><span class="p">;</span>
        <span class="kn">index</span> <span class="s">index.html</span><span class="p">;</span>

        <span class="c1"># Security headers</span>
        <span class="kn">add_header</span> <span class="s">X-Frame-Options</span> <span class="s">"SAMEORIGIN"</span> <span class="s">always</span><span class="p">;</span>
        <span class="kn">add_header</span> <span class="s">X-Content-Type-Options</span> <span class="s">"nosniff"</span> <span class="s">always</span><span class="p">;</span>
        <span class="kn">add_header</span> <span class="s">X-XSS-Protection</span> <span class="s">"1</span><span class="p">;</span> <span class="kn">mode=block"</span> <span class="s">always</span><span class="p">;</span>
        <span class="kn">add_header</span> <span class="s">Referrer-Policy</span> <span class="s">"strict-origin-when-cross-origin"</span> <span class="s">always</span><span class="p">;</span>
        <span class="kn">add_header</span> <span class="s">Content-Security-Policy</span> <span class="s">"default-src</span> <span class="s">'self'</span><span class="p">;</span> <span class="kn">script-src</span> <span class="s">'self'</span> <span class="s">'unsafe-inline'</span><span class="p">;</span> <span class="kn">style-src</span> <span class="s">'self'</span> <span class="s">'unsafe-inline'</span><span class="p">;</span><span class="kn">"</span> <span class="s">always</span><span class="p">;</span>

        <span class="c1"># Cache static assets</span>
        <span class="kn">location</span> <span class="p">~</span><span class="sr">*</span> <span class="err">\</span><span class="s">.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)</span>$ <span class="p">{</span>
            <span class="kn">expires</span> <span class="s">1y</span><span class="p">;</span>
            <span class="kn">add_header</span> <span class="s">Cache-Control</span> <span class="s">"public,</span> <span class="s">immutable"</span><span class="p">;</span>
            <span class="kn">access_log</span> <span class="no">off</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1"># Cache HTML with short expiry</span>
        <span class="kn">location</span> <span class="p">~</span><span class="sr">*</span> <span class="err">\</span><span class="s">.html</span>$ <span class="p">{</span>
            <span class="kn">expires</span> <span class="s">1h</span><span class="p">;</span>
            <span class="kn">add_header</span> <span class="s">Cache-Control</span> <span class="s">"public,</span> <span class="s">must-revalidate"</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1"># SPA routing</span>
        <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
            <span class="kn">try_files</span> <span class="nv">$uri</span> <span class="nv">$uri</span><span class="n">/</span> <span class="n">/index.html</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1"># Health check endpoint</span>
        <span class="kn">location</span> <span class="n">/health</span> <span class="p">{</span>
            <span class="kn">access_log</span> <span class="no">off</span><span class="p">;</span>
            <span class="kn">return</span> <span class="mi">200</span> <span class="s">"healthy</span><span class="err">\</span><span class="s">n"</span><span class="p">;</span>
            <span class="kn">add_header</span> <span class="s">Content-Type</span> <span class="nc">text/plain</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p>This comprehensive build tools and DevOps setup provides the foundation for enterprise-scale frontend development, addressing performance, security, and maintainability concerns that are critical in Big Tech environments.</p>

        </div>
    </article>
</div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Study Resources</h3>
                    <p>Comprehensive collection of frontend interview questions, coding challenges, and system design problems.</p>
                </div>
                <div class="footer-section">
                    <h3>Progress Tracking</h3>
                    <p>Monitor your learning journey with detailed progress indicators and completion status.</p>
                </div>
                <div class="footer-section">
                    <h3>Big Tech Ready</h3>
                    <p>Curated content specifically designed for interviews at Google, Meta, Amazon, Apple, and Netflix.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Frontend Interview Hub. Built for aspiring frontend engineers.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/assets/js/main.js"></script>
</body>
</html>