<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Missing Answers for Coding &amp; System Design Problems | Frontend Interview Preparation Guide</title>
    <meta name="description" content="Comprehensive frontend interview materials for Big Tech companies">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav class="container">
            <div class="logo">Frontend Interview Hub</div>
            <button class="mobile-menu-toggle" aria-label="Toggle navigation menu" aria-expanded="false">
                <span aria-hidden="true">☰</span>
            </button>
            <ul class="nav-links" role="navigation" aria-label="Main navigation">
                <li><a href="/">Home</a></li>
                <li><a href="#progress">Progress</a></li>
                <li><a href="#knowledge">Knowledge</a></li>
                <li><a href="https://github.com/nee/interview" target="_blank" rel="noopener">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <div class="content-container">
    
        <nav class="breadcrumb">
            <ol>
                <li><a href="/">Home</a></li>
                
                
                
                    
                
                    
                        
                        
                            <li><a href="/frontend/">Frontend</a></li>
                        
                    
                
                    
                        
                        
                            <li><a href="/frontend/coding-problems/">Coding problems</a></li>
                        
                    
                
                    
                        
                        
                            <li class="active">Missing answers for coding &amp; system design problems</li>
                        
                    
                
            </ol>
        </nav>
    
    
    <article class="content">
        
            <header class="content-header">
                <h1 class="content-title">Missing Answers for Coding &amp; System Design Problems</h1>
                
                
            </header>
        
        
        <div class="content-body">
            <h1 id="missing-answers-for-coding--system-design-problems">Missing Answers for Coding &amp; System Design Problems</h1>

<hr />

<h2 id="1-editable-table-cells">1. Editable Table Cells</h2>

<p><strong>Question:</strong> How would you allow users to edit table cells inline and save changes?</p>

<h3 id="english">English</h3>

<ul>
  <li>Render each cell as a text input or select when in edit mode.</li>
  <li>Track which cell is being edited (row/column).</li>
  <li>Save changes on blur or Enter, revert on Escape.</li>
  <li>Validate input if needed before saving.</li>
  <li>Update the data model and re-render the table.</li>
</ul>

<h3 id="vietnamese">Vietnamese</h3>

<ul>
  <li>Hiển thị mỗi ô dưới dạng input hoặc select khi ở chế độ chỉnh sửa.</li>
  <li>Theo dõi ô nào đang được chỉnh sửa (dòng/cột).</li>
  <li>Lưu thay đổi khi blur hoặc nhấn Enter, hoàn tác khi nhấn Escape.</li>
  <li>Kiểm tra hợp lệ dữ liệu trước khi lưu (nếu cần).</li>
  <li>Cập nhật dữ liệu và render lại bảng.</li>
</ul>

<h4 id="diagram-editable-table-cell-state-flow">Diagram: Editable Table Cell State Flow</h4>

<pre><code class="language-mermaid">flowchart TD
  A[User Double Clicks Cell] --&gt; B[Cell Enters Edit Mode]
  B --&gt; C[User Edits Value]
  C --&gt; D{User Action}
  D -- Enter/Blur --&gt; E[Save Value]
  D -- Escape --&gt; F[Revert Value]
  E --&gt; G[Update Table]
  F --&gt; G
</code></pre>

<hr />

<h2 id="2-row-selection-and-bulk-actions">2. Row Selection and Bulk Actions</h2>

<p><strong>Question:</strong> How would you implement row selection (single/multi) and bulk actions (delete, export)?</p>

<h3 id="english-1">English</h3>

<ul>
  <li>Add a checkbox to each row and a master checkbox in the header.</li>
  <li>Track selected row IDs in state (e.g., a Set).</li>
  <li>Provide bulk action buttons (Delete Selected, Export Selected).</li>
  <li>For accessibility, ensure checkboxes are keyboard accessible and have proper labels.</li>
</ul>

<h3 id="vietnamese-1">Vietnamese</h3>

<ul>
  <li>Thêm checkbox cho mỗi dòng và một checkbox tổng ở tiêu đề.</li>
  <li>Lưu trạng thái các dòng được chọn (ví dụ dùng Set).</li>
  <li>Thêm nút thao tác hàng loạt (Xóa, Xuất).</li>
  <li>Đảm bảo accessibility: checkbox có thể dùng bàn phím và có nhãn rõ ràng.</li>
</ul>

<hr />

<h2 id="3-column-reordering">3. Column Reordering</h2>

<p><strong>Question:</strong> How would you allow users to reorder columns via drag-and-drop?</p>

<h3 id="english-2">English</h3>

<ul>
  <li>Use HTML5 Drag and Drop API or a library (e.g., react-beautiful-dnd).</li>
  <li>Update the columns order in state on drop.</li>
  <li>Re-render table with new column order.</li>
  <li>Provide visual feedback during drag.</li>
</ul>

<h3 id="vietnamese-2">Vietnamese</h3>

<ul>
  <li>Sử dụng HTML5 Drag and Drop API hoặc thư viện (ví dụ react-beautiful-dnd).</li>
  <li>Cập nhật thứ tự cột trong state khi thả.</li>
  <li>Render lại bảng với thứ tự cột mới.</li>
  <li>Hiển thị hiệu ứng kéo thả cho người dùng.</li>
</ul>

<hr />

<h2 id="4-server-side-pagination-and-filtering">4. Server-Side Pagination and Filtering</h2>

<p><strong>Question:</strong> How would you handle tables with millions of rows (server-side pagination/filtering)?</p>

<h3 id="english-3">English</h3>

<ul>
  <li>Fetch only the current page of data from the server.</li>
  <li>Send filter/sort params in API requests.</li>
  <li>Show loading indicators and handle errors.</li>
  <li>Consider debouncing filter input to reduce API calls.</li>
</ul>

<h3 id="vietnamese-3">Vietnamese</h3>

<ul>
  <li>Chỉ lấy dữ liệu trang hiện tại từ server.</li>
  <li>Gửi tham số lọc/sắp xếp trong request API.</li>
  <li>Hiển thị trạng thái loading và xử lý lỗi.</li>
  <li>Nên debounce input lọc để giảm số lần gọi API.</li>
</ul>

<hr />

<h2 id="5-accessibility-for-dynamic-tables">5. Accessibility for Dynamic Tables</h2>

<p><strong>Question:</strong> What are the key accessibility considerations for dynamic tables?</p>

<h3 id="english-4">English</h3>

<ul>
  <li>Use semantic HTML (<code class="language-plaintext highlighter-rouge">&lt;table&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;thead&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;tbody&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;th&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;td&gt;</code>).</li>
  <li>Add ARIA roles and properties as needed.</li>
  <li>Ensure keyboard navigation (tab, arrow keys).</li>
  <li>Provide visible focus indicators.</li>
  <li>Announce changes to screen readers (e.g., row added/removed).</li>
</ul>

<h3 id="vietnamese-4">Vietnamese</h3>

<ul>
  <li>Sử dụng HTML ngữ nghĩa (<code class="language-plaintext highlighter-rouge">&lt;table&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;thead&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;tbody&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;th&gt;</code>, <code class="language-plaintext highlighter-rouge">&lt;td&gt;</code>).</li>
  <li>Thêm ARIA roles và thuộc tính nếu cần.</li>
  <li>Đảm bảo có thể điều hướng bằng bàn phím (tab, phím mũi tên).</li>
  <li>Hiển thị rõ vùng focus.</li>
  <li>Thông báo thay đổi cho screen reader (ví dụ khi thêm/xóa dòng).</li>
</ul>

<hr />

<h2 id="6-virtual-scrolling-performance-optimization">6. Virtual Scrolling (Performance Optimization)</h2>

<p><strong>Question:</strong> How would you implement virtual scrolling for a large list?</p>

<h3 id="english-5">English</h3>

<ul>
  <li>Only render visible items plus a small buffer (overscan).</li>
  <li>Calculate start/end indices based on scroll position.</li>
  <li>Use a spacer div to maintain scroll height.</li>
  <li>Update visible items on scroll.</li>
</ul>

<h3 id="vietnamese-5">Vietnamese</h3>

<ul>
  <li>Chỉ render các item hiển thị trên màn hình và một buffer nhỏ.</li>
  <li>Tính toán chỉ số bắt đầu/kết thúc dựa trên vị trí cuộn.</li>
  <li>Dùng một div spacer để giữ chiều cao cuộn.</li>
  <li>Cập nhật item hiển thị khi cuộn.</li>
</ul>

<h4 id="diagram-virtual-scrolling">Diagram: Virtual Scrolling</h4>

<pre><code class="language-mermaid">graph TD
  A[Full List] --&gt;|Calculate Visible Range| B[Render Visible Items]
  B --&gt;|User Scrolls| C[Update Range]
  C --&gt; B
</code></pre>

<hr />

<h2 id="7-notification-system-design-system-design">7. Notification System Design (System Design)</h2>

<p><strong>Question:</strong> How would you design a scalable notification system?</p>

<h3 id="english-6">English</h3>

<ul>
  <li>Use a message queue (e.g., RabbitMQ, Kafka) for scalable delivery.</li>
  <li>Store user notification preferences in a database.</li>
  <li>Use WebSockets for real-time delivery, fallback to polling for offline users.</li>
  <li>Support multiple channels (email, SMS, push).</li>
  <li>Ensure idempotency and retry logic for failed deliveries.</li>
  <li>Provide a UI for users to view and manage notifications.</li>
</ul>

<h3 id="vietnamese-6">Vietnamese</h3>

<ul>
  <li>Sử dụng message queue (RabbitMQ, Kafka) để mở rộng hệ thống gửi thông báo.</li>
  <li>Lưu cài đặt thông báo của người dùng trong database.</li>
  <li>Dùng WebSocket để gửi thông báo thời gian thực, fallback sang polling nếu offline.</li>
  <li>Hỗ trợ nhiều kênh (email, SMS, push).</li>
  <li>Đảm bảo idempotency và retry khi gửi thất bại.</li>
  <li>Cung cấp giao diện cho người dùng xem và quản lý thông báo.</li>
</ul>

<h4 id="diagram-notification-system-architecture">Diagram: Notification System Architecture</h4>

<pre><code class="language-mermaid">graph TD
  A[App Server] --&gt; B[Message Queue]
  B --&gt; C[Notification Worker]
  C --&gt; D[WebSocket Server]
  C --&gt; E[Email/SMS Service]
  D --&gt; F[User Browser]
  E --&gt; G[User Device]
</code></pre>

<hr />

<h2 id="8-react-error-boundary">8. React Error Boundary</h2>

<p><strong>Question:</strong> How would you implement an error boundary component to catch and display errors in a React app?</p>

<h3 id="english-7">English</h3>

<ul>
  <li>Create a class component that implements <code class="language-plaintext highlighter-rouge">componentDidCatch</code> and <code class="language-plaintext highlighter-rouge">getDerivedStateFromError</code>.</li>
  <li>Wrap components that might throw errors.</li>
  <li>Provide a fallback UI when errors occur.</li>
  <li>Log errors for debugging and monitoring.</li>
  <li>Handle different types of errors appropriately.</li>
</ul>

<h3 id="vietnamese-7">Vietnamese</h3>

<ul>
  <li>Tạo class component implement <code class="language-plaintext highlighter-rouge">componentDidCatch</code> và <code class="language-plaintext highlighter-rouge">getDerivedStateFromError</code>.</li>
  <li>Bọc các component có thể gây lỗi.</li>
  <li>Cung cấp UI thay thế khi có lỗi.</li>
  <li>Ghi log lỗi để debug và monitor.</li>
  <li>Xử lý các loại lỗi khác nhau một cách phù hợp.</li>
</ul>

<h4 id="sample-implementation">Sample Implementation:</h4>

<div class="language-jsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">ErrorBoundary</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span> <span class="na">hasError</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">error</span><span class="p">:</span> <span class="kc">null</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="kd">static</span> <span class="nx">getDerivedStateFromError</span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">{</span> <span class="na">hasError</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="nx">error</span> <span class="p">};</span>
  <span class="p">}</span>

  <span class="nx">componentDidCatch</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Error caught by boundary:</span><span class="dl">"</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">);</span>
    <span class="c1">// Send to error reporting service</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">logErrorToService</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">logErrorToService</span><span class="p">(</span><span class="nx">error</span><span class="p">,</span> <span class="nx">errorInfo</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Send to Sentry, LogRocket, etc.</span>
  <span class="p">}</span>

  <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">hasError</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">(</span>
        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">className</span><span class="p">=</span><span class="s">"error-boundary"</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">h2</span><span class="p">&gt;</span>Something went wrong.<span class="p">&lt;/</span><span class="nt">h2</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">button</span> <span class="na">onClick</span><span class="p">=</span><span class="si">{</span><span class="p">()</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span> <span class="na">hasError</span><span class="p">:</span> <span class="kc">false</span> <span class="p">})</span><span class="si">}</span><span class="p">&gt;</span>
            Try again
          <span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">children</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-error-boundary-flow">Diagram: Error Boundary Flow</h4>

<pre><code class="language-mermaid">flowchart TD
  A[Child Component] --&gt; B{Throws Error?}
  B --&gt;|Yes| C[Error Boundary Catches]
  B --&gt;|No| D[Render Normally]
  C --&gt; E[Show Fallback UI]
  C --&gt; F[Log Error]
  E --&gt; G[User Can Retry]
</code></pre>

<hr />

<h2 id="9-api-integration-and-error-handling">9. API Integration and Error Handling</h2>

<p><strong>Question:</strong> How would you integrate with a REST API and handle errors gracefully in the UI?</p>

<h3 id="english-8">English</h3>

<ul>
  <li>Use fetch or axios with proper error handling.</li>
  <li>Implement loading states and error states.</li>
  <li>Add retry logic for failed requests.</li>
  <li>Display user-friendly error messages.</li>
  <li>Handle different HTTP status codes appropriately.</li>
  <li>Implement request cancellation for better UX.</li>
</ul>

<h3 id="vietnamese-8">Vietnamese</h3>

<ul>
  <li>Sử dụng fetch hoặc axios với xử lý lỗi phù hợp.</li>
  <li>Implement trạng thái loading và error.</li>
  <li>Thêm logic retry cho request thất bại.</li>
  <li>Hiển thị thông báo lỗi thân thiện với người dùng.</li>
  <li>Xử lý các HTTP status code khác nhau.</li>
  <li>Implement hủy request để cải thiện UX.</li>
</ul>

<h4 id="sample-implementation-1">Sample Implementation:</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">ApiService</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">(</span><span class="nx">baseURL</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">baseURL</span> <span class="o">=</span> <span class="nx">baseURL</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">request</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">,</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{})</span> <span class="p">{</span>
    <span class="c1">// Cancel previous request</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">controller</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">controller</span><span class="p">.</span><span class="nx">abort</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">controller</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">AbortController</span><span class="p">();</span>

    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="k">this</span><span class="p">.</span><span class="nx">baseURL</span><span class="p">}${</span><span class="nx">endpoint</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="p">{</span>
        <span class="p">...</span><span class="nx">options</span><span class="p">,</span>
        <span class="na">signal</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">controller</span><span class="p">.</span><span class="nx">signal</span><span class="p">,</span>
        <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
          <span class="p">...</span><span class="nx">options</span><span class="p">.</span><span class="nx">headers</span><span class="p">,</span>
        <span class="p">},</span>
      <span class="p">});</span>

      <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nx">ApiError</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">,</span> <span class="nx">response</span><span class="p">.</span><span class="nx">statusText</span><span class="p">);</span>
      <span class="p">}</span>

      <span class="k">return</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">name</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">AbortError</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Request cancelled</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="kd">get</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">post</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">request</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Usage with React</span>
<span class="kd">function</span> <span class="nx">useApi</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">data</span><span class="p">,</span> <span class="nx">setData</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">loading</span><span class="p">,</span> <span class="nx">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">error</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="k">async</span> <span class="p">(</span><span class="nx">endpoint</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">setError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">api</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">endpoint</span><span class="p">);</span>
      <span class="nx">setData</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setError</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
      <span class="nx">setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">fetchData</span> <span class="p">};</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="10-lazy-loading-images-and-components">10. Lazy Loading Images and Components</h2>

<p><strong>Question:</strong> How would you implement lazy loading for images and React components to improve performance?</p>

<h3 id="english-9">English</h3>

<ul>
  <li>Use Intersection Observer API for images.</li>
  <li>Use React.lazy and Suspense for components.</li>
  <li>Show placeholders or spinners while loading.</li>
  <li>Implement error boundaries for lazy components.</li>
  <li>Consider SEO implications and provide fallbacks.</li>
</ul>

<h3 id="vietnamese-9">Vietnamese</h3>

<ul>
  <li>Sử dụng Intersection Observer API cho images.</li>
  <li>Dùng React.lazy và Suspense cho components.</li>
  <li>Hiển thị placeholder hoặc spinner khi loading.</li>
  <li>Implement error boundary cho lazy components.</li>
  <li>Cân nhắc SEO và cung cấp fallback.</li>
</ul>

<h4 id="sample-implementation-2">Sample Implementation:</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
</pre></td><td class="rouge-code"><pre><span class="c1">// Lazy loading images</span>
<span class="kd">class</span> <span class="nx">LazyImage</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">images</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="dl">"</span><span class="s2">[data-src]</span><span class="dl">"</span><span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">observer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IntersectionObserver</span><span class="p">(</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">handleIntersection</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">);</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">init</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">init</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">images</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">img</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">observer</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">img</span><span class="p">));</span>
  <span class="p">}</span>

  <span class="nx">handleIntersection</span><span class="p">(</span><span class="nx">entries</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">entries</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">entry</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">entry</span><span class="p">.</span><span class="nx">isIntersecting</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">img</span> <span class="o">=</span> <span class="nx">entry</span><span class="p">.</span><span class="nx">target</span><span class="p">;</span>
        <span class="nx">img</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">img</span><span class="p">.</span><span class="nx">dataset</span><span class="p">.</span><span class="nx">src</span><span class="p">;</span>
        <span class="nx">img</span><span class="p">.</span><span class="nx">classList</span><span class="p">.</span><span class="nx">remove</span><span class="p">(</span><span class="dl">"</span><span class="s2">lazy</span><span class="dl">"</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">observer</span><span class="p">.</span><span class="nx">unobserve</span><span class="p">(</span><span class="nx">img</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// React lazy components</span>
<span class="kd">const</span> <span class="nx">LazyComponent</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">lazy</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="k">import</span><span class="p">(</span><span class="dl">"</span><span class="s2">./HeavyComponent</span><span class="dl">"</span><span class="p">));</span>

<span class="kd">function</span> <span class="nx">App</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Suspense</span> <span class="nx">fallback</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;}</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">LazyComponent</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/Suspense</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-lazy-loading-flow">Diagram: Lazy Loading Flow</h4>

<pre><code class="language-mermaid">flowchart TD
  A[Component/Image] --&gt; B{In Viewport?}
  B --&gt;|No| C[Show Placeholder]
  B --&gt;|Yes| D[Start Loading]
  D --&gt; E{Load Success?}
  E --&gt;|Yes| F[Show Content]
  E --&gt;|No| G[Show Error]
  C --&gt; B
</code></pre>

<hr />

<h2 id="11-xss-and-csrf-prevention">11. XSS and CSRF Prevention</h2>

<p><strong>Question:</strong> How would you prevent XSS and CSRF attacks in a frontend application?</p>

<h3 id="english-10">English</h3>

<ul>
  <li>Sanitize user input and output using libraries like DOMPurify.</li>
  <li>Use Content Security Policy (CSP) headers.</li>
  <li>Implement CSRF tokens for state-changing requests.</li>
  <li>Use secure cookies with SameSite attribute.</li>
  <li>Validate and escape all user-generated content.</li>
  <li>Use HTTPS for all communications.</li>
</ul>

<h3 id="vietnamese-10">Vietnamese</h3>

<ul>
  <li>Làm sạch input và output của user bằng thư viện như DOMPurify.</li>
  <li>Sử dụng Content Security Policy (CSP) headers.</li>
  <li>Implement CSRF tokens cho các request thay đổi state.</li>
  <li>Dùng secure cookies với thuộc tính SameSite.</li>
  <li>Validate và escape tất cả nội dung do user tạo.</li>
  <li>Sử dụng HTTPS cho tất cả giao tiếp.</li>
</ul>

<h4 id="sample-implementation-3">Sample Implementation:</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
</pre></td><td class="rouge-code"><pre><span class="c1">// XSS Prevention</span>
<span class="k">import</span> <span class="nx">DOMPurify</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">dompurify</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">function</span> <span class="nx">sanitizeInput</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">DOMPurify</span><span class="p">.</span><span class="nx">sanitize</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">renderUserContent</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">sanitized</span> <span class="o">=</span> <span class="nx">sanitizeInput</span><span class="p">(</span><span class="nx">content</span><span class="p">);</span>
  <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">dangerouslySetInnerHTML</span><span class="o">=</span><span class="p">{{</span> <span class="na">__html</span><span class="p">:</span> <span class="nx">sanitized</span> <span class="p">}}</span> <span class="sr">/&gt;</span><span class="err">;
</span><span class="p">}</span>

<span class="c1">// CSRF Prevention</span>
<span class="kd">class</span> <span class="nx">ApiClient</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">csrfToken</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getCsrfToken</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nx">getCsrfToken</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">meta[name="csrf-token"]</span><span class="dl">'</span><span class="p">)?.</span><span class="nx">content</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span>
      <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
      <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">Content-Type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">application/json</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">X-CSRF-Token</span><span class="dl">"</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">csrfToken</span><span class="p">,</span>
      <span class="p">},</span>
      <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">),</span>
      <span class="na">credentials</span><span class="p">:</span> <span class="dl">"</span><span class="s2">same-origin</span><span class="dl">"</span><span class="p">,</span>
    <span class="p">});</span>
    <span class="k">return</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// CSP Implementation</span>
<span class="kd">const</span> <span class="nx">cspHeaders</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">Content-Security-Policy</span><span class="dl">"</span><span class="p">:</span>
    <span class="dl">"</span><span class="s2">default-src 'self'; </span><span class="dl">"</span> <span class="o">+</span>
    <span class="dl">"</span><span class="s2">script-src 'self' 'unsafe-inline'; </span><span class="dl">"</span> <span class="o">+</span>
    <span class="dl">"</span><span class="s2">style-src 'self' 'unsafe-inline'; </span><span class="dl">"</span> <span class="o">+</span>
    <span class="dl">"</span><span class="s2">img-src 'self' data: https:; </span><span class="dl">"</span> <span class="o">+</span>
    <span class="dl">"</span><span class="s2">font-src 'self' https://fonts.gstatic.com;</span><span class="dl">"</span><span class="p">,</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-security-layers">Diagram: Security Layers</h4>

<pre><code class="language-mermaid">graph TD
  A[User Input] --&gt; B[Input Sanitization]
  B --&gt; C[Content Security Policy]
  C --&gt; D[CSRF Token Validation]
  D --&gt; E[Secure Output]
  F[HTTPS] --&gt; G[All Communications]
</code></pre>

<hr />

<h2 id="12-component-unit-testing">12. Component Unit Testing</h2>

<p><strong>Question:</strong> How would you write comprehensive unit tests for React components?</p>

<h3 id="english-11">English</h3>

<ul>
  <li>Use Jest and React Testing Library for testing.</li>
  <li>Test component rendering, props, and user interactions.</li>
  <li>Mock external dependencies and API calls.</li>
  <li>Test accessibility features (focus, ARIA attributes).</li>
  <li>Test error states and edge cases.</li>
  <li>Measure test coverage and maintain high coverage.</li>
</ul>

<h3 id="vietnamese-11">Vietnamese</h3>

<ul>
  <li>Sử dụng Jest và React Testing Library để test.</li>
  <li>Test việc render component, props và tương tác user.</li>
  <li>Mock external dependencies và API calls.</li>
  <li>Test accessibility features (focus, ARIA attributes).</li>
  <li>Test error states và edge cases.</li>
  <li>Đo lường test coverage và duy trì coverage cao.</li>
</ul>

<h4 id="sample-implementation-4">Sample Implementation:</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">render</span><span class="p">,</span> <span class="nx">screen</span><span class="p">,</span> <span class="nx">fireEvent</span><span class="p">,</span> <span class="nx">waitFor</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@testing-library/react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">userEvent</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">@testing-library/user-event</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">Button</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./Button</span><span class="dl">"</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">"</span><span class="s2">Button Component</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">renders with correct text</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Button</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">me</span><span class="o">&lt;</span><span class="sr">/Button&gt;</span><span class="se">)</span><span class="err">;
</span>    <span class="nx">expect</span><span class="p">(</span>
      <span class="nx">screen</span><span class="p">.</span><span class="nx">getByRole</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">,</span> <span class="p">{</span> <span class="na">name</span><span class="p">:</span> <span class="sr">/click me/i</span> <span class="p">})</span>
    <span class="p">).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">calls onClick when clicked</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">();</span>
    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">me</span><span class="o">&lt;</span><span class="sr">/Button&gt;</span><span class="se">)</span><span class="err">;
</span>
    <span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByRole</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">));</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">handleClick</span><span class="p">).</span><span class="nx">toHaveBeenCalledTimes</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">is disabled when disabled prop is true</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">disabled</span><span class="o">&gt;</span><span class="nx">Click</span> <span class="nx">me</span><span class="o">&lt;</span><span class="sr">/Button&gt;</span><span class="se">)</span><span class="err">;
</span>    <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByRole</span><span class="p">(</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span><span class="p">)).</span><span class="nx">toBeDisabled</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">has proper accessibility attributes</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">Button</span> <span class="nx">aria</span><span class="o">-</span><span class="nx">label</span><span class="o">=</span><span class="dl">"</span><span class="s2">Submit form</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Submit</span><span class="o">&lt;</span><span class="sr">/Button&gt;</span><span class="se">)</span><span class="err">;
</span>    <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByLabelText</span><span class="p">(</span><span class="dl">"</span><span class="s2">Submit form</span><span class="dl">"</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
  <span class="p">});</span>
<span class="p">});</span>

<span class="c1">// Testing async components</span>
<span class="nx">describe</span><span class="p">(</span><span class="dl">"</span><span class="s2">AsyncComponent</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">shows loading state initially</span><span class="dl">"</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">AsyncComponent</span> <span class="o">/&gt;</span><span class="p">);</span>
    <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="sr">/loading/i</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">shows data after successful fetch</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">AsyncComponent</span> <span class="o">/&gt;</span><span class="p">);</span>

    <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="sr">/data loaded/i</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="nx">test</span><span class="p">(</span><span class="dl">"</span><span class="s2">shows error on fetch failure</span><span class="dl">"</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">// Mock fetch to fail</span>
    <span class="nb">global</span><span class="p">.</span><span class="nx">fetch</span> <span class="o">=</span> <span class="nx">jest</span><span class="p">.</span><span class="nx">fn</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nb">Promise</span><span class="p">.</span><span class="nx">reject</span><span class="p">(</span><span class="dl">"</span><span class="s2">API Error</span><span class="dl">"</span><span class="p">));</span>

    <span class="nx">render</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">AsyncComponent</span> <span class="o">/&gt;</span><span class="p">);</span>

    <span class="k">await</span> <span class="nx">waitFor</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">expect</span><span class="p">(</span><span class="nx">screen</span><span class="p">.</span><span class="nx">getByText</span><span class="p">(</span><span class="sr">/error/i</span><span class="p">)).</span><span class="nx">toBeInTheDocument</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<hr />

<h2 id="13-responsive-dashboard-layout">13. Responsive Dashboard Layout</h2>

<p><strong>Question:</strong> How would you create a responsive dashboard layout with sidebar, header, and main content?</p>

<h3 id="english-12">English</h3>

<ul>
  <li>Use CSS Grid for the main layout structure.</li>
  <li>Implement a collapsible sidebar using CSS transforms.</li>
  <li>Use Flexbox for header and sidebar content.</li>
  <li>Add media queries for mobile responsiveness.</li>
  <li>Ensure proper ARIA roles for navigation.</li>
  <li>Implement smooth transitions and animations.</li>
</ul>

<h3 id="vietnamese-12">Vietnamese</h3>

<ul>
  <li>Sử dụng CSS Grid cho layout chính.</li>
  <li>Implement sidebar có thể thu gọn bằng CSS transforms.</li>
  <li>Dùng Flexbox cho header và nội dung sidebar.</li>
  <li>Thêm media queries cho responsive mobile.</li>
  <li>Đảm bảo ARIA roles phù hợp cho navigation.</li>
  <li>Implement transitions và animations mượt mà.</li>
</ul>

<h4 id="sample-implementation-5">Sample Implementation:</h4>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"dashboard"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;header</span> <span class="na">class=</span><span class="s">"dashboard-header"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;button</span> <span class="na">class=</span><span class="s">"sidebar-toggle"</span> <span class="na">aria-label=</span><span class="s">"Toggle sidebar"</span><span class="nt">&gt;</span>☰<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Dashboard<span class="nt">&lt;/h1&gt;</span>
    <span class="nt">&lt;nav</span> <span class="na">class=</span><span class="s">"header-nav"</span><span class="nt">&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/profile"</span><span class="nt">&gt;</span>Profile<span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/settings"</span><span class="nt">&gt;</span>Settings<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/nav&gt;</span>
  <span class="nt">&lt;/header&gt;</span>

  <span class="nt">&lt;aside</span> <span class="na">class=</span><span class="s">"dashboard-sidebar"</span> <span class="na">role=</span><span class="s">"navigation"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;nav&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/dashboard"</span> <span class="na">aria-current=</span><span class="s">"page"</span><span class="nt">&gt;</span>Dashboard<span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/analytics"</span><span class="nt">&gt;</span>Analytics<span class="nt">&lt;/a&gt;</span>
      <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"/reports"</span><span class="nt">&gt;</span>Reports<span class="nt">&lt;/a&gt;</span>
    <span class="nt">&lt;/nav&gt;</span>
  <span class="nt">&lt;/aside&gt;</span>

  <span class="nt">&lt;main</span> <span class="na">class=</span><span class="s">"dashboard-main"</span> <span class="na">role=</span><span class="s">"main"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"content"</span><span class="nt">&gt;</span>
      <span class="c">&lt;!-- Dashboard content --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/main&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre><span class="nc">.dashboard</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">grid</span><span class="p">;</span>
  <span class="py">grid-template-areas</span><span class="p">:</span>
    <span class="s1">"header header"</span>
    <span class="s1">"sidebar main"</span><span class="p">;</span>
  <span class="py">grid-template-columns</span><span class="p">:</span> <span class="m">250px</span> <span class="m">1</span><span class="n">fr</span><span class="p">;</span>
  <span class="py">grid-template-rows</span><span class="p">:</span> <span class="m">60px</span> <span class="m">1</span><span class="n">fr</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dashboard-header</span> <span class="p">{</span>
  <span class="py">grid-area</span><span class="p">:</span> <span class="n">header</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#fff</span><span class="p">;</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#eee</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dashboard-sidebar</span> <span class="p">{</span>
  <span class="py">grid-area</span><span class="p">:</span> <span class="n">sidebar</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#f8f9fa</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">transform</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.dashboard-main</span> <span class="p">{</span>
  <span class="py">grid-area</span><span class="p">:</span> <span class="n">main</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">overflow-y</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@media</span> <span class="p">(</span><span class="n">max-width</span><span class="p">:</span> <span class="m">768px</span><span class="p">)</span> <span class="p">{</span>
  <span class="nc">.dashboard</span> <span class="p">{</span>
    <span class="py">grid-template-areas</span><span class="p">:</span>
      <span class="s1">"header"</span>
      <span class="s1">"main"</span><span class="p">;</span>
    <span class="py">grid-template-columns</span><span class="p">:</span> <span class="m">1</span><span class="n">fr</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nc">.dashboard-sidebar</span> <span class="p">{</span>
    <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
    <span class="nl">left</span><span class="p">:</span> <span class="m">-250px</span><span class="p">;</span>
    <span class="nl">top</span><span class="p">:</span> <span class="m">60px</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">100vh</span> <span class="n">-</span> <span class="m">60px</span><span class="p">);</span>
    <span class="nl">z-index</span><span class="p">:</span> <span class="m">1000</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nc">.dashboard-sidebar.open</span> <span class="p">{</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">translateX</span><span class="p">(</span><span class="m">250px</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-dashboard-layout-structure">Diagram: Dashboard Layout Structure</h4>

<pre><code class="language-mermaid">graph TD
  A[Dashboard Container] --&gt; B[Header]
  A --&gt; C[Sidebar]
  A --&gt; D[Main Content]
  B --&gt; E[Logo/Title]
  B --&gt; F[User Menu]
  C --&gt; G[Navigation Links]
  D --&gt; H[Widgets/Content]
  D --&gt; I[Charts/Data]
</code></pre>

<hr />

<h2 id="14-undoredo-functionality">14. Undo/Redo Functionality</h2>

<p><strong>Question:</strong> How would you implement undo and redo functionality for a text editor or form?</p>

<h3 id="english-13">English</h3>

<ul>
  <li>Use two stacks: one for undo history and one for redo history.</li>
  <li>Push current state to undo stack before each action.</li>
  <li>Clear redo stack when a new action is performed.</li>
  <li>Implement keyboard shortcuts (Ctrl+Z, Ctrl+Y).</li>
  <li>Provide visual feedback for undo/redo availability.</li>
  <li>Handle complex objects and deep cloning.</li>
</ul>

<h3 id="vietnamese-13">Vietnamese</h3>

<ul>
  <li>Sử dụng hai stack: một cho undo history và một cho redo history.</li>
  <li>Push state hiện tại vào undo stack trước mỗi action.</li>
  <li>Clear redo stack khi có action mới.</li>
  <li>Implement keyboard shortcuts (Ctrl+Z, Ctrl+Y).</li>
  <li>Cung cấp feedback trực quan cho undo/redo.</li>
  <li>Xử lý complex objects và deep cloning.</li>
</ul>

<h4 id="sample-implementation-6">Sample Implementation:</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nx">UndoRedoManager</span> <span class="p">{</span>
  <span class="kd">constructor</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">redoStack</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">maxHistory</span> <span class="o">=</span> <span class="mi">50</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">saveState</span><span class="p">(</span><span class="nx">state</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Clear redo stack when new action is performed</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">redoStack</span> <span class="o">=</span> <span class="p">[];</span>

    <span class="c1">// Add current state to undo stack</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">state</span><span class="p">)));</span>

    <span class="c1">// Limit history size</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">maxHistory</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">shift</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nx">undo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">currentState</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">redoStack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">currentState</span><span class="p">);</span>

    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">||</span> <span class="kc">null</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">redo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">redoStack</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">state</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">redoStack</span><span class="p">.</span><span class="nx">pop</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">state</span><span class="p">);</span>

    <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">canUndo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">undoStack</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nx">canRedo</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">redoStack</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// React Hook for Undo/Redo</span>
<span class="kd">function</span> <span class="nx">useUndoRedo</span><span class="p">(</span><span class="nx">initialState</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">state</span><span class="p">,</span> <span class="nx">setState</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">initialState</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">undoRedoRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">(</span><span class="k">new</span> <span class="nx">UndoRedoManager</span><span class="p">());</span>

  <span class="kd">const</span> <span class="nx">undoRedo</span> <span class="o">=</span> <span class="nx">undoRedoRef</span><span class="p">.</span><span class="nx">current</span><span class="p">;</span>

  <span class="kd">const</span> <span class="nx">updateState</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span>
    <span class="p">(</span><span class="nx">newState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">undoRedo</span><span class="p">.</span><span class="nx">saveState</span><span class="p">(</span><span class="nx">state</span><span class="p">);</span>
      <span class="nx">setState</span><span class="p">(</span><span class="nx">newState</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="p">[</span><span class="nx">state</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">undo</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">previousState</span> <span class="o">=</span> <span class="nx">undoRedo</span><span class="p">.</span><span class="nx">undo</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">previousState</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setState</span><span class="p">(</span><span class="nx">previousState</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="kd">const</span> <span class="nx">redo</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">nextState</span> <span class="o">=</span> <span class="nx">undoRedo</span><span class="p">.</span><span class="nx">redo</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">nextState</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">setState</span><span class="p">(</span><span class="nx">nextState</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[]);</span>

  <span class="k">return</span> <span class="p">{</span>
    <span class="nx">state</span><span class="p">,</span>
    <span class="nx">updateState</span><span class="p">,</span>
    <span class="nx">undo</span><span class="p">,</span>
    <span class="nx">redo</span><span class="p">,</span>
    <span class="na">canUndo</span><span class="p">:</span> <span class="nx">undoRedo</span><span class="p">.</span><span class="nx">canUndo</span><span class="p">(),</span>
    <span class="na">canRedo</span><span class="p">:</span> <span class="nx">undoRedo</span><span class="p">.</span><span class="nx">canRedo</span><span class="p">(),</span>
  <span class="p">};</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-undoredo-flow">Diagram: Undo/Redo Flow</h4>

<pre><code class="language-mermaid">flowchart LR
  A[State A] --&gt; B[Action 1]
  B --&gt; C[State B]
  C --&gt; D[Action 2]
  D --&gt; E[State C]
  E --&gt; F[Undo]
  F --&gt; C
  C --&gt; G[Redo]
  G --&gt; E
</code></pre>

<hr />

<h2 id="15-custom-react-hook">15. Custom React Hook</h2>

<p><strong>Question:</strong> How would you write a custom React hook for debounced value or localStorage sync?</p>

<h3 id="english-14">English</h3>

<ul>
  <li>Use useEffect, useState, and useRef for state management.</li>
  <li>Implement proper cleanup in useEffect.</li>
  <li>Handle SSR and non-browser environments.</li>
  <li>Provide clear API and error handling.</li>
  <li>Consider performance implications and memoization.</li>
</ul>

<h3 id="vietnamese-14">Vietnamese</h3>

<ul>
  <li>Sử dụng useEffect, useState, và useRef để quản lý state.</li>
  <li>Implement cleanup phù hợp trong useEffect.</li>
  <li>Xử lý SSR và môi trường không có browser.</li>
  <li>Cung cấp API rõ ràng và xử lý lỗi.</li>
  <li>Cân nhắc performance và memoization.</li>
</ul>

<h4 id="sample-implementation-7">Sample Implementation:</h4>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
</pre></td><td class="rouge-code"><pre><span class="c1">// useDebounce Hook</span>
<span class="kd">function</span> <span class="nx">useDebounce</span><span class="p">(</span><span class="nx">value</span><span class="p">,</span> <span class="nx">delay</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">debouncedValue</span><span class="p">,</span> <span class="nx">setDebouncedValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">handler</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setDebouncedValue</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
    <span class="p">},</span> <span class="nx">delay</span><span class="p">);</span>

    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">handler</span><span class="p">);</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">value</span><span class="p">,</span> <span class="nx">delay</span><span class="p">]);</span>

  <span class="k">return</span> <span class="nx">debouncedValue</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// useLocalStorage Hook</span>
<span class="kd">function</span> <span class="nx">useLocalStorage</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">initialValue</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">storedValue</span><span class="p">,</span> <span class="nx">setStoredValue</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">undefined</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">initialValue</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="kd">const</span> <span class="nx">item</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">item</span> <span class="p">?</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">:</span> <span class="nx">initialValue</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">`Error reading localStorage key "</span><span class="p">${</span><span class="nx">key</span><span class="p">}</span><span class="s2">":`</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">initialValue</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="kd">const</span> <span class="nx">setValue</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span>
    <span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">valueToStore</span> <span class="o">=</span>
          <span class="nx">value</span> <span class="k">instanceof</span> <span class="nb">Function</span> <span class="p">?</span> <span class="nx">value</span><span class="p">(</span><span class="nx">storedValue</span><span class="p">)</span> <span class="p">:</span> <span class="nx">value</span><span class="p">;</span>
        <span class="nx">setStoredValue</span><span class="p">(</span><span class="nx">valueToStore</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nb">window</span> <span class="o">!==</span> <span class="dl">"</span><span class="s2">undefined</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
          <span class="nb">window</span><span class="p">.</span><span class="nx">localStorage</span><span class="p">.</span><span class="nx">setItem</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">valueToStore</span><span class="p">));</span>
        <span class="p">}</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="s2">`Error setting localStorage key "</span><span class="p">${</span><span class="nx">key</span><span class="p">}</span><span class="s2">":`</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">[</span><span class="nx">key</span><span class="p">,</span> <span class="nx">storedValue</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="k">return</span> <span class="p">[</span><span class="nx">storedValue</span><span class="p">,</span> <span class="nx">setValue</span><span class="p">];</span>
<span class="p">}</span>

<span class="c1">// useAsync Hook</span>
<span class="kd">function</span> <span class="nx">useAsync</span><span class="p">(</span><span class="nx">asyncFunction</span><span class="p">,</span> <span class="nx">immediate</span> <span class="o">=</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">status</span><span class="p">,</span> <span class="nx">setStatus</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">"</span><span class="s2">idle</span><span class="dl">"</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">data</span><span class="p">,</span> <span class="nx">setData</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">error</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">execute</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span>
    <span class="k">async</span> <span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setStatus</span><span class="p">(</span><span class="dl">"</span><span class="s2">pending</span><span class="dl">"</span><span class="p">);</span>
      <span class="nx">setData</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
      <span class="nx">setError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

      <span class="k">try</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">asyncFunction</span><span class="p">(...</span><span class="nx">args</span><span class="p">);</span>
        <span class="nx">setData</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
        <span class="nx">setStatus</span><span class="p">(</span><span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setError</span><span class="p">(</span><span class="nx">err</span><span class="p">);</span>
        <span class="nx">setStatus</span><span class="p">(</span><span class="dl">"</span><span class="s2">error</span><span class="dl">"</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">[</span><span class="nx">asyncFunction</span><span class="p">]</span>
  <span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">immediate</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">execute</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">execute</span><span class="p">,</span> <span class="nx">immediate</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">{</span> <span class="nx">execute</span><span class="p">,</span> <span class="nx">status</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">error</span> <span class="p">};</span>
<span class="p">}</span>

<span class="c1">// Usage Examples</span>
<span class="kd">function</span> <span class="nx">SearchComponent</span><span class="p">()</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">searchTerm</span><span class="p">,</span> <span class="nx">setSearchTerm</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">""</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">debouncedSearchTerm</span> <span class="o">=</span> <span class="nx">useDebounce</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">,</span> <span class="mi">500</span><span class="p">);</span>

  <span class="kd">const</span> <span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="nx">searchResults</span><span class="p">,</span> <span class="nx">status</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useAsync</span><span class="p">(</span>
    <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">searchAPI</span><span class="p">(</span><span class="nx">debouncedSearchTerm</span><span class="p">),</span>
    <span class="kc">false</span>
  <span class="p">);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">debouncedSearchTerm</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">searchAPI</span><span class="p">(</span><span class="nx">debouncedSearchTerm</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">debouncedSearchTerm</span><span class="p">]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">input</span>
        <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">searchTerm</span><span class="p">}</span>
        <span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setSearchTerm</span><span class="p">(</span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">)}</span>
        <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">Search...</span><span class="dl">"</span>
      <span class="o">/&gt;</span>
      <span class="p">{</span><span class="nx">status</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">pending</span><span class="dl">"</span> <span class="o">&amp;&amp;</span> <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Searching</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">}
</span>      <span class="p">{</span><span class="nx">status</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="nx">searchResults</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">li</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">item</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>          <span class="p">))}</span>
        <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>      <span class="p">)}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-custom-hook-lifecycle">Diagram: Custom Hook Lifecycle</h4>

<pre><code class="language-mermaid">flowchart TD
  A[Hook Initialization] --&gt; B[Setup State]
  B --&gt; C[Setup Effects]
  C --&gt; D[Return Values/Functions]
  D --&gt; E[Component Uses Hook]
  E --&gt; F[State Changes]
  F --&gt; G[Effects Re-run]
  G --&gt; H[Cleanup]
  H --&gt; I[New State]
  I --&gt; E
</code></pre>

<hr />

<h2 id="16-typescript-advanced-patterns">16. TypeScript Advanced Patterns</h2>

<p><strong>Question:</strong> How would you create advanced TypeScript utility types and type-safe patterns?</p>

<h3 id="english-15">English</h3>

<ul>
  <li>Create utility types for common transformations.</li>
  <li>Implement type-safe event systems.</li>
  <li>Use conditional types and mapped types.</li>
  <li>Build generic components with proper constraints.</li>
  <li>Ensure type safety across API boundaries.</li>
  <li>Use branded types for domain modeling.</li>
</ul>

<h3 id="vietnamese-15">Vietnamese</h3>

<ul>
  <li>Tạo utility types cho các biến đổi phổ biến.</li>
  <li>Implement hệ thống event type-safe.</li>
  <li>Sử dụng conditional types và mapped types.</li>
  <li>Xây dựng generic components với constraints phù hợp.</li>
  <li>Đảm bảo type safety qua API boundaries.</li>
  <li>Sử dụng branded types cho domain modeling.</li>
</ul>

<h4 id="advanced-typescript-examples">Advanced TypeScript Examples:</h4>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
</pre></td><td class="rouge-code"><pre><span class="c1">// Utility Types</span>
<span class="kd">type</span> <span class="nx">DeepReadonly</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="k">readonly</span> <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span> <span class="kd">extends</span> <span class="nx">object</span>
    <span class="p">?</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span> <span class="kd">extends</span> <span class="nb">Function</span>
      <span class="p">?</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span>
      <span class="p">:</span> <span class="nx">DeepReadonly</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span><span class="o">&gt;</span>
    <span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">];</span>
<span class="p">};</span>

<span class="kd">type</span> <span class="nx">DeepPartial</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">[</span><span class="nx">P</span> <span class="k">in</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">]?:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span> <span class="kd">extends</span> <span class="nx">object</span>
    <span class="p">?</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span> <span class="kd">extends</span> <span class="nb">Function</span>
      <span class="p">?</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span>
      <span class="p">:</span> <span class="nx">DeepPartial</span><span class="o">&lt;</span><span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">]</span><span class="o">&gt;</span>
    <span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">P</span><span class="p">];</span>
<span class="p">};</span>

<span class="c1">// Type-safe Event System</span>
<span class="kd">type</span> <span class="nx">EventMap</span> <span class="o">=</span> <span class="p">{</span>
  <span class="dl">"</span><span class="s2">user:login</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">userId</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span> <span class="nl">timestamp</span><span class="p">:</span> <span class="nb">Date</span> <span class="p">};</span>
  <span class="dl">"</span><span class="s2">user:logout</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">userId</span><span class="p">:</span> <span class="kr">string</span> <span class="p">};</span>
  <span class="dl">"</span><span class="s2">data:update</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="na">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">;</span> <span class="nl">version</span><span class="p">:</span> <span class="kr">number</span> <span class="p">};</span>
<span class="p">};</span>

<span class="kd">class</span> <span class="nx">EventEmitter</span><span class="o">&lt;</span><span class="nx">T</span> <span class="kd">extends</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;&gt;</span> <span class="p">{</span>
  <span class="k">private</span> <span class="na">listeners</span><span class="p">:</span> <span class="nb">Map</span><span class="o">&lt;</span><span class="kr">keyof</span> <span class="nx">T</span><span class="p">,</span> <span class="nb">Set</span><span class="o">&lt;</span><span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="kr">any</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="o">&gt;&gt;</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

  <span class="nx">on</span><span class="o">&lt;</span><span class="nx">K</span> <span class="kd">extends</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="na">event</span><span class="p">:</span> <span class="nx">K</span><span class="p">,</span> <span class="na">listener</span><span class="p">:</span> <span class="p">(</span><span class="na">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">K</span><span class="p">])</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">listeners</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">event</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">listeners</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">());</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">listeners</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="o">!</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">listener</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">emit</span><span class="o">&lt;</span><span class="nx">K</span> <span class="kd">extends</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="o">&gt;</span><span class="p">(</span><span class="na">event</span><span class="p">:</span> <span class="nx">K</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="nx">K</span><span class="p">]):</span> <span class="k">void</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">listeners</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">listeners</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">event</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">listeners</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">listeners</span><span class="p">.</span><span class="nx">forEach</span><span class="p">((</span><span class="nx">listener</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">listener</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Branded Types</span>
<span class="kd">type</span> <span class="nx">UserId</span> <span class="o">=</span> <span class="kr">string</span> <span class="o">&amp;</span> <span class="p">{</span> <span class="k">readonly</span> <span class="na">brand</span><span class="p">:</span> <span class="nx">unique</span> <span class="nx">symbol</span> <span class="p">};</span>
<span class="kd">type</span> <span class="nx">Email</span> <span class="o">=</span> <span class="kr">string</span> <span class="o">&amp;</span> <span class="p">{</span> <span class="k">readonly</span> <span class="na">brand</span><span class="p">:</span> <span class="nx">unique</span> <span class="nx">symbol</span> <span class="p">};</span>

<span class="kd">function</span> <span class="nx">createUserId</span><span class="p">(</span><span class="nx">id</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">UserId</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">id</span> <span class="k">as</span> <span class="nx">UserId</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">createEmail</span><span class="p">(</span><span class="nx">email</span><span class="p">:</span> <span class="kr">string</span><span class="p">):</span> <span class="nx">Email</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">email</span><span class="p">.</span><span class="nx">includes</span><span class="p">(</span><span class="dl">"</span><span class="s2">@</span><span class="dl">"</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">"</span><span class="s2">Invalid email</span><span class="dl">"</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">email</span> <span class="k">as</span> <span class="nx">Email</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// Generic Components</span>
<span class="kr">interface</span> <span class="nx">TableProps</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="na">data</span><span class="p">:</span> <span class="nx">T</span><span class="p">[];</span>
  <span class="nl">columns</span><span class="p">:</span> <span class="nx">Column</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">[];</span>
  <span class="nl">onRowClick</span><span class="p">?:</span> <span class="p">(</span><span class="na">item</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="k">void</span><span class="p">;</span>
<span class="p">}</span>

<span class="kr">interface</span> <span class="nx">Column</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="na">key</span><span class="p">:</span> <span class="kr">keyof</span> <span class="nx">T</span><span class="p">;</span>
  <span class="nl">title</span><span class="p">:</span> <span class="kr">string</span><span class="p">;</span>
  <span class="nl">render</span><span class="p">?:</span> <span class="p">(</span><span class="na">value</span><span class="p">:</span> <span class="nx">T</span><span class="p">[</span><span class="kr">keyof</span> <span class="nx">T</span><span class="p">],</span> <span class="na">item</span><span class="p">:</span> <span class="nx">T</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">React</span><span class="p">.</span><span class="nx">ReactNode</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">Table</span><span class="o">&lt;</span><span class="nx">T</span> <span class="kd">extends</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;&gt;</span><span class="p">({</span>
  <span class="nx">data</span><span class="p">,</span>
  <span class="nx">columns</span><span class="p">,</span>
  <span class="nx">onRowClick</span><span class="p">,</span>
<span class="p">}:</span> <span class="nx">TableProps</span><span class="o">&lt;</span><span class="nx">T</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">table</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">thead</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
          <span class="p">{</span><span class="nx">columns</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">column</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">th</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nb">String</span><span class="p">(</span><span class="nx">column</span><span class="p">.</span><span class="nx">key</span><span class="p">)}</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">column</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>          <span class="p">))}</span>
        <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/thead</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">tbody</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">item</span><span class="p">,</span> <span class="nx">index</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">tr</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">index</span><span class="p">}</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">onRowClick</span><span class="p">?.(</span><span class="nx">item</span><span class="p">)}</span><span class="o">&gt;</span>
            <span class="p">{</span><span class="nx">columns</span><span class="p">.</span><span class="nx">map</span><span class="p">((</span><span class="nx">column</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
              <span class="o">&lt;</span><span class="nx">td</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nb">String</span><span class="p">(</span><span class="nx">column</span><span class="p">.</span><span class="nx">key</span><span class="p">)}</span><span class="o">&gt;</span>
                <span class="p">{</span><span class="nx">column</span><span class="p">.</span><span class="nx">render</span>
                  <span class="p">?</span> <span class="nx">column</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="nx">column</span><span class="p">.</span><span class="nx">key</span><span class="p">],</span> <span class="nx">item</span><span class="p">)</span>
                  <span class="p">:</span> <span class="nb">String</span><span class="p">(</span><span class="nx">item</span><span class="p">[</span><span class="nx">column</span><span class="p">.</span><span class="nx">key</span><span class="p">])}</span>
              <span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>            <span class="p">))}</span>
          <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>        <span class="p">))}</span>
      <span class="o">&lt;</span><span class="sr">/tbody</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/table</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="diagram-typescript-type-system">Diagram: TypeScript Type System</h4>

<pre><code class="language-mermaid">graph TD
  A[Base Types] --&gt; B[Union Types]
  A --&gt; C[Intersection Types]
  B --&gt; D[Conditional Types]
  C --&gt; D
  D --&gt; E[Utility Types]
  E --&gt; F[Generic Types]
  F --&gt; G[Type Constraints]
  G --&gt; H[Branded Types]
</code></pre>

<hr />

<h1 id="add-more-qa-here-as-you-discover-more-missing-answers">(Add more Q&amp;A here as you discover more missing answers)</h1>

        </div>
    </article>
</div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Study Resources</h3>
                    <p>Comprehensive collection of frontend interview questions, coding challenges, and system design problems.</p>
                </div>
                <div class="footer-section">
                    <h3>Progress Tracking</h3>
                    <p>Monitor your learning journey with detailed progress indicators and completion status.</p>
                </div>
                <div class="footer-section">
                    <h3>Big Tech Ready</h3>
                    <p>Curated content specifically designed for interviews at Google, Meta, Amazon, Apple, and Netflix.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Frontend Interview Hub. Built for aspiring frontend engineers.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/assets/js/app.js"></script>
</body>
</html>