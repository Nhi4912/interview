<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced React Patterns | Frontend Interview Preparation Guide</title>
    <meta name="description" content="Comprehensive frontend interview materials for Big Tech companies">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
    <!-- Navigation -->
    <header>
        <nav class="container">
            <div class="logo">Frontend Interview Hub</div>
            <ul class="nav-links">
                <li><a href="/">Home</a></li>
                <li><a href="#progress">Progress</a></li>
                <li><a href="#knowledge">Knowledge</a></li>
                <li><a href="https://github.com/nee/interview">GitHub</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main>
        <div class="content-container">
    
        <nav class="breadcrumb">
            <ol>
                <li><a href="/">Home</a></li>
                
                
                
                    
                
                    
                        
                        
                            <li><a href="/frontend/">Frontend</a></li>
                        
                    
                
                    
                        
                        
                            <li><a href="/frontend/coding-problems/">Coding problems</a></li>
                        
                    
                
                    
                        
                        
                            <li class="active">Advanced react patterns</li>
                        
                    
                
            </ol>
        </nav>
    
    
    <article class="content">
        
            <header class="content-header">
                <h1 class="content-title">Advanced React Patterns</h1>
                
                
                    <div class="content-meta">
                        <span class="difficulty difficulty-hard">Hard</span>
                        
                            <span class="category">Coding Problems</span>
                        
                        
                            <div class="tags">
                                
                                    <span class="tag">react</span>
                                
                                    <span class="tag">hoc</span>
                                
                                    <span class="tag">render-props</span>
                                
                                    <span class="tag">compound-components</span>
                                
                                    <span class="tag">advanced-patterns</span>
                                
                            </div>
                        
                    </div>
                
            </header>
        
        
        <div class="content-body">
            <h1 id="advanced-react-patterns-for-big-tech-interviews">Advanced React Patterns for Big Tech Interviews</h1>

<h2 id="-overview">ðŸŽ¯ Overview</h2>

<p>This problem set covers advanced React patterns commonly tested in FAANG+ interviews. These patterns demonstrate deep React knowledge and architectural thinking required for senior positions.</p>

<h2 id="-knowledge-foundation">ðŸ“š Knowledge Foundation</h2>

<h3 id="pattern-1-higher-order-components-hocs">Pattern 1: Higher-Order Components (HOCs)</h3>

<p><strong>Definition</strong>: A function that takes a component and returns a new component with enhanced functionality.</p>

<p><strong>When to Use</strong>:</p>
<ul>
  <li>Cross-cutting concerns (logging, authentication, data fetching)</li>
  <li>Code reuse across multiple components</li>
  <li>Conditional rendering logic</li>
</ul>

<p><strong>Key Concepts</strong>:</p>
<ul>
  <li>Wrapper components</li>
  <li>Props proxy pattern</li>
  <li>Inheritance inversion pattern</li>
  <li>Display name conventions</li>
</ul>

<h3 id="pattern-2-render-props">Pattern 2: Render Props</h3>

<p><strong>Definition</strong>: A component that uses a function prop to determine what to render.</p>

<p><strong>When to Use</strong>:</p>
<ul>
  <li>Sharing stateful logic between components</li>
  <li>Dynamic component rendering</li>
  <li>Flexible component composition</li>
</ul>

<h3 id="pattern-3-compound-components">Pattern 3: Compound Components</h3>

<p><strong>Definition</strong>: Components that work together to form a complete UI, sharing implicit state.</p>

<p><strong>When to Use</strong>:</p>
<ul>
  <li>Building component libraries</li>
  <li>Creating flexible, composable APIs</li>
  <li>Managing related component state</li>
</ul>

<h2 id="-problem-1-smart-data-fetcher-with-hoc">ðŸŽ¯ Problem 1: Smart Data Fetcher with HOC</h2>

<h3 id="requirements">Requirements</h3>

<p>Create a Higher-Order Component that:</p>
<ul>
  <li>Fetches data from an API endpoint</li>
  <li>Handles loading, error, and success states</li>
  <li>Provides retry functionality</li>
  <li>Supports caching</li>
  <li>Can be applied to any component</li>
</ul>

<h3 id="solution">Solution</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useCallback</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Cache implementation</span>
<span class="kd">const</span> <span class="nx">cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Map</span><span class="p">();</span>

<span class="c1">// HOC for data fetching</span>
<span class="kd">const</span> <span class="nx">withDataFetcher</span> <span class="o">=</span> <span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{})</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">WrappedComponent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">WithDataFetcher</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">data</span><span class="p">,</span> <span class="nx">setData</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">loading</span><span class="p">,</span> <span class="nx">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">error</span><span class="p">,</span> <span class="nx">setError</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">retryCount</span><span class="p">,</span> <span class="nx">setRetryCount</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span>

    <span class="kd">const</span> <span class="p">{</span>
      <span class="nx">enableCache</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
      <span class="nx">maxRetries</span> <span class="o">=</span> <span class="mi">3</span><span class="p">,</span>
      <span class="nx">retryDelay</span> <span class="o">=</span> <span class="mi">1000</span><span class="p">,</span>
      <span class="nx">transform</span> <span class="o">=</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">,</span>
      <span class="nx">onSuccess</span><span class="p">,</span>
      <span class="nx">onError</span><span class="p">,</span>
      <span class="nx">dependencies</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="p">}</span> <span class="o">=</span> <span class="nx">options</span><span class="p">;</span>

    <span class="kd">const</span> <span class="nx">fetchData</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(</span><span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">cacheKey</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">url</span><span class="p">}</span><span class="s2">-</span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">dependencies</span><span class="p">)}</span><span class="s2">`</span><span class="p">;</span>
      
      <span class="c1">// Check cache first</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">enableCache</span> <span class="o">&amp;&amp;</span> <span class="nx">cache</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">setData</span><span class="p">(</span><span class="nx">cache</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">));</span>
        <span class="nx">setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
      <span class="p">}</span>

      <span class="k">try</span> <span class="p">{</span>
        <span class="nx">setLoading</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="nx">setError</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

        <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
        
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s2">`HTTP error! status: </span><span class="p">${</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
        <span class="kd">const</span> <span class="nx">transformedData</span> <span class="o">=</span> <span class="nx">transform</span><span class="p">(</span><span class="nx">result</span><span class="p">);</span>

        <span class="c1">// Cache the result</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">enableCache</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">cache</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span> <span class="nx">transformedData</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nx">setData</span><span class="p">(</span><span class="nx">transformedData</span><span class="p">);</span>
        <span class="nx">onSuccess</span><span class="p">?.(</span><span class="nx">transformedData</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setError</span><span class="p">(</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">);</span>
        <span class="nx">onError</span><span class="p">?.(</span><span class="nx">err</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
        <span class="nx">setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">[</span><span class="nx">url</span><span class="p">,</span> <span class="nx">transform</span><span class="p">,</span> <span class="nx">enableCache</span><span class="p">,</span> <span class="nx">onSuccess</span><span class="p">,</span> <span class="nx">onError</span><span class="p">,</span> <span class="p">...</span><span class="nx">dependencies</span><span class="p">]);</span>

    <span class="kd">const</span> <span class="nx">retry</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">retryCount</span> <span class="o">&lt;</span> <span class="nx">maxRetries</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">setRetryCount</span><span class="p">(</span><span class="nx">prev</span> <span class="o">=&gt;</span> <span class="nx">prev</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
          <span class="nx">fetchData</span><span class="p">();</span>
        <span class="p">},</span> <span class="nx">retryDelay</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">pow</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="nx">retryCount</span><span class="p">));</span> <span class="c1">// Exponential backoff</span>
      <span class="p">}</span>
    <span class="p">},</span> <span class="p">[</span><span class="nx">retryCount</span><span class="p">,</span> <span class="nx">maxRetries</span><span class="p">,</span> <span class="nx">retryDelay</span><span class="p">,</span> <span class="nx">fetchData</span><span class="p">]);</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">fetchData</span><span class="p">();</span>
    <span class="p">},</span> <span class="p">[</span><span class="nx">fetchData</span><span class="p">]);</span>

    <span class="c1">// Enhanced props</span>
    <span class="kd">const</span> <span class="nx">enhancedProps</span> <span class="o">=</span> <span class="p">{</span>
      <span class="p">...</span><span class="nx">props</span><span class="p">,</span>
      <span class="nx">data</span><span class="p">,</span>
      <span class="nx">loading</span><span class="p">,</span>
      <span class="nx">error</span><span class="p">,</span>
      <span class="nx">retry</span><span class="p">,</span>
      <span class="na">canRetry</span><span class="p">:</span> <span class="nx">retryCount</span> <span class="o">&lt;</span> <span class="nx">maxRetries</span><span class="p">,</span>
      <span class="nx">retryCount</span><span class="p">,</span>
      <span class="na">refetch</span><span class="p">:</span> <span class="nx">fetchData</span>
    <span class="p">};</span>

    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">WrappedComponent</span> <span class="p">{...</span><span class="nx">enhancedProps</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="p">};</span>

  <span class="nx">WithDataFetcher</span><span class="p">.</span><span class="nx">displayName</span> <span class="o">=</span> <span class="s2">`withDataFetcher(</span><span class="p">${</span><span class="nx">WrappedComponent</span><span class="p">.</span><span class="nx">displayName</span> <span class="o">||</span> <span class="nx">WrappedComponent</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="nx">WithDataFetcher</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Usage Example</span>
<span class="kd">const</span> <span class="nx">UserList</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">data</span><span class="p">,</span> <span class="nx">loading</span><span class="p">,</span> <span class="nx">error</span><span class="p">,</span> <span class="nx">retry</span><span class="p">,</span> <span class="nx">canRetry</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">spinner</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Loading</span> <span class="nx">users</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span>  
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">(</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">error-container</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="na">Error</span><span class="p">:</span> <span class="p">{</span><span class="nx">error</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="p">{</span><span class="nx">canRetry</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">retry</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">retry-button</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="nx">Retry</span>
          <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>        <span class="p">)}</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="p">);</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">user-list</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">data</span><span class="p">?.</span><span class="nx">map</span><span class="p">(</span><span class="nx">user</span> <span class="o">=&gt;</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">key</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">user-card</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">h3</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/h3</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">user</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      <span class="p">))}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Enhanced component</span>
<span class="kd">const</span> <span class="nx">EnhancedUserList</span> <span class="o">=</span> <span class="nx">withDataFetcher</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/users</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">enableCache</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">maxRetries</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="na">transform</span><span class="p">:</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">data</span><span class="p">.</span><span class="nx">users</span> <span class="o">||</span> <span class="nx">data</span><span class="p">,</span>
  <span class="na">onSuccess</span><span class="p">:</span> <span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users loaded:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="p">),</span>
  <span class="na">onError</span><span class="p">:</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Failed to load users:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">)</span>
<span class="p">})(</span><span class="nx">UserList</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="advanced-hoc-with-authentication">Advanced HOC with Authentication</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">withAuth</span> <span class="o">=</span> <span class="p">(</span><span class="nx">requiredRole</span> <span class="o">=</span> <span class="kc">null</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">WrappedComponent</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">WithAuth</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">user</span><span class="p">,</span> <span class="nx">setUser</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">loading</span><span class="p">,</span> <span class="nx">setLoading</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="kd">const</span> <span class="p">[</span><span class="nx">authorized</span><span class="p">,</span> <span class="nx">setAuthorized</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>

    <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">checkAuth</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">try</span> <span class="p">{</span>
          <span class="kd">const</span> <span class="nx">token</span> <span class="o">=</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">getItem</span><span class="p">(</span><span class="dl">'</span><span class="s1">authToken</span><span class="dl">'</span><span class="p">);</span>
          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">token</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">No token found</span><span class="dl">'</span><span class="p">);</span>

          <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">/api/auth/verify</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
            <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">token</span><span class="p">}</span><span class="s2">`</span> <span class="p">}</span>
          <span class="p">});</span>

          <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">response</span><span class="p">.</span><span class="nx">ok</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Invalid token</span><span class="dl">'</span><span class="p">);</span>

          <span class="kd">const</span> <span class="nx">userData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
          <span class="nx">setUser</span><span class="p">(</span><span class="nx">userData</span><span class="p">);</span>

          <span class="c1">// Check role-based authorization</span>
          <span class="k">if</span> <span class="p">(</span><span class="nx">requiredRole</span> <span class="o">&amp;&amp;</span> <span class="nx">userData</span><span class="p">.</span><span class="nx">role</span> <span class="o">!==</span> <span class="nx">requiredRole</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Insufficient permissions</span><span class="dl">'</span><span class="p">);</span>
          <span class="p">}</span>

          <span class="nx">setAuthorized</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">setAuthorized</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
          <span class="c1">// Redirect to login</span>
          <span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">/login</span><span class="dl">'</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
          <span class="nx">setLoading</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
        <span class="p">}</span>
      <span class="p">};</span>

      <span class="nx">checkAuth</span><span class="p">();</span>
    <span class="p">},</span> <span class="p">[]);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">loading</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">auth-loading</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Verifying</span> <span class="nx">authentication</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span>    <span class="p">}</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">authorized</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">auth-error</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Access</span> <span class="nx">denied</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">;
</span>    <span class="p">}</span>

    <span class="k">return</span> <span class="o">&lt;</span><span class="nx">WrappedComponent</span> <span class="p">{...</span><span class="nx">props</span><span class="p">}</span> <span class="nx">user</span><span class="o">=</span><span class="p">{</span><span class="nx">user</span><span class="p">}</span> <span class="sr">/&gt;</span><span class="err">;
</span>  <span class="p">};</span>

  <span class="nx">WithAuth</span><span class="p">.</span><span class="nx">displayName</span> <span class="o">=</span> <span class="s2">`withAuth(</span><span class="p">${</span><span class="nx">WrappedComponent</span><span class="p">.</span><span class="nx">displayName</span> <span class="o">||</span> <span class="nx">WrappedComponent</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="s2">)`</span><span class="p">;</span>
  
  <span class="k">return</span> <span class="nx">WithAuth</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Usage</span>
<span class="kd">const</span> <span class="nx">AdminDashboard</span> <span class="o">=</span> <span class="nx">withAuth</span><span class="p">(</span><span class="dl">'</span><span class="s1">admin</span><span class="dl">'</span><span class="p">)(</span><span class="nx">Dashboard</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">UserProfile</span> <span class="o">=</span> <span class="nx">withAuth</span><span class="p">()(</span><span class="nx">Profile</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="-problem-2-flexible-modal-with-render-props">ðŸŽ¯ Problem 2: Flexible Modal with Render Props</h2>

<h3 id="requirements-1">Requirements</h3>

<p>Create a Modal component using render props that:</p>
<ul>
  <li>Manages open/close state</li>
  <li>Supports animations</li>
  <li>Handles escape key and overlay clicks</li>
  <li>Provides flexible content rendering</li>
  <li>Supports multiple modal instances</li>
</ul>

<h3 id="solution-1">Solution</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">useState</span><span class="p">,</span> <span class="nx">useEffect</span><span class="p">,</span> <span class="nx">useCallback</span><span class="p">,</span> <span class="nx">useRef</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">createPortal</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-dom</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">Modal</span> <span class="o">=</span> <span class="p">({</span> 
  <span class="nx">children</span><span class="p">,</span> 
  <span class="nx">defaultOpen</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
  <span class="nx">closeOnEscape</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">closeOnOverlay</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">animationDuration</span> <span class="o">=</span> <span class="mi">300</span><span class="p">,</span>
  <span class="nx">onOpen</span><span class="p">,</span>
  <span class="nx">onClose</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isOpen</span><span class="p">,</span> <span class="nx">setIsOpen</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="nx">defaultOpen</span><span class="p">);</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">isAnimating</span><span class="p">,</span> <span class="nx">setIsAnimating</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">modalRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>
  <span class="kd">const</span> <span class="nx">overlayRef</span> <span class="o">=</span> <span class="nx">useRef</span><span class="p">(</span><span class="kc">null</span><span class="p">);</span>

  <span class="kd">const</span> <span class="nx">open</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">setIsAnimating</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    <span class="nx">onOpen</span><span class="p">?.();</span>
    
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">setIsAnimating</span><span class="p">(</span><span class="kc">false</span><span class="p">),</span> <span class="nx">animationDuration</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">onOpen</span><span class="p">,</span> <span class="nx">animationDuration</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">close</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setIsAnimating</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
    
    <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">setIsOpen</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
      <span class="nx">setIsAnimating</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
      <span class="nx">onClose</span><span class="p">?.();</span>
    <span class="p">},</span> <span class="nx">animationDuration</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">onClose</span><span class="p">,</span> <span class="nx">animationDuration</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">handleKeyDown</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">((</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Escape</span><span class="dl">'</span> <span class="o">&amp;&amp;</span> <span class="nx">closeOnEscape</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">close</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">close</span><span class="p">,</span> <span class="nx">closeOnEscape</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">handleOverlayClick</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">((</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">target</span> <span class="o">===</span> <span class="nx">overlayRef</span><span class="p">.</span><span class="nx">current</span> <span class="o">&amp;&amp;</span> <span class="nx">closeOnOverlay</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">close</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">close</span><span class="p">,</span> <span class="nx">closeOnOverlay</span><span class="p">]);</span>

  <span class="nx">useEffect</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">isOpen</span><span class="p">)</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">keydown</span><span class="dl">'</span><span class="p">,</span> <span class="nx">handleKeyDown</span><span class="p">);</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">hidden</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">keydown</span><span class="dl">'</span><span class="p">,</span> <span class="nx">handleKeyDown</span><span class="p">);</span>
      <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">style</span><span class="p">.</span><span class="nx">overflow</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">unset</span><span class="dl">'</span><span class="p">;</span>
    <span class="p">};</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">isOpen</span><span class="p">,</span> <span class="nx">handleKeyDown</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">modalProps</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">isOpen</span><span class="p">,</span>
    <span class="nx">isAnimating</span><span class="p">,</span>
    <span class="nx">open</span><span class="p">,</span>
    <span class="nx">close</span><span class="p">,</span>
    <span class="nx">modalRef</span><span class="p">,</span>
    <span class="nx">overlayRef</span>
  <span class="p">};</span>

  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isOpen</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">children</span><span class="p">(</span><span class="nx">modalProps</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">modalContent</span> <span class="o">=</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> 
      <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">overlayRef</span><span class="p">}</span>
      <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`modal-overlay </span><span class="p">${</span><span class="nx">isAnimating</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">animating</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleOverlayClick</span><span class="p">}</span>
    <span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> 
        <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">modalRef</span><span class="p">}</span>
        <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`modal-content </span><span class="p">${</span><span class="nx">isAnimating</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">animating</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
        <span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">dialog</span><span class="dl">"</span>
        <span class="nx">aria</span><span class="o">-</span><span class="nx">modal</span><span class="o">=</span><span class="dl">"</span><span class="s2">true</span><span class="dl">"</span>
      <span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">children</span><span class="p">(</span><span class="nx">modalProps</span><span class="p">)}</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>

  <span class="k">return</span> <span class="nx">createPortal</span><span class="p">(</span><span class="nx">modalContent</span><span class="p">,</span> <span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Usage Examples</span>
<span class="kd">const</span> <span class="nx">ConfirmationModal</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Modal</span><span class="o">&gt;</span>
    <span class="p">{({</span> <span class="nx">isOpen</span><span class="p">,</span> <span class="nx">open</span><span class="p">,</span> <span class="nx">close</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
      <span class="o">&lt;&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">open</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Delete</span> <span class="nx">Item</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>        <span class="p">{</span><span class="nx">isOpen</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
          <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">confirmation-content</span><span class="dl">"</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Confirm</span> <span class="nx">Deletion</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Are</span> <span class="nx">you</span> <span class="nx">sure</span> <span class="nx">you</span> <span class="nx">want</span> <span class="nx">to</span> <span class="k">delete</span> <span class="k">this</span> <span class="nx">item</span><span class="p">?</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">modal-actions</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">close</span><span class="p">}</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">cancel-button</span><span class="dl">"</span><span class="o">&gt;</span>
                <span class="nx">Cancel</span>
              <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">button</span> 
                <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="p">{</span>
                  <span class="c1">// Perform deletion</span>
                  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Item deleted</span><span class="dl">'</span><span class="p">);</span>
                  <span class="nx">close</span><span class="p">();</span>
                <span class="p">}}</span>
                <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">delete-button</span><span class="dl">"</span>
              <span class="o">&gt;</span>
                <span class="nx">Delete</span>
              <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="p">)}</span>
      <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>    <span class="p">)}</span>
  <span class="o">&lt;</span><span class="sr">/Modal</span><span class="err">&gt;
</span><span class="p">);</span>

<span class="c1">// Advanced Modal with Form</span>
<span class="kd">const</span> <span class="nx">FormModal</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">formData</span><span class="p">,</span> <span class="nx">setFormData</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> <span class="na">email</span><span class="p">:</span> <span class="dl">''</span> <span class="p">});</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Modal</span>
      <span class="nx">onOpen</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Form modal opened</span><span class="dl">'</span><span class="p">)}</span>
      <span class="nx">onClose</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">setFormData</span><span class="p">({</span> <span class="na">name</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> <span class="na">email</span><span class="p">:</span> <span class="dl">''</span> <span class="p">})}</span>
    <span class="o">&gt;</span>
      <span class="p">{({</span> <span class="nx">isOpen</span><span class="p">,</span> <span class="nx">open</span><span class="p">,</span> <span class="nx">close</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">(</span>
        <span class="o">&lt;&gt;</span>
          <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">open</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">User</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>          <span class="p">{</span><span class="nx">isOpen</span> <span class="o">&amp;&amp;</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">form</span> 
              <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">form-content</span><span class="dl">"</span>
              <span class="nx">onSubmit</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="nx">e</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Form submitted:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">formData</span><span class="p">);</span>
                <span class="nx">close</span><span class="p">();</span>
              <span class="p">}}</span>
            <span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">h2</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">New</span> <span class="nx">User</span><span class="o">&lt;</span><span class="sr">/h2</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">input</span>
                <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">text</span><span class="dl">"</span>
                <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">Name</span><span class="dl">"</span>
                <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span>
                <span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setFormData</span><span class="p">(</span><span class="nx">prev</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="p">...</span><span class="nx">prev</span><span class="p">,</span> <span class="na">name</span><span class="p">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span> <span class="p">}))}</span>
              <span class="sr">/</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">input</span>
                <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">email</span><span class="dl">"</span>
                <span class="nx">placeholder</span><span class="o">=</span><span class="dl">"</span><span class="s2">Email</span><span class="dl">"</span>
                <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">formData</span><span class="p">.</span><span class="nx">email</span><span class="p">}</span>
                <span class="nx">onChange</span><span class="o">=</span><span class="p">{(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">setFormData</span><span class="p">(</span><span class="nx">prev</span> <span class="o">=&gt;</span> <span class="p">({</span> <span class="p">...</span><span class="nx">prev</span><span class="p">,</span> <span class="na">email</span><span class="p">:</span> <span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span> <span class="p">}))}</span>
              <span class="sr">/</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">modal-actions</span><span class="dl">"</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">close</span><span class="p">}</span><span class="o">&gt;</span><span class="nx">Cancel</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">submit</span><span class="dl">"</span><span class="o">&gt;</span><span class="nx">Add</span> <span class="nx">User</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/form</span><span class="err">&gt;
</span>          <span class="p">)}</span>
        <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>      <span class="p">)}</span>
    <span class="o">&lt;</span><span class="sr">/Modal</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="-problem-3-compound-component-accordion">ðŸŽ¯ Problem 3: Compound Component Accordion</h2>

<h3 id="requirements-2">Requirements</h3>

<p>Create an Accordion compound component system that:</p>
<ul>
  <li>Uses React Context for state sharing</li>
  <li>Supports multiple panels</li>
  <li>Allows single or multiple panel expansion</li>
  <li>Provides flexible styling and content</li>
  <li>Follows accessibility best practices</li>
</ul>

<h3 id="solution-2">Solution</h3>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
</pre></td><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> 
  <span class="nx">createContext</span><span class="p">,</span> 
  <span class="nx">useContext</span><span class="p">,</span> 
  <span class="nx">useState</span><span class="p">,</span> 
  <span class="nx">useCallback</span><span class="p">,</span>
  <span class="nx">Children</span><span class="p">,</span>
  <span class="nx">cloneElement</span>
<span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react</span><span class="dl">'</span><span class="p">;</span>

<span class="c1">// Accordion Context</span>
<span class="kd">const</span> <span class="nx">AccordionContext</span> <span class="o">=</span> <span class="nx">createContext</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">useAccordion</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">useContext</span><span class="p">(</span><span class="nx">AccordionContext</span><span class="p">);</span>
  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Accordion components must be used within Accordion</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">context</span><span class="p">;</span>
<span class="p">};</span>

<span class="c1">// Main Accordion Component</span>
<span class="kd">const</span> <span class="nx">Accordion</span> <span class="o">=</span> <span class="p">({</span> 
  <span class="nx">children</span><span class="p">,</span> 
  <span class="nx">allowMultiple</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span> 
  <span class="nx">defaultExpandedPanels</span> <span class="o">=</span> <span class="p">[],</span>
  <span class="nx">onChange</span>
<span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">expandedPanels</span><span class="p">,</span> <span class="nx">setExpandedPanels</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span>
    <span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">defaultExpandedPanels</span><span class="p">)</span>
  <span class="p">);</span>

  <span class="kd">const</span> <span class="nx">togglePanel</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">((</span><span class="nx">panelId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">setExpandedPanels</span><span class="p">(</span><span class="nx">prev</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">newExpanded</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Set</span><span class="p">(</span><span class="nx">prev</span><span class="p">);</span>
      
      <span class="k">if</span> <span class="p">(</span><span class="nx">newExpanded</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">panelId</span><span class="p">))</span> <span class="p">{</span>
        <span class="nx">newExpanded</span><span class="p">.</span><span class="k">delete</span><span class="p">(</span><span class="nx">panelId</span><span class="p">);</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">allowMultiple</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">newExpanded</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
        <span class="p">}</span>
        <span class="nx">newExpanded</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="nx">panelId</span><span class="p">);</span>
      <span class="p">}</span>
      
      <span class="nx">onChange</span><span class="p">?.(</span><span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">newExpanded</span><span class="p">));</span>
      <span class="k">return</span> <span class="nx">newExpanded</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">allowMultiple</span><span class="p">,</span> <span class="nx">onChange</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">isExpanded</span> <span class="o">=</span> <span class="nx">useCallback</span><span class="p">((</span><span class="nx">panelId</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">expandedPanels</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">panelId</span><span class="p">);</span>
  <span class="p">},</span> <span class="p">[</span><span class="nx">expandedPanels</span><span class="p">]);</span>

  <span class="kd">const</span> <span class="nx">value</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">togglePanel</span><span class="p">,</span>
    <span class="nx">isExpanded</span><span class="p">,</span>
    <span class="nx">allowMultiple</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">AccordionContext</span><span class="p">.</span><span class="nx">Provider</span> <span class="nx">value</span><span class="o">=</span><span class="p">{</span><span class="nx">value</span><span class="p">}</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">accordion</span><span class="dl">"</span> <span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">presentation</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/AccordionContext.Provider</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Panel Component</span>
<span class="kd">const</span> <span class="nx">AccordionPanel</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">disabled</span> <span class="o">=</span> <span class="kc">false</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">togglePanel</span><span class="p">,</span> <span class="nx">isExpanded</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useAccordion</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">expanded</span> <span class="o">=</span> <span class="nx">isExpanded</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span> 
      <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`accordion-panel </span><span class="p">${</span><span class="nx">expanded</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">expanded</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2"> </span><span class="p">${</span><span class="nx">disabled</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">disabled</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">data</span><span class="o">-</span><span class="nx">panel</span><span class="o">-</span><span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="nx">id</span><span class="p">}</span>
    <span class="o">&gt;</span>
      <span class="p">{</span><span class="nx">Children</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">children</span><span class="p">,</span> <span class="nx">child</span> <span class="o">=&gt;</span> 
        <span class="nx">cloneElement</span><span class="p">(</span><span class="nx">child</span><span class="p">,</span> <span class="p">{</span> <span class="na">panelId</span><span class="p">:</span> <span class="nx">id</span><span class="p">,</span> <span class="nx">expanded</span><span class="p">,</span> <span class="nx">disabled</span> <span class="p">})</span>
      <span class="p">)}</span>
    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Header Component</span>
<span class="kd">const</span> <span class="nx">AccordionHeader</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">panelId</span><span class="p">,</span> <span class="nx">expanded</span><span class="p">,</span> <span class="nx">disabled</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">togglePanel</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">useAccordion</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">handleClick</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">disabled</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">togglePanel</span><span class="p">(</span><span class="nx">panelId</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="kd">const</span> <span class="nx">handleKeyDown</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">key</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">Enter</span><span class="dl">'</span> <span class="o">||</span> <span class="nx">event</span><span class="p">.</span><span class="nx">key</span> <span class="o">===</span> <span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
      <span class="nx">handleClick</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">};</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">button</span>
      <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`accordion-header </span><span class="p">${</span><span class="nx">expanded</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">expanded</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">onClick</span><span class="o">=</span><span class="p">{</span><span class="nx">handleClick</span><span class="p">}</span>
      <span class="nx">onKeyDown</span><span class="o">=</span><span class="p">{</span><span class="nx">handleKeyDown</span><span class="p">}</span>
      <span class="nx">aria</span><span class="o">-</span><span class="nx">expanded</span><span class="o">=</span><span class="p">{</span><span class="nx">expanded</span><span class="p">}</span>
      <span class="nx">aria</span><span class="o">-</span><span class="nx">controls</span><span class="o">=</span><span class="p">{</span><span class="s2">`panel-</span><span class="p">${</span><span class="nx">panelId</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">disabled</span><span class="o">=</span><span class="p">{</span><span class="nx">disabled</span><span class="p">}</span>
      <span class="nx">type</span><span class="o">=</span><span class="dl">"</span><span class="s2">button</span><span class="dl">"</span>
    <span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">accordion-title</span><span class="dl">"</span><span class="o">&gt;</span><span class="p">{</span><span class="nx">children</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">span</span> <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`accordion-icon </span><span class="p">${</span><span class="nx">expanded</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">rotated</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="err">â–¼</span>
      <span class="o">&lt;</span><span class="sr">/span</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Content Component</span>
<span class="kd">const</span> <span class="nx">AccordionContent</span> <span class="o">=</span> <span class="p">({</span> <span class="nx">children</span><span class="p">,</span> <span class="nx">panelId</span><span class="p">,</span> <span class="nx">expanded</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span>
      <span class="nx">id</span><span class="o">=</span><span class="p">{</span><span class="s2">`panel-</span><span class="p">${</span><span class="nx">panelId</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">className</span><span class="o">=</span><span class="p">{</span><span class="s2">`accordion-content </span><span class="p">${</span><span class="nx">expanded</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">expanded</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">''</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">role</span><span class="o">=</span><span class="dl">"</span><span class="s2">region</span><span class="dl">"</span>
      <span class="nx">aria</span><span class="o">-</span><span class="nx">labelledby</span><span class="o">=</span><span class="p">{</span><span class="s2">`header-</span><span class="p">${</span><span class="nx">panelId</span><span class="p">}</span><span class="s2">`</span><span class="p">}</span>
      <span class="nx">hidden</span><span class="o">=</span><span class="p">{</span><span class="o">!</span><span class="nx">expanded</span><span class="p">}</span>
    <span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">accordion-content-inner</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="p">{</span><span class="nx">children</span><span class="p">}</span>
      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>

<span class="c1">// Compound component assignment</span>
<span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="o">=</span> <span class="nx">AccordionPanel</span><span class="p">;</span>
<span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span> <span class="o">=</span> <span class="nx">AccordionHeader</span><span class="p">;</span>
<span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span> <span class="o">=</span> <span class="nx">AccordionContent</span><span class="p">;</span>

<span class="c1">// Usage Examples</span>
<span class="kd">const</span> <span class="nx">FAQSection</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">(</span>
  <span class="o">&lt;</span><span class="nx">Accordion</span> <span class="nx">allowMultiple</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span> <span class="nx">defaultExpandedPanels</span><span class="o">=</span><span class="p">{[</span><span class="dl">'</span><span class="s1">panel1</span><span class="dl">'</span><span class="p">]}</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">panel1</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">What</span> <span class="nx">is</span> <span class="nx">React</span><span class="p">?</span><span class="o">&lt;</span><span class="sr">/Accordion.Header</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">React</span> <span class="nx">is</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">library</span> <span class="k">for</span> <span class="nx">building</span> <span class="nx">user</span> <span class="nx">interfaces</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">It</span> <span class="nx">was</span> <span class="nx">developed</span> <span class="nx">by</span> <span class="nx">Facebook</span> <span class="nx">and</span> <span class="nx">is</span> <span class="nx">now</span> <span class="nx">maintained</span> <span class="nx">by</span> <span class="nx">Meta</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Accordion.Content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Accordion.Panel</span><span class="err">&gt;
</span>
    <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">panel2</span><span class="dl">"</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">How</span> <span class="k">do</span> <span class="nx">hooks</span> <span class="nx">work</span><span class="p">?</span><span class="o">&lt;</span><span class="sr">/Accordion.Header</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Hooks</span> <span class="nx">are</span> <span class="nx">functions</span> <span class="nx">that</span> <span class="kd">let</span> <span class="nx">you</span> <span class="nx">use</span> <span class="nx">state</span> <span class="nx">and</span> <span class="nx">lifecycle</span> <span class="nx">features</span> <span class="k">in</span> <span class="nx">functional</span> <span class="nx">components</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">useState</span> <span class="k">for</span> <span class="nx">state</span> <span class="nx">management</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">useEffect</span> <span class="k">for</span> <span class="nx">side</span> <span class="nx">effects</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">useContext</span> <span class="k">for</span> <span class="nx">context</span> <span class="nx">consumption</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Accordion.Content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Accordion.Panel</span><span class="err">&gt;
</span>
    <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">panel3</span><span class="dl">"</span> <span class="nx">disabled</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">What</span> <span class="nx">is</span> <span class="nx">JSX</span><span class="p">?</span> <span class="p">(</span><span class="nx">Coming</span> <span class="nx">Soon</span><span class="p">)</span><span class="o">&lt;</span><span class="sr">/Accordion.Header</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">This</span> <span class="nx">content</span> <span class="nx">is</span> <span class="nx">not</span> <span class="nx">available</span> <span class="nx">yet</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Accordion.Content</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Accordion.Panel</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="sr">/Accordion</span><span class="err">&gt;
</span><span class="p">);</span>

<span class="c1">// Advanced Accordion with Custom Controls</span>
<span class="kd">const</span> <span class="nx">AdvancedAccordionDemo</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">expandedPanels</span><span class="p">,</span> <span class="nx">setExpandedPanels</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">([]);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">accordion-controls</span><span class="dl">"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">setExpandedPanels</span><span class="p">([</span><span class="dl">'</span><span class="s1">panel1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">panel2</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">panel3</span><span class="dl">'</span><span class="p">])}</span><span class="o">&gt;</span>
          <span class="nx">Expand</span> <span class="nx">All</span>
        <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span> <span class="o">=&gt;</span> <span class="nx">setExpandedPanels</span><span class="p">([])}</span><span class="o">&gt;</span>
          <span class="nx">Collapse</span> <span class="nx">All</span>
        <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>      
      <span class="o">&lt;</span><span class="nx">Accordion</span> 
        <span class="nx">allowMultiple</span><span class="o">=</span><span class="p">{</span><span class="kc">true</span><span class="p">}</span>
        <span class="nx">defaultExpandedPanels</span><span class="o">=</span><span class="p">{</span><span class="nx">expandedPanels</span><span class="p">}</span>
        <span class="nx">onChange</span><span class="o">=</span><span class="p">{</span><span class="nx">setExpandedPanels</span><span class="p">}</span>
      <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">panel1</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">Advanced</span> <span class="nx">React</span> <span class="nx">Patterns</span><span class="o">&lt;</span><span class="sr">/Accordion.Header</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">rich-content</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">Higher</span><span class="o">-</span><span class="nx">Order</span> <span class="nx">Components</span><span class="o">&lt;</span><span class="sr">/h4</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">p</span><span class="o">&gt;</span><span class="nx">Functions</span> <span class="nx">that</span> <span class="nx">take</span> <span class="nx">a</span> <span class="nx">component</span> <span class="nx">and</span> <span class="k">return</span> <span class="nx">a</span> <span class="k">new</span> <span class="nx">component</span><span class="p">.</span><span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">pre</span><span class="o">&gt;&lt;</span><span class="nx">code</span><span class="o">&gt;</span><span class="kd">const</span> <span class="nx">enhancedComponent</span> <span class="o">=</span> <span class="nx">withHOC</span><span class="p">(</span><span class="nx">BaseComponent</span><span class="p">);</span><span class="o">&lt;</span><span class="sr">/code&gt;&lt;/</span><span class="nx">pre</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/Accordion.Content</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/Accordion.Panel</span><span class="err">&gt;
</span>
        <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">panel2</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">Performance</span> <span class="nx">Optimization</span><span class="o">&lt;</span><span class="sr">/Accordion.Header</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">rich-content</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">React</span> <span class="nx">Performance</span><span class="o">&lt;</span><span class="sr">/h4</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">React</span><span class="p">.</span><span class="nx">memo</span> <span class="k">for</span> <span class="nx">component</span> <span class="nx">memoization</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">useMemo</span> <span class="k">for</span> <span class="nx">expensive</span> <span class="nx">calculations</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">useCallback</span> <span class="k">for</span> <span class="kd">function</span> <span class="nx">memoization</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">Code</span> <span class="nx">splitting</span> <span class="kd">with</span> <span class="nx">React</span><span class="p">.</span><span class="nx">lazy</span><span class="o">&lt;</span><span class="sr">/li</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/Accordion.Content</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/Accordion.Panel</span><span class="err">&gt;
</span>
        <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Panel</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">panel3</span><span class="dl">"</span><span class="o">&gt;</span>
          <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Header</span><span class="o">&gt;</span><span class="nx">State</span> <span class="nx">Management</span><span class="o">&lt;</span><span class="sr">/Accordion.Header</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="nx">Accordion</span><span class="p">.</span><span class="nx">Content</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">div</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">rich-content</span><span class="dl">"</span><span class="o">&gt;</span>
              <span class="o">&lt;</span><span class="nx">h4</span><span class="o">&gt;</span><span class="nx">State</span> <span class="nx">Management</span> <span class="nx">Solutions</span><span class="o">&lt;</span><span class="sr">/h4</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="nx">table</span><span class="o">&gt;</span>
                <span class="o">&lt;</span><span class="nx">thead</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;</span><span class="nx">Tool</span><span class="o">&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;</span><span class="nx">Use</span> <span class="nx">Case</span><span class="o">&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">th</span><span class="o">&gt;</span><span class="nx">Learning</span> <span class="nx">Curve</span><span class="o">&lt;</span><span class="sr">/th</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/thead</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="nx">tbody</span><span class="o">&gt;</span>
                  <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">useState</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Component</span> <span class="nx">state</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Easy</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">useReducer</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Complex</span> <span class="nx">state</span> <span class="nx">logic</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Medium</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="nx">tr</span><span class="o">&gt;</span>
                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Redux</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Global</span> <span class="nx">state</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                    <span class="o">&lt;</span><span class="nx">td</span><span class="o">&gt;</span><span class="nx">Hard</span><span class="o">&lt;</span><span class="sr">/td</span><span class="err">&gt;
</span>                  <span class="o">&lt;</span><span class="sr">/tr</span><span class="err">&gt;
</span>                <span class="o">&lt;</span><span class="sr">/tbody</span><span class="err">&gt;
</span>              <span class="o">&lt;</span><span class="sr">/table</span><span class="err">&gt;
</span>            <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>          <span class="o">&lt;</span><span class="sr">/Accordion.Content</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/Accordion.Panel</span><span class="err">&gt;
</span>      <span class="o">&lt;</span><span class="sr">/Accordion</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>  <span class="p">);</span>
<span class="p">};</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="-css-styling">ðŸŽ¨ CSS Styling</h2>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
</pre></td><td class="rouge-code"><pre><span class="c">/* Accordion Styles */</span>
<span class="nc">.accordion</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#e1e5e9</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
  <span class="nl">font-family</span><span class="p">:</span> <span class="n">-apple-system</span><span class="p">,</span> <span class="n">BlinkMacSystemFont</span><span class="p">,</span> <span class="s2">'Segoe UI'</span><span class="p">,</span> <span class="n">Roboto</span><span class="p">,</span> <span class="nb">sans-serif</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-panel</span> <span class="p">{</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#e1e5e9</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-panel</span><span class="nd">:last-child</span> <span class="p">{</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-panel.disabled</span> <span class="p">{</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0.6</span><span class="p">;</span>
  <span class="nl">pointer-events</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-header</span> <span class="p">{</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">16px</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#f8f9fa</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">space-between</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
  <span class="nl">font-weight</span><span class="p">:</span> <span class="m">500</span><span class="p">;</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">left</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-header</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#e9ecef</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-header</span><span class="nd">:focus</span> <span class="p">{</span>
  <span class="nl">outline</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="m">#007bff</span><span class="p">;</span>
  <span class="nl">outline-offset</span><span class="p">:</span> <span class="m">-2px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-header.expanded</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#e7f3ff</span><span class="p">;</span>
  <span class="nl">border-bottom</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#b8daff</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-icon</span> <span class="p">{</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">transform</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#6c757d</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-icon.rotated</span> <span class="p">{</span>
  <span class="nl">transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">180deg</span><span class="p">);</span>
<span class="p">}</span>

<span class="nc">.accordion-content</span> <span class="p">{</span>
  <span class="nl">max-height</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">max-height</span> <span class="m">0.3s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.accordion-content.expanded</span> <span class="p">{</span>
  <span class="nl">max-height</span><span class="p">:</span> <span class="m">1000px</span><span class="p">;</span> <span class="c">/* Adjust based on content */</span>
<span class="p">}</span>

<span class="nc">.accordion-content-inner</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Modal Styles */</span>
<span class="nc">.modal-overlay</span> <span class="p">{</span>
  <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
  <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">right</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="n">rgba</span><span class="p">(</span><span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0.5</span><span class="p">);</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">z-index</span><span class="p">:</span> <span class="m">1000</span><span class="p">;</span>
  <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">fadeIn</span> <span class="m">0.3s</span> <span class="n">ease</span> <span class="n">forwards</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.modal-overlay.animating</span> <span class="p">{</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">fadeIn</span> <span class="m">0.3s</span> <span class="n">ease</span> <span class="n">forwards</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.modal-content</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">8px</span><span class="p">;</span>
  <span class="nl">max-width</span><span class="p">:</span> <span class="m">500px</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">90%</span><span class="p">;</span>
  <span class="nl">max-height</span><span class="p">:</span> <span class="m">90vh</span><span class="p">;</span>
  <span class="nl">overflow-y</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
  <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">0.9</span><span class="p">);</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">scaleIn</span> <span class="m">0.3s</span> <span class="n">ease</span> <span class="n">forwards</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.modal-content.animating</span> <span class="p">{</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">scaleIn</span> <span class="m">0.3s</span> <span class="n">ease</span> <span class="n">forwards</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">fadeIn</span> <span class="p">{</span>
  <span class="nt">to</span> <span class="p">{</span>
    <span class="nl">opacity</span><span class="p">:</span> <span class="m">1</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">scaleIn</span> <span class="p">{</span>
  <span class="nt">to</span> <span class="p">{</span>
    <span class="nl">transform</span><span class="p">:</span> <span class="n">scale</span><span class="p">(</span><span class="m">1</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.confirmation-content</span><span class="o">,</span>
<span class="nc">.form-content</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">24px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.modal-actions</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
  <span class="py">gap</span><span class="p">:</span> <span class="m">12px</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="n">flex-end</span><span class="p">;</span>
  <span class="nl">margin-top</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.cancel-button</span><span class="o">,</span>
<span class="nc">.delete-button</span><span class="o">,</span>
<span class="nc">.retry-button</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">8px</span> <span class="m">16px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#ddd</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">4px</span><span class="p">;</span>
  <span class="nl">cursor</span><span class="p">:</span> <span class="nb">pointer</span><span class="p">;</span>
  <span class="nl">font-size</span><span class="p">:</span> <span class="m">14px</span><span class="p">;</span>
  <span class="nl">transition</span><span class="p">:</span> <span class="n">all</span> <span class="m">0.2s</span> <span class="n">ease</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.delete-button</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#dc3545</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">border-color</span><span class="p">:</span> <span class="m">#dc3545</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.delete-button</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#c82333</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.retry-button</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#007bff</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="no">white</span><span class="p">;</span>
  <span class="nl">border-color</span><span class="p">:</span> <span class="m">#007bff</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.retry-button</span><span class="nd">:hover</span> <span class="p">{</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#0056b3</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Loading and Error States */</span>
<span class="nc">.spinner</span> <span class="p">{</span>
  <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span><span class="p">;</span>
  <span class="nl">width</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">3px</span> <span class="nb">solid</span> <span class="m">#f3f3f3</span><span class="p">;</span>
  <span class="nl">border-top</span><span class="p">:</span> <span class="m">3px</span> <span class="nb">solid</span> <span class="m">#007bff</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
  <span class="nl">animation</span><span class="p">:</span> <span class="n">spin</span> <span class="m">1s</span> <span class="n">linear</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">spin</span> <span class="p">{</span>
  <span class="err">0</span><span class="o">%</span> <span class="p">{</span> <span class="nl">transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">0deg</span><span class="p">);</span> <span class="p">}</span>
  <span class="err">100</span><span class="o">%</span> <span class="p">{</span> <span class="nl">transform</span><span class="p">:</span> <span class="n">rotate</span><span class="p">(</span><span class="m">360deg</span><span class="p">);</span> <span class="p">}</span>
<span class="p">}</span>

<span class="nc">.error-container</span> <span class="p">{</span>
  <span class="nl">padding</span><span class="p">:</span> <span class="m">20px</span><span class="p">;</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">1px</span> <span class="nb">solid</span> <span class="m">#f5c6cb</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="m">#f8d7da</span><span class="p">;</span>
  <span class="nl">color</span><span class="p">:</span> <span class="m">#721c24</span><span class="p">;</span>
  <span class="nl">border-radius</span><span class="p">:</span> <span class="m">4px</span><span class="p">;</span>
  <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="-key-learning-points">ðŸ§  Key Learning Points</h2>

<h3 id="hocs-best-practices">HOCs Best Practices</h3>

<ol>
  <li><strong>Static Hoisting</strong>: Copy static methods from wrapped component</li>
  <li><strong>Ref Forwarding</strong>: Use <code class="language-plaintext highlighter-rouge">forwardRef</code> when refs are needed</li>
  <li><strong>Display Names</strong>: Set meaningful display names for debugging</li>
  <li><strong>Pure Functions</strong>: Keep HOCs pure and predictable</li>
</ol>

<h3 id="render-props-benefits">Render Props Benefits</h3>

<ol>
  <li><strong>Dynamic Rendering</strong>: More flexible than HOCs</li>
  <li><strong>Explicit Dependencies</strong>: Clear data flow</li>
  <li><strong>Better TypeScript Support</strong>: Easier to type</li>
  <li><strong>No Wrapper Hell</strong>: Cleaner component tree</li>
</ol>

<h3 id="compound-components-advantages">Compound Components Advantages</h3>

<ol>
  <li><strong>Flexible API</strong>: Users control structure</li>
  <li><strong>Implicit State Sharing</strong>: Clean component communication</li>
  <li><strong>Accessibility</strong>: Easier to implement ARIA patterns</li>
  <li><strong>Separation of Concerns</strong>: Each component has single responsibility</li>
</ol>

<h2 id="-interview-questions">ðŸ“ Interview Questions</h2>

<h3 id="technical-questions">Technical Questions</h3>

<ol>
  <li><strong>HOCs vs Render Props vs Hooks</strong>: When to use each pattern?</li>
  <li><strong>Performance</strong>: How do these patterns affect React performance?</li>
  <li><strong>Testing</strong>: How would you test these patterns?</li>
  <li><strong>TypeScript</strong>: How do you type these patterns correctly?</li>
</ol>

<h3 id="design-questions">Design Questions</h3>

<ol>
  <li><strong>API Design</strong>: How would you design a flexible component API?</li>
  <li><strong>State Management</strong>: Where should state live in compound components?</li>
  <li><strong>Accessibility</strong>: How do you ensure these patterns are accessible?</li>
  <li><strong>Error Boundaries</strong>: How do you handle errors in these patterns?</li>
</ol>

<h3 id="follow-up-challenges">Follow-up Challenges</h3>

<ol>
  <li><strong>Extend the Modal</strong>: Add drag-and-drop functionality</li>
  <li><strong>Enhance the Accordion</strong>: Add keyboard navigation between panels</li>
  <li><strong>Optimize the HOC</strong>: Implement proper memoization</li>
  <li><strong>Add Animation</strong>: Create smooth transitions for compound components</li>
</ol>

<p>This comprehensive problem set demonstrates advanced React patterns essential for big tech interviews, combining theoretical knowledge with practical implementation skills.</p>

        </div>
    </article>
</div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Study Resources</h3>
                    <p>Comprehensive collection of frontend interview questions, coding challenges, and system design problems.</p>
                </div>
                <div class="footer-section">
                    <h3>Progress Tracking</h3>
                    <p>Monitor your learning journey with detailed progress indicators and completion status.</p>
                </div>
                <div class="footer-section">
                    <h3>Big Tech Ready</h3>
                    <p>Curated content specifically designed for interviews at Google, Meta, Amazon, Apple, and Netflix.</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Frontend Interview Hub. Built for aspiring frontend engineers.</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="/assets/js/main.js"></script>
</body>
</html>