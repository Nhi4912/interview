<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/interview/_next/static/css/387024c6a2216908.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js"/><script src="/interview/_next/static/chunks/fd9d1056-6922f449a204c2cc.js" async=""></script><script src="/interview/_next/static/chunks/117-e7ecc085ce9cfab3.js" async=""></script><script src="/interview/_next/static/chunks/main-app-b06be5f3411c20c3.js" async=""></script><script src="/interview/_next/static/chunks/918-3273b83890f10546.js" async=""></script><script src="/interview/_next/static/chunks/930-3262a6c9c5acace4.js" async=""></script><script src="/interview/_next/static/chunks/app/docs/%5B...slug%5D/page-32962e9542d32755.js" async=""></script><script src="/interview/_next/static/chunks/710-dfaa11b4dff08f8e.js" async=""></script><script src="/interview/_next/static/chunks/972-011bba60ed155615.js" async=""></script><script src="/interview/_next/static/chunks/233-3e0c1d820a17eca9.js" async=""></script><script src="/interview/_next/static/chunks/app/layout-333f4adcd11f8f39.js" async=""></script><title>Frontend Interview Prep 2025 - Big Tech Interview Guide</title><meta name="description" content="Comprehensive frontend interview preparation for Big Tech companies including React, TypeScript, algorithms, and system design."/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#1a1a1a"/><meta property="og:title" content="Frontend Interview Prep 2025"/><meta property="og:description" content="Complete guide for frontend engineers targeting Big Tech companies"/><meta property="og:type" content="website"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><title>TypeScript Coding Challenges - Frontend Interview Docs</title><meta name="description" content=" # TypeScript Coding Challenges  ## Problem 1: Advanced Type Utilities  Create a comprehensive set of TypeScript utility types that can be used in real-world ap"/><meta property="og:title" content="TypeScript Coding Challenges - Frontend Interview Docs"/><meta property="og:description" content=" # TypeScript Coding Challenges  ## Problem 1: Advanced Type Utilities  Create a comprehensive set of TypeScript utility types that can be used in real-world ap"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="TypeScript Coding Challenges - Frontend Interview Docs"/><meta name="twitter:description" content=" # TypeScript Coding Challenges  ## Problem 1: Advanced Type Utilities  Create a comprehensive set of TypeScript utility types that can be used in real-world ap"/><meta name="next-size-adjust"/><script src="/interview/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-styled="" data-styled-version="6.1.19">*{margin:0;padding:0;box-sizing:border-box;}/*!sc*/
html{font-size:16px;line-height:1.5;scroll-behavior:smooth;}/*!sc*/
body{font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;font-size:1rem;line-height:1.5;color:#1e293b;background-color:#ffffff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.25;margin-bottom:0.5em;}/*!sc*/
h1{font-size:3rem;}/*!sc*/
@media (max-width: 768px){h1{font-size:2.25rem;}}/*!sc*/
h2{font-size:2.25rem;}/*!sc*/
@media (max-width: 768px){h2{font-size:1.875rem;}}/*!sc*/
h3{font-size:1.875rem;}/*!sc*/
@media (max-width: 768px){h3{font-size:1.5rem;}}/*!sc*/
h4{font-size:1.5rem;}/*!sc*/
@media (max-width: 768px){h4{font-size:1.25rem;}}/*!sc*/
h5{font-size:1.25rem;}/*!sc*/
h6{font-size:1.125rem;}/*!sc*/
p{margin-bottom:1rem;line-height:1.75;}/*!sc*/
a{color:#3b82f6;text-decoration:none;transition:color 0.15s ease;}/*!sc*/
a:hover{color:#2563eb;}/*!sc*/
a:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
button{cursor:pointer;border:none;background:none;font-family:inherit;font-size:inherit;}/*!sc*/
button:disabled{cursor:not-allowed;opacity:0.6;}/*!sc*/
button:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
input,textarea,select{font-family:inherit;font-size:inherit;}/*!sc*/
input:focus,textarea:focus,select:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
img{max-width:100%;height:auto;}/*!sc*/
ul,ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
li{margin-bottom:0.25rem;}/*!sc*/
blockquote{margin:1rem 0;padding:1rem;border-left:4px solid #3b82f6;background-color:#f1f5f9;font-style:italic;}/*!sc*/
code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;background-color:#f1f5f9;padding:0.2em 0.4em;border-radius:0.25rem;}/*!sc*/
pre{background-color:#f1f5f9;padding:1rem;border-radius:0.5rem;overflow-x:auto;margin-bottom:1rem;}/*!sc*/
pre code{background:none;padding:0;}/*!sc*/
table{width:100%;border-collapse:collapse;margin-bottom:1rem;}/*!sc*/
th,td{padding:0.75rem;text-align:left;border-bottom:1px solid #e2e8f0;}/*!sc*/
th{font-weight:600;background-color:#f1f5f9;}/*!sc*/
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0;}/*!sc*/
.skip-link{position:absolute;top:-40px;left:6px;background:#3b82f6;color:white;padding:8px;text-decoration:none;border-radius:4px;z-index:100;}/*!sc*/
.skip-link:focus{top:6px;}/*!sc*/
::-webkit-scrollbar{width:8px;height:8px;}/*!sc*/
::-webkit-scrollbar-track{background:#f1f5f9;}/*!sc*/
::-webkit-scrollbar-thumb{background:#94a3b8;border-radius:4px;}/*!sc*/
::-webkit-scrollbar-thumb:hover{background:#64748b;}/*!sc*/
::selection{background:#3b82f6;color:white;}/*!sc*/
.focus-visible{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
.fade-in{opacity:0;animation:fadeIn 0.3s ease forwards;}/*!sc*/
.slide-up{transform:translateY(20px);opacity:0;animation:slideUp 0.3s ease forwards;}/*!sc*/
@keyframes fadeIn{to{opacity:1;}}/*!sc*/
@keyframes slideUp{to{transform:translateY(0);opacity:1;}}/*!sc*/
@media print{*{background:white!important;color:black!important;box-shadow:none!important;text-shadow:none!important;}a,a:visited{text-decoration:underline;}h1,h2,h3,h4,h5,h6{break-after:avoid;}pre,blockquote{border:1px solid #999;break-inside:avoid;}img{max-width:100%!important;}@page{margin:0.5in;}}/*!sc*/
data-styled.g1[id="sc-global-kxA-Ddz1"]{content:"sc-global-kxA-Ddz1,"}/*!sc*/
.wbMrm{position:fixed;top:0;width:100%;z-index:1020;background:transparent;backdrop-filter:blur(10px);border-bottom:1px solid transparent;transition:all 0.3s ease;}/*!sc*/
data-styled.g2[id="sc-bRKDuR"]{content:"wbMrm,"}/*!sc*/
.kDxBNU{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:70px;}/*!sc*/
data-styled.g3[id="sc-hvigdm"]{content:"kDxBNU,"}/*!sc*/
.cvsJZg{display:flex;align-items:center;gap:0.5rem;font-size:1.5rem;font-weight:700;color:#3b82f6;text-decoration:none;cursor:pointer;}/*!sc*/
.cvsJZg:hover{color:#2563eb;}/*!sc*/
data-styled.g4[id="sc-fhHczv"]{content:"cvsJZg,"}/*!sc*/
.lfYVIv{display:flex;align-items:center;gap:2rem;}/*!sc*/
@media (max-width: 768px){.lfYVIv{display:none;}}/*!sc*/
data-styled.g5[id="sc-ggWZvA"]{content:"lfYVIv,"}/*!sc*/
.bhKRhV{color:#1e293b;font-weight:500;text-decoration:none;transition:color 0.15s ease;position:relative;}/*!sc*/
.bhKRhV:hover{color:#3b82f6;}/*!sc*/
.bhKRhV:after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:#3b82f6;transition:width 0.15s ease;}/*!sc*/
.bhKRhV:hover:after{width:100%;}/*!sc*/
data-styled.g6[id="sc-dTvVRJ"]{content:"bhKRhV,"}/*!sc*/
.gpUImn{display:none;background:none;border:none;color:#1e293b;cursor:pointer;padding:0.5rem;}/*!sc*/
@media (max-width: 768px){.gpUImn{display:block;}}/*!sc*/
data-styled.g7[id="sc-jwTyAe"]{content:"gpUImn,"}/*!sc*/
.hpKWkw{display:flex;align-items:center;gap:0.5rem;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:0.5rem;padding:0.5rem 1rem;color:#64748b;font-size:0.9rem;transition:all 0.15s ease;}/*!sc*/
.hpKWkw:hover{background:#ffffff;border-color:#3b82f6;}/*!sc*/
data-styled.g11[id="sc-kNOymR"]{content:"hpKWkw,"}/*!sc*/
.cJzheU{background:#1e293b;color:white;padding:3rem 0 1rem;margin-top:auto;}/*!sc*/
data-styled.g12[id="sc-dYwGCk"]{content:"cJzheU,"}/*!sc*/
.hJUFeT{max-width:1200px;margin:0 auto;padding:0 2rem;}/*!sc*/
data-styled.g13[id="sc-lgpSej"]{content:"hJUFeT,"}/*!sc*/
.mSxwd{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:2rem;margin-bottom:2rem;}/*!sc*/
@media (max-width: 768px){.mSxwd{grid-template-columns:1fr 1fr;gap:1.5rem;}}/*!sc*/
@media (max-width: 480px){.mSxwd{grid-template-columns:1fr;}}/*!sc*/
data-styled.g14[id="sc-eqYatC"]{content:"mSxwd,"}/*!sc*/
.cmBIup h3{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:white;}/*!sc*/
.cmBIup ul{list-style:none;padding:0;margin:0;}/*!sc*/
.cmBIup li{margin-bottom:0.5rem;}/*!sc*/
.cmBIup a{color:rgba(255, 255, 255, 0.7);text-decoration:none;transition:color 0.15s ease;}/*!sc*/
.cmBIup a:hover{color:white;}/*!sc*/
data-styled.g15[id="sc-kcLKEh"]{content:"cmBIup,"}/*!sc*/
.bAsNIP{display:flex;align-items:center;gap:0.5rem;font-size:1.2rem;font-weight:700;margin-bottom:1rem;color:white;}/*!sc*/
data-styled.g16[id="sc-dntSTA"]{content:"bAsNIP,"}/*!sc*/
.gWXMDV{color:rgba(255, 255, 255, 0.7);line-height:1.6;margin-bottom:1rem;}/*!sc*/
data-styled.g17[id="sc-kvnevz"]{content:"gWXMDV,"}/*!sc*/
.jCoOHQ{display:flex;gap:1rem;}/*!sc*/
.jCoOHQ a{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:rgba(255, 255, 255, 0.7);transition:all 0.15s ease;}/*!sc*/
.jCoOHQ a:hover{background:rgba(255, 255, 255, 0.2);color:white;}/*!sc*/
data-styled.g18[id="sc-dFVmKS"]{content:"jCoOHQ,"}/*!sc*/
.crUaYh{border-top:1px solid rgba(255, 255, 255, 0.1);padding-top:2rem;display:flex;justify-content:space-between;align-items:center;}/*!sc*/
@media (max-width: 768px){.crUaYh{flex-direction:column;gap:1rem;text-align:center;}}/*!sc*/
data-styled.g19[id="sc-kCuUfV"]{content:"crUaYh,"}/*!sc*/
.esMlQF{color:rgba(255, 255, 255, 0.7);margin:0;font-size:0.9rem;}/*!sc*/
data-styled.g20[id="sc-dNdcvo"]{content:"esMlQF,"}/*!sc*/
.eHcrXx{display:flex;gap:2rem;}/*!sc*/
@media (max-width: 480px){.eHcrXx{flex-direction:column;gap:1rem;}}/*!sc*/
.eHcrXx a{color:rgba(255, 255, 255, 0.7);text-decoration:none;font-size:0.9rem;transition:color 0.15s ease;}/*!sc*/
.eHcrXx a:hover{color:white;}/*!sc*/
data-styled.g21[id="sc-fbQrwq"]{content:"eHcrXx,"}/*!sc*/
.dAQFGp{color:#1e293b;line-height:1.6;}/*!sc*/
.dAQFGp h1,.dAQFGp h2,.dAQFGp h3,.dAQFGp h4,.dAQFGp h5,.dAQFGp h6{color:#1e293b;margin-top:2rem;margin-bottom:1rem;font-weight:600;}/*!sc*/
.dAQFGp h1{font-size:2rem;border-bottom:2px solid #e2e8f0;padding-bottom:0.5rem;}/*!sc*/
.dAQFGp h2{font-size:1.5rem;border-bottom:1px solid #e2e8f0;padding-bottom:0.3rem;}/*!sc*/
.dAQFGp h3{font-size:1.25rem;}/*!sc*/
.dAQFGp h4{font-size:1.1rem;}/*!sc*/
.dAQFGp p{margin-bottom:1rem;color:#64748b;}/*!sc*/
.dAQFGp a{color:#3b82f6;text-decoration:none;}/*!sc*/
.dAQFGp a:hover{text-decoration:underline;}/*!sc*/
.dAQFGp ul,.dAQFGp ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
.dAQFGp ul li,.dAQFGp ol li{margin-bottom:0.5rem;color:#64748b;}/*!sc*/
.dAQFGp blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#64748b;background:#f1f5f9;padding:1rem;border-radius:0.5rem;}/*!sc*/
.dAQFGp code{background:#f1f5f9;padding:0.2rem 0.4rem;border-radius:0.25rem;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;color:#f59e0b;}/*!sc*/
.dAQFGp pre{background:#ffffff;border:1px solid #e2e8f0;border-radius:0.5rem;padding:1rem;margin:1rem 0;overflow-x:auto;}/*!sc*/
.dAQFGp pre code{background:none;padding:0;color:#1e293b;font-size:0.9rem;}/*!sc*/
.dAQFGp table{width:100%;border-collapse:collapse;margin:1rem 0;}/*!sc*/
.dAQFGp table th,.dAQFGp table td{border:1px solid #e2e8f0;padding:0.5rem;text-align:left;}/*!sc*/
.dAQFGp table th{background:#ffffff;font-weight:600;}/*!sc*/
.dAQFGp table tr:nth-child(even){background:#f1f5f9;}/*!sc*/
.dAQFGp hr{border:none;height:1px;background:#e2e8f0;margin:2rem 0;}/*!sc*/
.dAQFGp .highlight{background:#3b82f620;padding:0.2rem 0.4rem;border-radius:0.25rem;font-weight:600;}/*!sc*/
.dAQFGp .hljs{background:#ffffff;color:#1e293b;}/*!sc*/
.dAQFGp .hljs-keyword{color:#3b82f6;font-weight:600;}/*!sc*/
.dAQFGp .hljs-string{color:#10b981;}/*!sc*/
.dAQFGp .hljs-function{color:#f59e0b;}/*!sc*/
.dAQFGp .hljs-comment{color:#94a3b8;font-style:italic;}/*!sc*/
.dAQFGp .hljs-number{color:#f59e0b;}/*!sc*/
.dAQFGp .hljs-variable{color:#1e293b;}/*!sc*/
.dAQFGp .hljs-title{color:#f59e0b;font-weight:600;}/*!sc*/
data-styled.g22[id="sc-gGKoUb"]{content:"dAQFGp,"}/*!sc*/
</style></head><body class="__className_6eac61"><div style="min-height:100vh;display:flex;flex-direction:column"><nav class="sc-bRKDuR wbMrm"><div class="sc-hvigdm kDxBNU"><a href="/interview"><a class="sc-fhHczv cvsJZg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</a></a><div class="sc-ggWZvA lfYVIv"><a href="/interview/problems"><a class="sc-dTvVRJ bhKRhV">Problems</a></a><a href="/interview/learn"><a class="sc-dTvVRJ bhKRhV">Learn</a></a><a href="/interview/study-guide"><a class="sc-dTvVRJ bhKRhV">Study Guide</a></a><a href="/interview/system-design"><a class="sc-dTvVRJ bhKRhV">System Design</a></a><a href="/interview/performance"><a class="sc-dTvVRJ bhKRhV">Performance</a></a><a href="/interview/accessibility"><a class="sc-dTvVRJ bhKRhV">Accessibility</a></a><a href="/interview/interview-tips"><a class="sc-dTvVRJ bhKRhV">Interview Tips</a></a><button class="sc-kNOymR hpKWkw"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search "><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search</button></div><button class="sc-jwTyAe gpUImn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu "><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></nav><main style="flex:1"><div style="max-width:1200px;margin:0 auto;padding:2rem;padding-top:6rem"><div style="margin-bottom:2rem"><nav style="color:#64748b;font-size:0.9rem;margin-bottom:1rem"><a href="/" style="color:#3b82f6;text-decoration:none">Home</a> &gt; <span>frontend &gt; coding-problems &gt; 16-typescript-challenges</span></nav><h1 style="font-size:2.5rem;font-weight:800;margin-bottom:0.5rem;color:#1e293b">TypeScript Coding Challenges</h1><div style="color:#64748b;font-size:0.9rem;margin-bottom:2rem"><span>📁 <!-- -->frontend/coding-problems/16-typescript-challenges.md</span></div></div><div class="sc-gGKoUb dAQFGp"><h1 id="typescript-coding-challenges" node="[object Object]">TypeScript Coding Challenges</h1>
<h2 id="problem-1:-advanced-type-utilities" node="[object Object]">Problem 1: Advanced Type Utilities</h2>
<p>Create a comprehensive set of TypeScript utility types that can be used in real-world applications.</p>
<h3 id="requirements:" node="[object Object]">Requirements:</h3>
<ol>
<li><strong>DeepReadonly</strong>: Make all properties deeply readonly</li>
<li><strong>DeepPartial</strong>: Make all properties deeply optional</li>
<li><strong>RequiredKeys</strong>: Extract keys that are required</li>
<li><strong>OptionalKeys</strong>: Extract keys that are optional</li>
<li><strong>PickByType</strong>: Pick properties by their type</li>
<li><strong>OmitByType</strong>: Omit properties by their type</li>
</ol>
<h3 id="solution:" node="[object Object]">Solution:</h3>
<p>{% raw %}</p>
<pre><pre><code class="hljs hljs language-typescript"><span class="hljs-comment">// DeepReadonly - makes all properties deeply readonly</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepReadonly</span>&lt;T&gt; = {
  <span class="hljs-keyword">readonly</span> [P <span class="hljs-keyword">in</span> keyof T]: T[P] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>
    ? T[P] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Function</span>
      ? T[P]
      : <span class="hljs-title class_">DeepReadonly</span>&lt;T[P]&gt;
    : T[P];
};

<span class="hljs-comment">// DeepPartial - makes all properties deeply optional</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepPartial</span>&lt;T&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T]?: T[P] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>
    ? T[P] <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Function</span>
      ? T[P]
      : <span class="hljs-title class_">DeepPartial</span>&lt;T[P]&gt;
    : T[P];
};

<span class="hljs-comment">// RequiredKeys - extract keys that are required</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">RequiredKeys</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]-?: {} <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;T, K&gt; ? <span class="hljs-built_in">never</span> : K;
}[keyof T];

<span class="hljs-comment">// OptionalKeys - extract keys that are optional</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionalKeys</span>&lt;T&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]-?: {} <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;T, K&gt; ? K : <span class="hljs-built_in">never</span>;
}[keyof T];

<span class="hljs-comment">// PickByType - pick properties by their type</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PickByType</span>&lt;T, U&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T <span class="hljs-keyword">as</span> T[P] <span class="hljs-keyword">extends</span> U ? P : <span class="hljs-built_in">never</span>]: T[P];
};

<span class="hljs-comment">// OmitByType - omit properties by their type</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OmitByType</span>&lt;T, U&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T <span class="hljs-keyword">as</span> T[P] <span class="hljs-keyword">extends</span> U ? <span class="hljs-built_in">never</span> : P]: T[P];
};

<span class="hljs-comment">// NonNullable utility for deep objects</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">DeepNonNullable</span>&lt;T&gt; = {
  [P <span class="hljs-keyword">in</span> keyof T]-?: T[P] <span class="hljs-keyword">extends</span> <span class="hljs-built_in">object</span>
    ? <span class="hljs-title class_">DeepNonNullable</span>&lt;T[P]&gt;
    : <span class="hljs-title class_">NonNullable</span>&lt;T[P]&gt;;
};

<span class="hljs-comment">// Function parameter types</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FunctionParams</span>&lt;T <span class="hljs-title function_">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>[]) =&gt; <span class="hljs-built_in">any</span>&gt; = T <span class="hljs-title function_">extends</span> (
  ...<span class="hljs-attr">args</span>: infer P
) =&gt; <span class="hljs-built_in">any</span>
  ? P
  : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// Promise unwrapping</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Awaited</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Promise</span>&lt;infer U&gt; ? <span class="hljs-title class_">Awaited</span>&lt;U&gt; : T;

<span class="hljs-comment">// Example usage and tests</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">User</span> {
  <span class="hljs-attr">id</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">email</span>?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">profile</span>: {
    <span class="hljs-attr">bio</span>: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">avatar</span>?: <span class="hljs-built_in">string</span>;
    <span class="hljs-attr">settings</span>: {
      <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;light&#x27;</span> | <span class="hljs-string">&#x27;dark&#x27;</span>;
      <span class="hljs-attr">notifications</span>: <span class="hljs-built_in">boolean</span>;
    };
  };
  <span class="hljs-attr">roles</span>: <span class="hljs-built_in">string</span>[];
  <span class="hljs-attr">createdAt</span>: <span class="hljs-title class_">Date</span>;
  <span class="hljs-attr">updateProfile</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">data</span>: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">User</span>[<span class="hljs-string">&#x27;profile&#x27;</span>]&gt;</span>) =&gt;</span> <span class="hljs-built_in">void</span>;
}

<span class="hljs-comment">// Test the utility types</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ReadonlyUser</span> = <span class="hljs-title class_">DeepReadonly</span>&lt;<span class="hljs-title class_">User</span>&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">PartialUser</span> = <span class="hljs-title class_">DeepPartial</span>&lt;<span class="hljs-title class_">User</span>&gt;;
<span class="hljs-keyword">type</span> <span class="hljs-title class_">RequiredUserKeys</span> = <span class="hljs-title class_">RequiredKeys</span>&lt;<span class="hljs-title class_">User</span>&gt;; <span class="hljs-comment">// &#x27;id&#x27; | &#x27;name&#x27; | &#x27;profile&#x27; | &#x27;roles&#x27; | &#x27;createdAt&#x27; | &#x27;updateProfile&#x27;</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">OptionalUserKeys</span> = <span class="hljs-title class_">OptionalKeys</span>&lt;<span class="hljs-title class_">User</span>&gt;; <span class="hljs-comment">// &#x27;email&#x27;</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">StringProps</span> = <span class="hljs-title class_">PickByType</span>&lt;<span class="hljs-title class_">User</span>, <span class="hljs-built_in">string</span>&gt;; <span class="hljs-comment">// { name: string }</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">NonStringProps</span> = <span class="hljs-title class_">OmitByType</span>&lt;<span class="hljs-title class_">User</span>, <span class="hljs-built_in">string</span>&gt;; <span class="hljs-comment">// Omits string properties</span>

<span class="hljs-comment">// Advanced conditional type</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">IsArray</span>&lt;T&gt; = T <span class="hljs-keyword">extends</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">unknown</span>[] ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>;

<span class="hljs-comment">// Tuple to Union</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">TupleToUnion</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-keyword">readonly</span> <span class="hljs-built_in">unknown</span>[]&gt; = T[<span class="hljs-built_in">number</span>];

<span class="hljs-comment">// Union to Intersection</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">UnionToIntersection</span>&lt;U&gt; = (U <span class="hljs-keyword">extends</span> <span class="hljs-built_in">any</span> ? <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">k</span>: U</span>) =&gt;</span> <span class="hljs-built_in">void</span> : <span class="hljs-built_in">never</span>) <span class="hljs-title function_">extends</span> (
  <span class="hljs-attr">k</span>: infer I
) =&gt; <span class="hljs-built_in">void</span>
  ? I
  : <span class="hljs-built_in">never</span>;

<span class="hljs-comment">// Test cases</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">testUtilityTypes</span>(<span class="hljs-params"></span>) {
  <span class="hljs-comment">// DeepReadonly test</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">readonlyUser</span>: <span class="hljs-title class_">ReadonlyUser</span> = {} <span class="hljs-keyword">as</span> <span class="hljs-title class_">ReadonlyUser</span>;
  <span class="hljs-comment">// readonlyUser.profile.settings.theme = &#x27;dark&#x27;; // Error: Cannot assign to readonly property</span>
  
  <span class="hljs-comment">// DeepPartial test</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">partialUser</span>: <span class="hljs-title class_">PartialUser</span> = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>,
    <span class="hljs-attr">profile</span>: {
      <span class="hljs-attr">settings</span>: {
        <span class="hljs-attr">theme</span>: <span class="hljs-string">&#x27;light&#x27;</span>
        <span class="hljs-comment">// notifications is optional</span>
      }
    }
  };
  
  <span class="hljs-comment">// PickByType test</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">stringOnlyProps</span>: <span class="hljs-title class_">StringProps</span> = { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span> };
  
  <span class="hljs-comment">// Type assertions to verify correctness</span>
  <span class="hljs-keyword">const</span> <span class="hljs-attr">requiredKeys</span>: <span class="hljs-title class_">RequiredUserKeys</span>[] = [<span class="hljs-string">&#x27;id&#x27;</span>, <span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;profile&#x27;</span>, <span class="hljs-string">&#x27;roles&#x27;</span>, <span class="hljs-string">&#x27;createdAt&#x27;</span>, <span class="hljs-string">&#x27;updateProfile&#x27;</span>];
  <span class="hljs-keyword">const</span> <span class="hljs-attr">optionalKeys</span>: <span class="hljs-title class_">OptionalUserKeys</span>[] = [<span class="hljs-string">&#x27;email&#x27;</span>];
}

<span class="hljs-comment">// Advanced example: API Response Type Builder</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">ApiResponse</span>&lt;T&gt; = {
  <span class="hljs-attr">data</span>: T;
  <span class="hljs-attr">status</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">PaginatedResponse</span>&lt;T&gt; = <span class="hljs-title class_">ApiResponse</span>&lt;T&gt; &amp; {
  <span class="hljs-attr">pagination</span>: {
    <span class="hljs-attr">page</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">limit</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">total</span>: <span class="hljs-built_in">number</span>;
    <span class="hljs-attr">hasNext</span>: <span class="hljs-built_in">boolean</span>;
    <span class="hljs-attr">hasPrev</span>: <span class="hljs-built_in">boolean</span>;
  };
};

<span class="hljs-comment">// Generic API client with typed responses</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ApiClient</span> {
  <span class="hljs-keyword">async</span> get&lt;T&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ApiResponse</span>&lt;T&gt;&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }
  
  <span class="hljs-keyword">async</span> getPaginated&lt;T&gt;(<span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">page</span>: <span class="hljs-built_in">number</span> = <span class="hljs-number">1</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">PaginatedResponse</span>&lt;T[]&gt;&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`<span class="hljs-subst">${url}</span>?page=<span class="hljs-subst">${page}</span>`</span>);
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }
  
  <span class="hljs-keyword">async</span> post&lt;<span class="hljs-title class_">TRequest</span>, <span class="hljs-title class_">TResponse</span>&gt;(
    <span class="hljs-attr">url</span>: <span class="hljs-built_in">string</span>, 
    <span class="hljs-attr">data</span>: <span class="hljs-title class_">TRequest</span>
  ): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">ApiResponse</span>&lt;<span class="hljs-title class_">TResponse</span>&gt;&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">&#x27;Content-Type&#x27;</span>: <span class="hljs-string">&#x27;application/json&#x27;</span> },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data)
    });
    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
  }
}

<span class="hljs-comment">// Usage with proper typing</span>
<span class="hljs-keyword">const</span> api = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ApiClient</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchUsers</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-property">getPaginated</span>&lt;<span class="hljs-title class_">User</span>&gt;(<span class="hljs-string">&#x27;/api/users&#x27;</span>);
  <span class="hljs-comment">// response.data is typed as User[]</span>
  <span class="hljs-comment">// response.pagination is properly typed</span>
  
  <span class="hljs-keyword">const</span> createResponse = <span class="hljs-keyword">await</span> api.<span class="hljs-property">post</span>&lt;<span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">User</span>&gt;, <span class="hljs-title class_">User</span>&gt;(
    <span class="hljs-string">&#x27;/api/users&#x27;</span>,
    { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;john@example.com&#x27;</span> }
  );
  <span class="hljs-comment">// createResponse.data is typed as User</span>
}
</code></pre></pre>
<p>{% endraw %}</p>
<h2 id="problem-2:-type-safe-event-system" node="[object Object]">Problem 2: Type-Safe Event System</h2>
<p>Build a type-safe event emitter system that ensures event names and payload types are correctly matched.</p>
<h3 id="requirements:" node="[object Object]">Requirements:</h3>
<ol>
<li><strong>Type-safe event names</strong>: Only registered events can be emitted/listened to</li>
<li><strong>Payload type safety</strong>: Event payloads must match defined types</li>
<li><strong>Method chaining</strong>: Support for method chaining</li>
<li><strong>Unsubscribe functionality</strong>: Ability to remove listeners</li>
<li><strong>Once listeners</strong>: Support for one-time event listeners</li>
</ol>
<h3 id="solution:" node="[object Object]">Solution:</h3>
<pre><pre><code class="hljs hljs language-typescript"><span class="hljs-comment">// Event map interface - defines available events and their payload types</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">EventMap</span> {
  [<span class="hljs-attr">eventName</span>: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span>;
}

<span class="hljs-comment">// Listener function type</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">Listener</span>&lt;T&gt; = <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">payload</span>: T</span>) =&gt;</span> <span class="hljs-built_in">void</span>;

<span class="hljs-comment">// Internal listener storage</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ListenerData</span>&lt;T&gt; {
  <span class="hljs-attr">listener</span>: <span class="hljs-title class_">Listener</span>&lt;T&gt;;
  <span class="hljs-attr">once</span>: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">class</span> <span class="hljs-title class_">TypedEventEmitter</span>&lt;<span class="hljs-title class_">TEventMap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EventMap</span>&gt; {
  <span class="hljs-keyword">private</span> listeners = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>&lt;keyof <span class="hljs-title class_">TEventMap</span>, <span class="hljs-title class_">Set</span>&lt;<span class="hljs-title class_">ListenerData</span>&lt;<span class="hljs-built_in">any</span>&gt;&gt;&gt;();
  
  <span class="hljs-comment">// Add event listener</span>
  on&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">listener</span>: <span class="hljs-title class_">Listener</span>&lt;<span class="hljs-title class_">TEventMap</span>[K]&gt;
  ): <span class="hljs-variable language_">this</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addListener</span>(event, listener, <span class="hljs-literal">false</span>);
  }
  
  <span class="hljs-comment">// Add one-time event listener</span>
  once&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">listener</span>: <span class="hljs-title class_">Listener</span>&lt;<span class="hljs-title class_">TEventMap</span>[K]&gt;
  ): <span class="hljs-variable language_">this</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addListener</span>(event, listener, <span class="hljs-literal">true</span>);
  }
  
  <span class="hljs-comment">// Remove event listener</span>
  off&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">listener</span>: <span class="hljs-title class_">Listener</span>&lt;<span class="hljs-title class_">TEventMap</span>[K]&gt;
  ): <span class="hljs-variable language_">this</span> {
    <span class="hljs-keyword">const</span> eventListeners = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">get</span>(event);
    <span class="hljs-keyword">if</span> (eventListeners) {
      eventListeners.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listenerData</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (listenerData.<span class="hljs-property">listener</span> === listener) {
          eventListeners.<span class="hljs-title function_">delete</span>(listenerData);
        }
      });
      
      <span class="hljs-keyword">if</span> (eventListeners.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">delete</span>(event);
      }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }
  
  <span class="hljs-comment">// Emit event</span>
  emit&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">payload</span>: <span class="hljs-title class_">TEventMap</span>[K]
  ): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">const</span> eventListeners = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">get</span>(event);
    <span class="hljs-keyword">if</span> (!eventListeners || eventListeners.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-keyword">const</span> <span class="hljs-attr">listenersToRemove</span>: <span class="hljs-title class_">ListenerData</span>&lt;<span class="hljs-title class_">TEventMap</span>[K]&gt;[] = [];
    
    eventListeners.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listenerData</span> =&gt;</span> {
      listenerData.<span class="hljs-title function_">listener</span>(payload);
      
      <span class="hljs-keyword">if</span> (listenerData.<span class="hljs-property">once</span>) {
        listenersToRemove.<span class="hljs-title function_">push</span>(listenerData);
      }
    });
    
    <span class="hljs-comment">// Remove one-time listeners</span>
    listenersToRemove.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">listenerData</span> =&gt;</span> {
      eventListeners.<span class="hljs-title function_">delete</span>(listenerData);
    });
    
    <span class="hljs-keyword">if</span> (eventListeners.<span class="hljs-property">size</span> === <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">delete</span>(event);
    }
    
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
  
  <span class="hljs-comment">// Remove all listeners for an event</span>
  removeAllListeners&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(<span class="hljs-attr">event</span>?: K): <span class="hljs-variable language_">this</span> {
    <span class="hljs-keyword">if</span> (event) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">delete</span>(event);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">clear</span>();
    }
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }
  
  <span class="hljs-comment">// Get listener count for an event</span>
  listenerCount&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(<span class="hljs-attr">event</span>: K): <span class="hljs-built_in">number</span> {
    <span class="hljs-keyword">const</span> eventListeners = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">get</span>(event);
    <span class="hljs-keyword">return</span> eventListeners ? eventListeners.<span class="hljs-property">size</span> : <span class="hljs-number">0</span>;
  }
  
  <span class="hljs-comment">// Get all event names that have listeners</span>
  <span class="hljs-title function_">eventNames</span>(): (keyof <span class="hljs-title class_">TEventMap</span>)[] {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">keys</span>());
  }
  
  <span class="hljs-keyword">private</span> addListener&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">listener</span>: <span class="hljs-title class_">Listener</span>&lt;<span class="hljs-title class_">TEventMap</span>[K]&gt;,
    <span class="hljs-attr">once</span>: <span class="hljs-built_in">boolean</span>
  ): <span class="hljs-variable language_">this</span> {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">has</span>(event)) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">set</span>(event, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>());
    }
    
    <span class="hljs-keyword">const</span> eventListeners = <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">get</span>(event)!;
    eventListeners.<span class="hljs-title function_">add</span>({ listener, once });
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }
}

<span class="hljs-comment">// Example usage</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">AppEvents</span> {
  <span class="hljs-string">&#x27;user:login&#x27;</span>: { <span class="hljs-attr">userId</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">username</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span> };
  <span class="hljs-string">&#x27;user:logout&#x27;</span>: { <span class="hljs-attr">userId</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span> };
  <span class="hljs-string">&#x27;post:created&#x27;</span>: { <span class="hljs-attr">postId</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">authorId</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">title</span>: <span class="hljs-built_in">string</span> };
  <span class="hljs-string">&#x27;post:updated&#x27;</span>: { <span class="hljs-attr">postId</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">changes</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt; };
  <span class="hljs-string">&#x27;error&#x27;</span>: { <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>; <span class="hljs-attr">code</span>: <span class="hljs-built_in">number</span>; <span class="hljs-attr">stack</span>?: <span class="hljs-built_in">string</span> };
  <span class="hljs-string">&#x27;notification&#x27;</span>: { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;info&#x27;</span> | <span class="hljs-string">&#x27;warning&#x27;</span> | <span class="hljs-string">&#x27;error&#x27;</span>; <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span> };
}

<span class="hljs-keyword">const</span> eventEmitter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TypedEventEmitter</span>&lt;<span class="hljs-title class_">AppEvents</span>&gt;();

<span class="hljs-comment">// Type-safe event listeners</span>
eventEmitter
  .<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;user:login&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-comment">// data is typed as { userId: string; username: string; timestamp: Date }</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`User <span class="hljs-subst">${data.username}</span> logged in at <span class="hljs-subst">${data.timestamp}</span>`</span>);
  })
  .<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;post:created&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> {
    <span class="hljs-comment">// data is typed as { postId: string; authorId: string; title: string }</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`New post created: <span class="hljs-subst">${data.title}</span>`</span>);
  })
  .<span class="hljs-title function_">once</span>(<span class="hljs-string">&#x27;error&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
    <span class="hljs-comment">// data is typed as { message: string; code: number; stack?: string }</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error <span class="hljs-subst">${error.code}</span>: <span class="hljs-subst">${error.message}</span>`</span>);
  });

<span class="hljs-comment">// Type-safe event emission</span>
eventEmitter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;user:login&#x27;</span>, {
  <span class="hljs-attr">userId</span>: <span class="hljs-string">&#x27;123&#x27;</span>,
  <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;john_doe&#x27;</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
});

<span class="hljs-comment">// This would cause a TypeScript error:</span>
<span class="hljs-comment">// eventEmitter.emit(&#x27;user:login&#x27;, { userId: 123 }); // Error: missing properties</span>

<span class="hljs-comment">// Advanced: Event emitter with middleware</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">EventMiddleware</span>&lt;<span class="hljs-title class_">TEventMap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EventMap</span>&gt; = {
  &lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">payload</span>: <span class="hljs-title class_">TEventMap</span>[K],
    <span class="hljs-attr">next</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>
  ): <span class="hljs-built_in">void</span>;
};

<span class="hljs-keyword">class</span> <span class="hljs-title class_">AdvancedEventEmitter</span>&lt;<span class="hljs-title class_">TEventMap</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">EventMap</span>&gt; <span class="hljs-keyword">extends</span> <span class="hljs-title class_">TypedEventEmitter</span>&lt;<span class="hljs-title class_">TEventMap</span>&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">middleware</span>: <span class="hljs-title class_">EventMiddleware</span>&lt;<span class="hljs-title class_">TEventMap</span>&gt;[] = [];
  
  <span class="hljs-title function_">use</span>(<span class="hljs-attr">middleware</span>: <span class="hljs-title class_">EventMiddleware</span>&lt;<span class="hljs-title class_">TEventMap</span>&gt;): <span class="hljs-variable language_">this</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(middleware);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }
  
  emit&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">TEventMap</span>&gt;(
    <span class="hljs-attr">event</span>: K,
    <span class="hljs-attr">payload</span>: <span class="hljs-title class_">TEventMap</span>[K]
  ): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>;
    
    <span class="hljs-keyword">const</span> runMiddleware = (): <span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (index &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-property">length</span>) {
        <span class="hljs-variable language_">super</span>.<span class="hljs-title function_">emit</span>(event, payload);
        <span class="hljs-keyword">return</span>;
      }
      
      <span class="hljs-keyword">const</span> middleware = <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>[index++];
      <span class="hljs-title function_">middleware</span>(event, payload, runMiddleware);
    };
    
    <span class="hljs-title function_">runMiddleware</span>();
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
  }
}

<span class="hljs-comment">// Usage with middleware</span>
<span class="hljs-keyword">const</span> advancedEmitter = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AdvancedEventEmitter</span>&lt;<span class="hljs-title class_">AppEvents</span>&gt;();

<span class="hljs-comment">// Logging middleware</span>
advancedEmitter.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">event, payload, next</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`Event: <span class="hljs-subst">${<span class="hljs-built_in">String</span>(event)}</span>`</span>, payload);
  <span class="hljs-title function_">next</span>();
});

<span class="hljs-comment">// Validation middleware</span>
advancedEmitter.<span class="hljs-title function_">use</span>(<span class="hljs-function">(<span class="hljs-params">event, payload, next</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event === <span class="hljs-string">&#x27;error&#x27;</span> &amp;&amp; !payload.<span class="hljs-property">message</span>) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&#x27;Error event must have a message&#x27;</span>);
    <span class="hljs-keyword">return</span>;
  }
  <span class="hljs-title function_">next</span>();
});

advancedEmitter.<span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;user:login&#x27;</span>, {
  <span class="hljs-attr">userId</span>: <span class="hljs-string">&#x27;123&#x27;</span>,
  <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;john_doe&#x27;</span>,
  <span class="hljs-attr">timestamp</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()
});
</code></pre></pre>
<h2 id="problem-3:-generic-form-builder" node="[object Object]">Problem 3: Generic Form Builder</h2>
<p>Create a type-safe form builder that generates forms based on schema definitions with validation.</p>
<h3 id="requirements:" node="[object Object]">Requirements:</h3>
<ol>
<li><strong>Type-safe schema</strong>: Form schema should define field types and validation</li>
<li><strong>Dynamic form generation</strong>: Generate form fields based on schema</li>
<li><strong>Validation</strong>: Built-in and custom validation with error messages</li>
<li><strong>Type-safe values</strong>: Form values should be correctly typed</li>
<li><strong>Conditional fields</strong>: Support for conditional field display</li>
</ol>
<h3 id="solution:" node="[object Object]">Solution:</h3>
<pre><pre><code class="hljs hljs language-typescript"><span class="hljs-comment">// Base field types</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FieldType</span> = <span class="hljs-string">&#x27;text&#x27;</span> | <span class="hljs-string">&#x27;email&#x27;</span> | <span class="hljs-string">&#x27;password&#x27;</span> | <span class="hljs-string">&#x27;number&#x27;</span> | <span class="hljs-string">&#x27;select&#x27;</span> | <span class="hljs-string">&#x27;checkbox&#x27;</span> | <span class="hljs-string">&#x27;date&#x27;</span>;

<span class="hljs-comment">// Validation rules</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ValidationRule</span>&lt;T = <span class="hljs-built_in">any</span>&gt; {
  <span class="hljs-attr">rule</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">value</span>: T</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">message</span>: <span class="hljs-built_in">string</span>;
}

<span class="hljs-comment">// Field configuration</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">BaseFieldConfig</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-title class_">FieldType</span>;
  <span class="hljs-attr">label</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">placeholder</span>?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">required</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">disabled</span>?: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">validation</span>?: <span class="hljs-title class_">ValidationRule</span>&lt;<span class="hljs-built_in">any</span>&gt;[];
  <span class="hljs-attr">dependsOn</span>?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">condition</span>?: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">values</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">any</span>&gt;</span>) =&gt;</span> <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">TextFieldConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseFieldConfig</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;text&#x27;</span> | <span class="hljs-string">&#x27;email&#x27;</span> | <span class="hljs-string">&#x27;password&#x27;</span>;
  <span class="hljs-attr">minLength</span>?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">maxLength</span>?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">NumberFieldConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseFieldConfig</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;number&#x27;</span>;
  <span class="hljs-attr">min</span>?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">max</span>?: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">step</span>?: <span class="hljs-built_in">number</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">SelectFieldConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseFieldConfig</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;select&#x27;</span>;
  <span class="hljs-attr">options</span>: { <span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>; <span class="hljs-attr">label</span>: <span class="hljs-built_in">string</span> }[];
  <span class="hljs-attr">multiple</span>?: <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">CheckboxFieldConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseFieldConfig</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;checkbox&#x27;</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">DateFieldConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BaseFieldConfig</span> {
  <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;date&#x27;</span>;
  <span class="hljs-attr">min</span>?: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">max</span>?: <span class="hljs-built_in">string</span>;
}

<span class="hljs-keyword">type</span> <span class="hljs-title class_">FieldConfig</span> = 
  | <span class="hljs-title class_">TextFieldConfig</span> 
  | <span class="hljs-title class_">NumberFieldConfig</span> 
  | <span class="hljs-title class_">SelectFieldConfig</span> 
  | <span class="hljs-title class_">CheckboxFieldConfig</span> 
  | <span class="hljs-title class_">DateFieldConfig</span>;

<span class="hljs-comment">// Form schema</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">FormSchema</span> = <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-title class_">FieldConfig</span>&gt;;

<span class="hljs-comment">// Infer value types from schema</span>
<span class="hljs-keyword">type</span> <span class="hljs-title class_">InferFormValues</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FormSchema</span>&gt; = {
  [K <span class="hljs-keyword">in</span> keyof T]: T[K] <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;text&#x27;</span> | <span class="hljs-string">&#x27;email&#x27;</span> | <span class="hljs-string">&#x27;password&#x27;</span> }
    ? <span class="hljs-built_in">string</span>
    : T[K] <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;number&#x27;</span> }
    ? <span class="hljs-built_in">number</span>
    : T[K] <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;select&#x27;</span>; <span class="hljs-attr">multiple</span>: <span class="hljs-literal">true</span> }
    ? (<span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>)[]
    : T[K] <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;select&#x27;</span> }
    ? <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span>
    : T[K] <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;checkbox&#x27;</span> }
    ? <span class="hljs-built_in">boolean</span>
    : T[K] <span class="hljs-keyword">extends</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;date&#x27;</span> }
    ? <span class="hljs-title class_">Date</span>
    : <span class="hljs-built_in">any</span>;
};

<span class="hljs-comment">// Form validation result</span>
<span class="hljs-keyword">interface</span> <span class="hljs-title class_">ValidationResult</span> {
  <span class="hljs-attr">isValid</span>: <span class="hljs-built_in">boolean</span>;
  <span class="hljs-attr">errors</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>[]&gt;;
}

<span class="hljs-comment">// Form builder class</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">FormBuilder</span>&lt;<span class="hljs-title class_">TSchema</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">FormSchema</span>&gt; {
  <span class="hljs-keyword">private</span> <span class="hljs-attr">schema</span>: <span class="hljs-title class_">TSchema</span>;
  <span class="hljs-keyword">private</span> <span class="hljs-attr">values</span>: <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;&gt; = {};
  <span class="hljs-keyword">private</span> <span class="hljs-attr">errors</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">string</span>[]&gt; = {};
  <span class="hljs-keyword">private</span> <span class="hljs-attr">touched</span>: <span class="hljs-title class_">Record</span>&lt;<span class="hljs-built_in">string</span>, <span class="hljs-built_in">boolean</span>&gt; = {};

  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"><span class="hljs-attr">schema</span>: <span class="hljs-title class_">TSchema</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span> = schema;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initializeValues</span>();
  }

  <span class="hljs-keyword">private</span> <span class="hljs-title function_">initializeValues</span>(): <span class="hljs-built_in">void</span> {
    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">key</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> field = <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>[key];
      
      <span class="hljs-keyword">switch</span> (field.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;checkbox&#x27;</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[key <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;] = <span class="hljs-literal">false</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>;
          <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;select&#x27;</span>:
          <span class="hljs-keyword">if</span> ((field <span class="hljs-keyword">as</span> <span class="hljs-title class_">SelectFieldConfig</span>).<span class="hljs-property">multiple</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[key <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;] = [] <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>;
          }
          <span class="hljs-keyword">break</span>;
        <span class="hljs-attr">default</span>:
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[key <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;] = <span class="hljs-literal">undefined</span> <span class="hljs-keyword">as</span> <span class="hljs-built_in">any</span>;
      }
    });
  }

  <span class="hljs-comment">// Set field value</span>
  setValue&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;&gt;(
    <span class="hljs-attr">field</span>: K,
    <span class="hljs-attr">value</span>: <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;[K]
  ): <span class="hljs-variable language_">this</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[field] = value;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">touched</span>[field <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>] = <span class="hljs-literal">true</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(field <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-comment">// Get field value</span>
  getValue&lt;K <span class="hljs-keyword">extends</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;&gt;(
    <span class="hljs-attr">field</span>: K
  ): <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;[K] | <span class="hljs-literal">undefined</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[field];
  }

  <span class="hljs-comment">// Get all values</span>
  <span class="hljs-title function_">getValues</span>(): <span class="hljs-title class_">Partial</span>&lt;<span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;&gt; {
    <span class="hljs-keyword">return</span> { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span> };
  }

  <span class="hljs-comment">// Validate single field</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">validateField</span>(<span class="hljs-attr">fieldName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">void</span> {
    <span class="hljs-keyword">const</span> field = <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>[fieldName];
    <span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[fieldName <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;];
    <span class="hljs-keyword">const</span> <span class="hljs-attr">fieldErrors</span>: <span class="hljs-built_in">string</span>[] = [];

    <span class="hljs-comment">// Required validation</span>
    <span class="hljs-keyword">if</span> (field.<span class="hljs-property">required</span> &amp;&amp; (value === <span class="hljs-literal">undefined</span> || value === <span class="hljs-literal">null</span> || value === <span class="hljs-string">&#x27;&#x27;</span>)) {
      fieldErrors.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${field.label}</span> is required`</span>);
    }

    <span class="hljs-comment">// Type-specific validation</span>
    <span class="hljs-keyword">if</span> (value !== <span class="hljs-literal">undefined</span> &amp;&amp; value !== <span class="hljs-literal">null</span> &amp;&amp; value !== <span class="hljs-string">&#x27;&#x27;</span>) {
      <span class="hljs-keyword">switch</span> (field.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;text&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;email&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;password&#x27;</span>:
          <span class="hljs-keyword">const</span> textField = field <span class="hljs-keyword">as</span> <span class="hljs-title class_">TextFieldConfig</span>;
          <span class="hljs-keyword">const</span> textValue = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">string</span>;
          
          <span class="hljs-keyword">if</span> (textField.<span class="hljs-property">minLength</span> &amp;&amp; textValue.<span class="hljs-property">length</span> &lt; textField.<span class="hljs-property">minLength</span>) {
            fieldErrors.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${field.label}</span> must be at least <span class="hljs-subst">${textField.minLength}</span> characters`</span>);
          }
          
          <span class="hljs-keyword">if</span> (textField.<span class="hljs-property">maxLength</span> &amp;&amp; textValue.<span class="hljs-property">length</span> &gt; textField.<span class="hljs-property">maxLength</span>) {
            fieldErrors.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${field.label}</span> must be no more than <span class="hljs-subst">${textField.maxLength}</span> characters`</span>);
          }
          
          <span class="hljs-keyword">if</span> (field.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;email&#x27;</span>) {
            <span class="hljs-keyword">const</span> emailRegex = <span class="hljs-regexp">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span>;
            <span class="hljs-keyword">if</span> (!emailRegex.<span class="hljs-title function_">test</span>(textValue)) {
              fieldErrors.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${field.label}</span> must be a valid email address`</span>);
            }
          }
          <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;number&#x27;</span>:
          <span class="hljs-keyword">const</span> numberField = field <span class="hljs-keyword">as</span> <span class="hljs-title class_">NumberFieldConfig</span>;
          <span class="hljs-keyword">const</span> numberValue = value <span class="hljs-keyword">as</span> <span class="hljs-built_in">number</span>;
          
          <span class="hljs-keyword">if</span> (numberField.<span class="hljs-property">min</span> !== <span class="hljs-literal">undefined</span> &amp;&amp; numberValue &lt; numberField.<span class="hljs-property">min</span>) {
            fieldErrors.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${field.label}</span> must be at least <span class="hljs-subst">${numberField.min}</span>`</span>);
          }
          
          <span class="hljs-keyword">if</span> (numberField.<span class="hljs-property">max</span> !== <span class="hljs-literal">undefined</span> &amp;&amp; numberValue &gt; numberField.<span class="hljs-property">max</span>) {
            fieldErrors.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${field.label}</span> must be no more than <span class="hljs-subst">${numberField.max}</span>`</span>);
          }
          <span class="hljs-keyword">break</span>;
      }
    }

    <span class="hljs-comment">// Custom validation rules</span>
    <span class="hljs-keyword">if</span> (field.<span class="hljs-property">validation</span> &amp;&amp; value !== <span class="hljs-literal">undefined</span> &amp;&amp; value !== <span class="hljs-literal">null</span> &amp;&amp; value !== <span class="hljs-string">&#x27;&#x27;</span>) {
      field.<span class="hljs-property">validation</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">rule</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (!rule.<span class="hljs-title function_">rule</span>(value)) {
          fieldErrors.<span class="hljs-title function_">push</span>(rule.<span class="hljs-property">message</span>);
        }
      });
    }

    <span class="hljs-keyword">if</span> (fieldErrors.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>[fieldName] = fieldErrors;
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>[fieldName];
    }
  }

  <span class="hljs-comment">// Validate entire form</span>
  <span class="hljs-title function_">validate</span>(): <span class="hljs-title class_">ValidationResult</span> {
    <span class="hljs-keyword">const</span> visibleFields = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVisibleFields</span>();
    
    visibleFields.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">fieldName</span> =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(fieldName);
    });

    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">isValid</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>,
      <span class="hljs-attr">errors</span>: { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> }
    };
  }

  <span class="hljs-comment">// Get visible fields based on conditions</span>
  <span class="hljs-keyword">private</span> <span class="hljs-title function_">getVisibleFields</span>(): <span class="hljs-built_in">string</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">fieldName</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> field = <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>[fieldName];
      
      <span class="hljs-keyword">if</span> (field.<span class="hljs-property">condition</span>) {
        <span class="hljs-keyword">return</span> field.<span class="hljs-title function_">condition</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>);
      }
      
      <span class="hljs-keyword">if</span> (field.<span class="hljs-property">dependsOn</span>) {
        <span class="hljs-keyword">const</span> dependentValue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[field.<span class="hljs-property">dependsOn</span> <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;];
        <span class="hljs-keyword">return</span> !!dependentValue;
      }
      
      <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    });
  }

  <span class="hljs-comment">// Get field errors</span>
  <span class="hljs-title function_">getFieldErrors</span>(<span class="hljs-attr">fieldName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">string</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>[fieldName] || [];
  }

  <span class="hljs-comment">// Check if field has errors</span>
  <span class="hljs-title function_">hasFieldError</span>(<span class="hljs-attr">fieldName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">return</span> !!<span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>[fieldName] &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span>[fieldName].<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
  }

  <span class="hljs-comment">// Check if field is touched</span>
  <span class="hljs-title function_">isFieldTouched</span>(<span class="hljs-attr">fieldName</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">boolean</span> {
    <span class="hljs-keyword">return</span> !!<span class="hljs-variable language_">this</span>.<span class="hljs-property">touched</span>[fieldName];
  }

  <span class="hljs-comment">// Reset form</span>
  <span class="hljs-title function_">reset</span>(): <span class="hljs-variable language_">this</span> {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initializeValues</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">errors</span> = {};
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">touched</span> = {};
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
  }

  <span class="hljs-comment">// Generate form HTML (for demonstration)</span>
  <span class="hljs-title function_">generateHTML</span>(): <span class="hljs-built_in">string</span> {
    <span class="hljs-keyword">const</span> visibleFields = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getVisibleFields</span>();
    
    <span class="hljs-keyword">return</span> visibleFields.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">fieldName</span> =&gt;</span> {
      <span class="hljs-keyword">const</span> field = <span class="hljs-variable language_">this</span>.<span class="hljs-property">schema</span>[fieldName];
      <span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">this</span>.<span class="hljs-property">values</span>[fieldName <span class="hljs-keyword">as</span> keyof <span class="hljs-title class_">InferFormValues</span>&lt;<span class="hljs-title class_">TSchema</span>&gt;];
      <span class="hljs-keyword">const</span> errors = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">getFieldErrors</span>(fieldName);
      <span class="hljs-keyword">const</span> hasError = errors.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
      
      <span class="hljs-keyword">let</span> input = <span class="hljs-string">&#x27;&#x27;</span>;
      
      <span class="hljs-keyword">switch</span> (field.<span class="hljs-property">type</span>) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;text&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;email&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;password&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;number&#x27;</span>:
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;date&#x27;</span>:
          input = <span class="hljs-string">`&lt;input 
            type=&quot;<span class="hljs-subst">${field.<span class="hljs-keyword">type</span>}</span>&quot; 
            id=&quot;<span class="hljs-subst">${fieldName}</span>&quot; 
            name=&quot;<span class="hljs-subst">${fieldName}</span>&quot;
            placeholder=&quot;<span class="hljs-subst">${field.placeholder || <span class="hljs-string">&#x27;&#x27;</span>}</span>&quot;
            value=&quot;<span class="hljs-subst">${value || <span class="hljs-string">&#x27;&#x27;</span>}</span>&quot;
            <span class="hljs-subst">${field.required ? <span class="hljs-string">&#x27;required&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            <span class="hljs-subst">${field.disabled ? <span class="hljs-string">&#x27;disabled&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            class=&quot;<span class="hljs-subst">${hasError ? <span class="hljs-string">&#x27;error&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>&quot;
          /&gt;`</span>;
          <span class="hljs-keyword">break</span>;
          
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;select&#x27;</span>:
          <span class="hljs-keyword">const</span> selectField = field <span class="hljs-keyword">as</span> <span class="hljs-title class_">SelectFieldConfig</span>;
          <span class="hljs-keyword">const</span> options = selectField.<span class="hljs-property">options</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">option</span> =&gt;</span> 
            <span class="hljs-string">`&lt;option value=&quot;<span class="hljs-subst">${option.value}</span>&quot; <span class="hljs-subst">${value === option.value ? <span class="hljs-string">&#x27;selected&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>&gt;
              <span class="hljs-subst">${option.label}</span>
            &lt;/option&gt;`</span>
          ).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);
          
          input = <span class="hljs-string">`&lt;select 
            id=&quot;<span class="hljs-subst">${fieldName}</span>&quot; 
            name=&quot;<span class="hljs-subst">${fieldName}</span>&quot;
            <span class="hljs-subst">${selectField.multiple ? <span class="hljs-string">&#x27;multiple&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            <span class="hljs-subst">${field.required ? <span class="hljs-string">&#x27;required&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            <span class="hljs-subst">${field.disabled ? <span class="hljs-string">&#x27;disabled&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            class=&quot;<span class="hljs-subst">${hasError ? <span class="hljs-string">&#x27;error&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>&quot;
          &gt;<span class="hljs-subst">${options}</span>&lt;/select&gt;`</span>;
          <span class="hljs-keyword">break</span>;
          
        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;checkbox&#x27;</span>:
          input = <span class="hljs-string">`&lt;input 
            type=&quot;checkbox&quot; 
            id=&quot;<span class="hljs-subst">${fieldName}</span>&quot; 
            name=&quot;<span class="hljs-subst">${fieldName}</span>&quot;
            <span class="hljs-subst">${value ? <span class="hljs-string">&#x27;checked&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            <span class="hljs-subst">${field.required ? <span class="hljs-string">&#x27;required&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            <span class="hljs-subst">${field.disabled ? <span class="hljs-string">&#x27;disabled&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>
            class=&quot;<span class="hljs-subst">${hasError ? <span class="hljs-string">&#x27;error&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>&quot;
          /&gt;`</span>;
          <span class="hljs-keyword">break</span>;
      }
      
      <span class="hljs-keyword">const</span> errorHTML = errors.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span> 
        ? <span class="hljs-string">`&lt;div class=&quot;error-messages&quot;&gt;<span class="hljs-subst">${errors.map(error =&gt; <span class="hljs-string">`&lt;span class=&quot;error&quot;&gt;<span class="hljs-subst">${error}</span>&lt;/span&gt;`</span>).join(<span class="hljs-string">&#x27;&#x27;</span>)}</span>&lt;/div&gt;`</span>
        : <span class="hljs-string">&#x27;&#x27;</span>;
      
      <span class="hljs-keyword">return</span> <span class="hljs-string">`
        &lt;div class=&quot;form-field <span class="hljs-subst">${hasError ? <span class="hljs-string">&#x27;has-error&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>&quot;&gt;
          &lt;label for=&quot;<span class="hljs-subst">${fieldName}</span>&quot;&gt;<span class="hljs-subst">${field.label}</span><span class="hljs-subst">${field.required ? <span class="hljs-string">&#x27; *&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>}</span>&lt;/label&gt;
          <span class="hljs-subst">${input}</span>
          <span class="hljs-subst">${errorHTML}</span>
        &lt;/div&gt;
      `</span>;
    }).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);
  }
}

<span class="hljs-comment">// Example usage</span>
<span class="hljs-keyword">const</span> userFormSchema = {
  <span class="hljs-attr">firstName</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;First Name&#x27;</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">&#x27;Enter your first name&#x27;</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">minLength</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">maxLength</span>: <span class="hljs-number">50</span>
  },
  <span class="hljs-attr">lastName</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;text&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Last Name&#x27;</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">&#x27;Enter your last name&#x27;</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">minLength</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">maxLength</span>: <span class="hljs-number">50</span>
  },
  <span class="hljs-attr">email</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;email&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Email Address&#x27;</span>,
    <span class="hljs-attr">placeholder</span>: <span class="hljs-string">&#x27;Enter your email&#x27;</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">validation</span>: [
      {
        <span class="hljs-attr">rule</span>: <span class="hljs-function">(<span class="hljs-params"><span class="hljs-attr">value</span>: <span class="hljs-built_in">string</span></span>) =&gt;</span> !value.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;+&#x27;</span>),
        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;Email cannot contain + symbol&#x27;</span>
      }
    ]
  },
  <span class="hljs-attr">age</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;number&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Age&#x27;</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">min</span>: <span class="hljs-number">18</span>,
    <span class="hljs-attr">max</span>: <span class="hljs-number">120</span>
  },
  <span class="hljs-attr">country</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;select&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Country&#x27;</span>,
    <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">options</span>: [
      { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;us&#x27;</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;United States&#x27;</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;ca&#x27;</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Canada&#x27;</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;uk&#x27;</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;United Kingdom&#x27;</span> }
    ]
  },
  <span class="hljs-attr">state</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;select&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;State&#x27;</span>,
    <span class="hljs-attr">dependsOn</span>: <span class="hljs-string">&#x27;country&#x27;</span>,
    <span class="hljs-attr">condition</span>: <span class="hljs-function">(<span class="hljs-params">values</span>) =&gt;</span> values.<span class="hljs-property">country</span> === <span class="hljs-string">&#x27;us&#x27;</span>,
    <span class="hljs-attr">options</span>: [
      { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;ca&#x27;</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;California&#x27;</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;ny&#x27;</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;New York&#x27;</span> },
      { <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;tx&#x27;</span>, <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Texas&#x27;</span> }
    ]
  },
  <span class="hljs-attr">newsletter</span>: {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;checkbox&#x27;</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>,
    <span class="hljs-attr">label</span>: <span class="hljs-string">&#x27;Subscribe to newsletter&#x27;</span>
  }
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;

<span class="hljs-keyword">const</span> form = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormBuilder</span>(userFormSchema);

<span class="hljs-comment">// Type-safe form manipulation</span>
form
  .<span class="hljs-title function_">setValue</span>(<span class="hljs-string">&#x27;firstName&#x27;</span>, <span class="hljs-string">&#x27;John&#x27;</span>) <span class="hljs-comment">// Typed as string</span>
  .<span class="hljs-title function_">setValue</span>(<span class="hljs-string">&#x27;age&#x27;</span>, <span class="hljs-number">25</span>) <span class="hljs-comment">// Typed as number</span>
  .<span class="hljs-title function_">setValue</span>(<span class="hljs-string">&#x27;newsletter&#x27;</span>, <span class="hljs-literal">true</span>) <span class="hljs-comment">// Typed as boolean</span>
  .<span class="hljs-title function_">setValue</span>(<span class="hljs-string">&#x27;country&#x27;</span>, <span class="hljs-string">&#x27;us&#x27;</span>); <span class="hljs-comment">// Typed as string | number</span>

<span class="hljs-comment">// Get typed values</span>
<span class="hljs-keyword">const</span> values = form.<span class="hljs-title function_">getValues</span>();
<span class="hljs-comment">// values.firstName is typed as string | undefined</span>
<span class="hljs-comment">// values.age is typed as number | undefined</span>
<span class="hljs-comment">// values.newsletter is typed as boolean | undefined</span>

<span class="hljs-comment">// Validate and get results</span>
<span class="hljs-keyword">const</span> validation = form.<span class="hljs-title function_">validate</span>();
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Is valid:&#x27;</span>, validation.<span class="hljs-property">isValid</span>);
<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Errors:&#x27;</span>, validation.<span class="hljs-property">errors</span>);

<span class="hljs-comment">// Generate HTML</span>
<span class="hljs-keyword">const</span> formHTML = form.<span class="hljs-title function_">generateHTML</span>();
<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;form-container&#x27;</span>)!.<span class="hljs-property">innerHTML</span> = formHTML;
</code></pre></pre>
<p>These TypeScript challenges demonstrate advanced type system usage, generic programming, and real-world application patterns that are commonly tested in senior frontend interviews at Big Tech companies.</p></div></div></main><footer class="sc-dYwGCk cJzheU"><div class="sc-lgpSej hJUFeT"><div class="sc-eqYatC mSxwd"><div class="sc-kcLKEh cmBIup"><div class="sc-dntSTA bAsNIP"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</div><p class="sc-kvnevz gWXMDV">Comprehensive interview preparation for frontend engineers targeting Big Tech companies.</p><div class="sc-dFVmKS jCoOHQ"><a href="https://github.com" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://twitter.com" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter "><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a href="https://linkedin.com" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin "><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="mailto:contact@example.com" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail "><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a></div></div><div class="sc-kcLKEh cmBIup"><h3>Study Materials</h3><ul><li><a href="/algorithms">Algorithms</a></li><li><a href="/react">React &amp; Frontend</a></li><li><a href="/system-design">System Design</a></li><li><a href="/typescript">TypeScript</a></li><li><a href="/performance">Performance</a></li></ul></div><div class="sc-kcLKEh cmBIup"><h3>Companies</h3><ul><li><a href="/google">Google</a></li><li><a href="/meta">Meta</a></li><li><a href="/amazon">Amazon</a></li><li><a href="/microsoft">Microsoft</a></li><li><a href="/apple">Apple</a></li></ul></div><div class="sc-kcLKEh cmBIup"><h3>Resources</h3><ul><li><a href="/interview-tips">Interview Tips</a></li><li><a href="/coding-challenges">Coding Challenges</a></li><li><a href="/mock-interviews">Mock Interviews</a></li><li><a href="/blog">Blog</a></li><li><a href="/faq">FAQ</a></li></ul></div></div><div class="sc-kCuUfV crUaYh"><p class="sc-dNdcvo esMlQF">© 2025 Frontend Interview Prep. All rights reserved.</p><div class="sc-fbQrwq eHcrXx"><a href="/privacy">Privacy Policy</a><a href="/terms">Terms of Service</a><a href="/contact">Contact</a></div></div></div></footer></div><script src="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/interview/_next/static/css/387024c6a2216908.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n5:I[5907,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"930\",\"static/chunks/930-3262a6c9c5acace4.js\",\"687\",\"static/chunks/app/docs/%5B...slug%5D/page-32962e9542d32755.js\"],\"default\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[2,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"710\",\"static/chunks/710-dfaa11b4dff08f8e.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"233\",\"static/chunks/233-3e0c1d820a17eca9.js\",\"185\",\"static/chunks/app/layout-333f4adcd11f8f39.js\"],\"default\",1]\nc:I[1060,[],\"\"]\n6:T5c74,"])</script><script>self.__next_f.push([1,"\n# TypeScript Coding Challenges\n\n## Problem 1: Advanced Type Utilities\n\nCreate a comprehensive set of TypeScript utility types that can be used in real-world applications.\n\n### Requirements:\n1. **DeepReadonly**: Make all properties deeply readonly\n2. **DeepPartial**: Make all properties deeply optional\n3. **RequiredKeys**: Extract keys that are required\n4. **OptionalKeys**: Extract keys that are optional\n5. **PickByType**: Pick properties by their type\n6. **OmitByType**: Omit properties by their type\n\n### Solution:\n\n{% raw %}\n```typescript\n// DeepReadonly - makes all properties deeply readonly\ntype DeepReadonly\u003cT\u003e = {\n  readonly [P in keyof T]: T[P] extends object\n    ? T[P] extends Function\n      ? T[P]\n      : DeepReadonly\u003cT[P]\u003e\n    : T[P];\n};\n\n// DeepPartial - makes all properties deeply optional\ntype DeepPartial\u003cT\u003e = {\n  [P in keyof T]?: T[P] extends object\n    ? T[P] extends Function\n      ? T[P]\n      : DeepPartial\u003cT[P]\u003e\n    : T[P];\n};\n\n// RequiredKeys - extract keys that are required\ntype RequiredKeys\u003cT\u003e = {\n  [K in keyof T]-?: {} extends Pick\u003cT, K\u003e ? never : K;\n}[keyof T];\n\n// OptionalKeys - extract keys that are optional\ntype OptionalKeys\u003cT\u003e = {\n  [K in keyof T]-?: {} extends Pick\u003cT, K\u003e ? K : never;\n}[keyof T];\n\n// PickByType - pick properties by their type\ntype PickByType\u003cT, U\u003e = {\n  [P in keyof T as T[P] extends U ? P : never]: T[P];\n};\n\n// OmitByType - omit properties by their type\ntype OmitByType\u003cT, U\u003e = {\n  [P in keyof T as T[P] extends U ? never : P]: T[P];\n};\n\n// NonNullable utility for deep objects\ntype DeepNonNullable\u003cT\u003e = {\n  [P in keyof T]-?: T[P] extends object\n    ? DeepNonNullable\u003cT[P]\u003e\n    : NonNullable\u003cT[P]\u003e;\n};\n\n// Function parameter types\ntype FunctionParams\u003cT extends (...args: any[]) =\u003e any\u003e = T extends (\n  ...args: infer P\n) =\u003e any\n  ? P\n  : never;\n\n// Promise unwrapping\ntype Awaited\u003cT\u003e = T extends Promise\u003cinfer U\u003e ? Awaited\u003cU\u003e : T;\n\n// Example usage and tests\ninterface User {\n  id: number;\n  name: string;\n  email?: string;\n  profile: {\n    bio: string;\n    avatar?: string;\n    settings: {\n      theme: 'light' | 'dark';\n      notifications: boolean;\n    };\n  };\n  roles: string[];\n  createdAt: Date;\n  updateProfile: (data: Partial\u003cUser['profile']\u003e) =\u003e void;\n}\n\n// Test the utility types\ntype ReadonlyUser = DeepReadonly\u003cUser\u003e;\ntype PartialUser = DeepPartial\u003cUser\u003e;\ntype RequiredUserKeys = RequiredKeys\u003cUser\u003e; // 'id' | 'name' | 'profile' | 'roles' | 'createdAt' | 'updateProfile'\ntype OptionalUserKeys = OptionalKeys\u003cUser\u003e; // 'email'\ntype StringProps = PickByType\u003cUser, string\u003e; // { name: string }\ntype NonStringProps = OmitByType\u003cUser, string\u003e; // Omits string properties\n\n// Advanced conditional type\ntype IsArray\u003cT\u003e = T extends readonly unknown[] ? true : false;\n\n// Tuple to Union\ntype TupleToUnion\u003cT extends readonly unknown[]\u003e = T[number];\n\n// Union to Intersection\ntype UnionToIntersection\u003cU\u003e = (U extends any ? (k: U) =\u003e void : never) extends (\n  k: infer I\n) =\u003e void\n  ? I\n  : never;\n\n// Test cases\nfunction testUtilityTypes() {\n  // DeepReadonly test\n  const readonlyUser: ReadonlyUser = {} as ReadonlyUser;\n  // readonlyUser.profile.settings.theme = 'dark'; // Error: Cannot assign to readonly property\n  \n  // DeepPartial test\n  const partialUser: PartialUser = {\n    name: 'John',\n    profile: {\n      settings: {\n        theme: 'light'\n        // notifications is optional\n      }\n    }\n  };\n  \n  // PickByType test\n  const stringOnlyProps: StringProps = { name: 'John' };\n  \n  // Type assertions to verify correctness\n  const requiredKeys: RequiredUserKeys[] = ['id', 'name', 'profile', 'roles', 'createdAt', 'updateProfile'];\n  const optionalKeys: OptionalUserKeys[] = ['email'];\n}\n\n// Advanced example: API Response Type Builder\ntype ApiResponse\u003cT\u003e = {\n  data: T;\n  status: number;\n  message: string;\n  timestamp: Date;\n};\n\ntype PaginatedResponse\u003cT\u003e = ApiResponse\u003cT\u003e \u0026 {\n  pagination: {\n    page: number;\n    limit: number;\n    total: number;\n    hasNext: boolean;\n    hasPrev: boolean;\n  };\n};\n\n// Generic API client with typed responses\nclass ApiClient {\n  async get\u003cT\u003e(url: string): Promise\u003cApiResponse\u003cT\u003e\u003e {\n    const response = await fetch(url);\n    return response.json();\n  }\n  \n  async getPaginated\u003cT\u003e(url: string, page: number = 1): Promise\u003cPaginatedResponse\u003cT[]\u003e\u003e {\n    const response = await fetch(`${url}?page=${page}`);\n    return response.json();\n  }\n  \n  async post\u003cTRequest, TResponse\u003e(\n    url: string, \n    data: TRequest\n  ): Promise\u003cApiResponse\u003cTResponse\u003e\u003e {\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data)\n    });\n    return response.json();\n  }\n}\n\n// Usage with proper typing\nconst api = new ApiClient();\n\nasync function fetchUsers() {\n  const response = await api.getPaginated\u003cUser\u003e('/api/users');\n  // response.data is typed as User[]\n  // response.pagination is properly typed\n  \n  const createResponse = await api.post\u003cPartial\u003cUser\u003e, User\u003e(\n    '/api/users',\n    { name: 'John', email: 'john@example.com' }\n  );\n  // createResponse.data is typed as User\n}\n```\n{% endraw %}\n\n## Problem 2: Type-Safe Event System\n\nBuild a type-safe event emitter system that ensures event names and payload types are correctly matched.\n\n### Requirements:\n1. **Type-safe event names**: Only registered events can be emitted/listened to\n2. **Payload type safety**: Event payloads must match defined types\n3. **Method chaining**: Support for method chaining\n4. **Unsubscribe functionality**: Ability to remove listeners\n5. **Once listeners**: Support for one-time event listeners\n\n### Solution:\n\n```typescript\n// Event map interface - defines available events and their payload types\ninterface EventMap {\n  [eventName: string]: any;\n}\n\n// Listener function type\ntype Listener\u003cT\u003e = (payload: T) =\u003e void;\n\n// Internal listener storage\ninterface ListenerData\u003cT\u003e {\n  listener: Listener\u003cT\u003e;\n  once: boolean;\n}\n\nclass TypedEventEmitter\u003cTEventMap extends EventMap\u003e {\n  private listeners = new Map\u003ckeyof TEventMap, Set\u003cListenerData\u003cany\u003e\u003e\u003e();\n  \n  // Add event listener\n  on\u003cK extends keyof TEventMap\u003e(\n    event: K,\n    listener: Listener\u003cTEventMap[K]\u003e\n  ): this {\n    return this.addListener(event, listener, false);\n  }\n  \n  // Add one-time event listener\n  once\u003cK extends keyof TEventMap\u003e(\n    event: K,\n    listener: Listener\u003cTEventMap[K]\u003e\n  ): this {\n    return this.addListener(event, listener, true);\n  }\n  \n  // Remove event listener\n  off\u003cK extends keyof TEventMap\u003e(\n    event: K,\n    listener: Listener\u003cTEventMap[K]\u003e\n  ): this {\n    const eventListeners = this.listeners.get(event);\n    if (eventListeners) {\n      eventListeners.forEach(listenerData =\u003e {\n        if (listenerData.listener === listener) {\n          eventListeners.delete(listenerData);\n        }\n      });\n      \n      if (eventListeners.size === 0) {\n        this.listeners.delete(event);\n      }\n    }\n    return this;\n  }\n  \n  // Emit event\n  emit\u003cK extends keyof TEventMap\u003e(\n    event: K,\n    payload: TEventMap[K]\n  ): boolean {\n    const eventListeners = this.listeners.get(event);\n    if (!eventListeners || eventListeners.size === 0) {\n      return false;\n    }\n    \n    const listenersToRemove: ListenerData\u003cTEventMap[K]\u003e[] = [];\n    \n    eventListeners.forEach(listenerData =\u003e {\n      listenerData.listener(payload);\n      \n      if (listenerData.once) {\n        listenersToRemove.push(listenerData);\n      }\n    });\n    \n    // Remove one-time listeners\n    listenersToRemove.forEach(listenerData =\u003e {\n      eventListeners.delete(listenerData);\n    });\n    \n    if (eventListeners.size === 0) {\n      this.listeners.delete(event);\n    }\n    \n    return true;\n  }\n  \n  // Remove all listeners for an event\n  removeAllListeners\u003cK extends keyof TEventMap\u003e(event?: K): this {\n    if (event) {\n      this.listeners.delete(event);\n    } else {\n      this.listeners.clear();\n    }\n    return this;\n  }\n  \n  // Get listener count for an event\n  listenerCount\u003cK extends keyof TEventMap\u003e(event: K): number {\n    const eventListeners = this.listeners.get(event);\n    return eventListeners ? eventListeners.size : 0;\n  }\n  \n  // Get all event names that have listeners\n  eventNames(): (keyof TEventMap)[] {\n    return Array.from(this.listeners.keys());\n  }\n  \n  private addListener\u003cK extends keyof TEventMap\u003e(\n    event: K,\n    listener: Listener\u003cTEventMap[K]\u003e,\n    once: boolean\n  ): this {\n    if (!this.listeners.has(event)) {\n      this.listeners.set(event, new Set());\n    }\n    \n    const eventListeners = this.listeners.get(event)!;\n    eventListeners.add({ listener, once });\n    \n    return this;\n  }\n}\n\n// Example usage\ninterface AppEvents {\n  'user:login': { userId: string; username: string; timestamp: Date };\n  'user:logout': { userId: string; timestamp: Date };\n  'post:created': { postId: string; authorId: string; title: string };\n  'post:updated': { postId: string; changes: Record\u003cstring, any\u003e };\n  'error': { message: string; code: number; stack?: string };\n  'notification': { type: 'info' | 'warning' | 'error'; message: string };\n}\n\nconst eventEmitter = new TypedEventEmitter\u003cAppEvents\u003e();\n\n// Type-safe event listeners\neventEmitter\n  .on('user:login', (data) =\u003e {\n    // data is typed as { userId: string; username: string; timestamp: Date }\n    console.log(`User ${data.username} logged in at ${data.timestamp}`);\n  })\n  .on('post:created', (data) =\u003e {\n    // data is typed as { postId: string; authorId: string; title: string }\n    console.log(`New post created: ${data.title}`);\n  })\n  .once('error', (error) =\u003e {\n    // data is typed as { message: string; code: number; stack?: string }\n    console.error(`Error ${error.code}: ${error.message}`);\n  });\n\n// Type-safe event emission\neventEmitter.emit('user:login', {\n  userId: '123',\n  username: 'john_doe',\n  timestamp: new Date()\n});\n\n// This would cause a TypeScript error:\n// eventEmitter.emit('user:login', { userId: 123 }); // Error: missing properties\n\n// Advanced: Event emitter with middleware\ntype EventMiddleware\u003cTEventMap extends EventMap\u003e = {\n  \u003cK extends keyof TEventMap\u003e(\n    event: K,\n    payload: TEventMap[K],\n    next: () =\u003e void\n  ): void;\n};\n\nclass AdvancedEventEmitter\u003cTEventMap extends EventMap\u003e extends TypedEventEmitter\u003cTEventMap\u003e {\n  private middleware: EventMiddleware\u003cTEventMap\u003e[] = [];\n  \n  use(middleware: EventMiddleware\u003cTEventMap\u003e): this {\n    this.middleware.push(middleware);\n    return this;\n  }\n  \n  emit\u003cK extends keyof TEventMap\u003e(\n    event: K,\n    payload: TEventMap[K]\n  ): boolean {\n    let index = 0;\n    \n    const runMiddleware = (): void =\u003e {\n      if (index \u003e= this.middleware.length) {\n        super.emit(event, payload);\n        return;\n      }\n      \n      const middleware = this.middleware[index++];\n      middleware(event, payload, runMiddleware);\n    };\n    \n    runMiddleware();\n    return true;\n  }\n}\n\n// Usage with middleware\nconst advancedEmitter = new AdvancedEventEmitter\u003cAppEvents\u003e();\n\n// Logging middleware\nadvancedEmitter.use((event, payload, next) =\u003e {\n  console.log(`Event: ${String(event)}`, payload);\n  next();\n});\n\n// Validation middleware\nadvancedEmitter.use((event, payload, next) =\u003e {\n  if (event === 'error' \u0026\u0026 !payload.message) {\n    console.warn('Error event must have a message');\n    return;\n  }\n  next();\n});\n\nadvancedEmitter.emit('user:login', {\n  userId: '123',\n  username: 'john_doe',\n  timestamp: new Date()\n});\n```\n\n## Problem 3: Generic Form Builder\n\nCreate a type-safe form builder that generates forms based on schema definitions with validation.\n\n### Requirements:\n1. **Type-safe schema**: Form schema should define field types and validation\n2. **Dynamic form generation**: Generate form fields based on schema\n3. **Validation**: Built-in and custom validation with error messages\n4. **Type-safe values**: Form values should be correctly typed\n5. **Conditional fields**: Support for conditional field display\n\n### Solution:\n\n```typescript\n// Base field types\ntype FieldType = 'text' | 'email' | 'password' | 'number' | 'select' | 'checkbox' | 'date';\n\n// Validation rules\ninterface ValidationRule\u003cT = any\u003e {\n  rule: (value: T) =\u003e boolean;\n  message: string;\n}\n\n// Field configuration\ninterface BaseFieldConfig {\n  type: FieldType;\n  label: string;\n  placeholder?: string;\n  required?: boolean;\n  disabled?: boolean;\n  validation?: ValidationRule\u003cany\u003e[];\n  dependsOn?: string;\n  condition?: (values: Record\u003cstring, any\u003e) =\u003e boolean;\n}\n\ninterface TextFieldConfig extends BaseFieldConfig {\n  type: 'text' | 'email' | 'password';\n  minLength?: number;\n  maxLength?: number;\n}\n\ninterface NumberFieldConfig extends BaseFieldConfig {\n  type: 'number';\n  min?: number;\n  max?: number;\n  step?: number;\n}\n\ninterface SelectFieldConfig extends BaseFieldConfig {\n  type: 'select';\n  options: { value: string | number; label: string }[];\n  multiple?: boolean;\n}\n\ninterface CheckboxFieldConfig extends BaseFieldConfig {\n  type: 'checkbox';\n}\n\ninterface DateFieldConfig extends BaseFieldConfig {\n  type: 'date';\n  min?: string;\n  max?: string;\n}\n\ntype FieldConfig = \n  | TextFieldConfig \n  | NumberFieldConfig \n  | SelectFieldConfig \n  | CheckboxFieldConfig \n  | DateFieldConfig;\n\n// Form schema\ntype FormSchema = Record\u003cstring, FieldConfig\u003e;\n\n// Infer value types from schema\ntype InferFormValues\u003cT extends FormSchema\u003e = {\n  [K in keyof T]: T[K] extends { type: 'text' | 'email' | 'password' }\n    ? string\n    : T[K] extends { type: 'number' }\n    ? number\n    : T[K] extends { type: 'select'; multiple: true }\n    ? (string | number)[]\n    : T[K] extends { type: 'select' }\n    ? string | number\n    : T[K] extends { type: 'checkbox' }\n    ? boolean\n    : T[K] extends { type: 'date' }\n    ? Date\n    : any;\n};\n\n// Form validation result\ninterface ValidationResult {\n  isValid: boolean;\n  errors: Record\u003cstring, string[]\u003e;\n}\n\n// Form builder class\nclass FormBuilder\u003cTSchema extends FormSchema\u003e {\n  private schema: TSchema;\n  private values: Partial\u003cInferFormValues\u003cTSchema\u003e\u003e = {};\n  private errors: Record\u003cstring, string[]\u003e = {};\n  private touched: Record\u003cstring, boolean\u003e = {};\n\n  constructor(schema: TSchema) {\n    this.schema = schema;\n    this.initializeValues();\n  }\n\n  private initializeValues(): void {\n    Object.keys(this.schema).forEach(key =\u003e {\n      const field = this.schema[key];\n      \n      switch (field.type) {\n        case 'checkbox':\n          this.values[key as keyof InferFormValues\u003cTSchema\u003e] = false as any;\n          break;\n        case 'select':\n          if ((field as SelectFieldConfig).multiple) {\n            this.values[key as keyof InferFormValues\u003cTSchema\u003e] = [] as any;\n          }\n          break;\n        default:\n          this.values[key as keyof InferFormValues\u003cTSchema\u003e] = undefined as any;\n      }\n    });\n  }\n\n  // Set field value\n  setValue\u003cK extends keyof InferFormValues\u003cTSchema\u003e\u003e(\n    field: K,\n    value: InferFormValues\u003cTSchema\u003e[K]\n  ): this {\n    this.values[field] = value;\n    this.touched[field as string] = true;\n    this.validateField(field as string);\n    return this;\n  }\n\n  // Get field value\n  getValue\u003cK extends keyof InferFormValues\u003cTSchema\u003e\u003e(\n    field: K\n  ): InferFormValues\u003cTSchema\u003e[K] | undefined {\n    return this.values[field];\n  }\n\n  // Get all values\n  getValues(): Partial\u003cInferFormValues\u003cTSchema\u003e\u003e {\n    return { ...this.values };\n  }\n\n  // Validate single field\n  private validateField(fieldName: string): void {\n    const field = this.schema[fieldName];\n    const value = this.values[fieldName as keyof InferFormValues\u003cTSchema\u003e];\n    const fieldErrors: string[] = [];\n\n    // Required validation\n    if (field.required \u0026\u0026 (value === undefined || value === null || value === '')) {\n      fieldErrors.push(`${field.label} is required`);\n    }\n\n    // Type-specific validation\n    if (value !== undefined \u0026\u0026 value !== null \u0026\u0026 value !== '') {\n      switch (field.type) {\n        case 'text':\n        case 'email':\n        case 'password':\n          const textField = field as TextFieldConfig;\n          const textValue = value as string;\n          \n          if (textField.minLength \u0026\u0026 textValue.length \u003c textField.minLength) {\n            fieldErrors.push(`${field.label} must be at least ${textField.minLength} characters`);\n          }\n          \n          if (textField.maxLength \u0026\u0026 textValue.length \u003e textField.maxLength) {\n            fieldErrors.push(`${field.label} must be no more than ${textField.maxLength} characters`);\n          }\n          \n          if (field.type === 'email') {\n            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n            if (!emailRegex.test(textValue)) {\n              fieldErrors.push(`${field.label} must be a valid email address`);\n            }\n          }\n          break;\n\n        case 'number':\n          const numberField = field as NumberFieldConfig;\n          const numberValue = value as number;\n          \n          if (numberField.min !== undefined \u0026\u0026 numberValue \u003c numberField.min) {\n            fieldErrors.push(`${field.label} must be at least ${numberField.min}`);\n          }\n          \n          if (numberField.max !== undefined \u0026\u0026 numberValue \u003e numberField.max) {\n            fieldErrors.push(`${field.label} must be no more than ${numberField.max}`);\n          }\n          break;\n      }\n    }\n\n    // Custom validation rules\n    if (field.validation \u0026\u0026 value !== undefined \u0026\u0026 value !== null \u0026\u0026 value !== '') {\n      field.validation.forEach(rule =\u003e {\n        if (!rule.rule(value)) {\n          fieldErrors.push(rule.message);\n        }\n      });\n    }\n\n    if (fieldErrors.length \u003e 0) {\n      this.errors[fieldName] = fieldErrors;\n    } else {\n      delete this.errors[fieldName];\n    }\n  }\n\n  // Validate entire form\n  validate(): ValidationResult {\n    const visibleFields = this.getVisibleFields();\n    \n    visibleFields.forEach(fieldName =\u003e {\n      this.validateField(fieldName);\n    });\n\n    return {\n      isValid: Object.keys(this.errors).length === 0,\n      errors: { ...this.errors }\n    };\n  }\n\n  // Get visible fields based on conditions\n  private getVisibleFields(): string[] {\n    return Object.keys(this.schema).filter(fieldName =\u003e {\n      const field = this.schema[fieldName];\n      \n      if (field.condition) {\n        return field.condition(this.values);\n      }\n      \n      if (field.dependsOn) {\n        const dependentValue = this.values[field.dependsOn as keyof InferFormValues\u003cTSchema\u003e];\n        return !!dependentValue;\n      }\n      \n      return true;\n    });\n  }\n\n  // Get field errors\n  getFieldErrors(fieldName: string): string[] {\n    return this.errors[fieldName] || [];\n  }\n\n  // Check if field has errors\n  hasFieldError(fieldName: string): boolean {\n    return !!this.errors[fieldName] \u0026\u0026 this.errors[fieldName].length \u003e 0;\n  }\n\n  // Check if field is touched\n  isFieldTouched(fieldName: string): boolean {\n    return !!this.touched[fieldName];\n  }\n\n  // Reset form\n  reset(): this {\n    this.initializeValues();\n    this.errors = {};\n    this.touched = {};\n    return this;\n  }\n\n  // Generate form HTML (for demonstration)\n  generateHTML(): string {\n    const visibleFields = this.getVisibleFields();\n    \n    return visibleFields.map(fieldName =\u003e {\n      const field = this.schema[fieldName];\n      const value = this.values[fieldName as keyof InferFormValues\u003cTSchema\u003e];\n      const errors = this.getFieldErrors(fieldName);\n      const hasError = errors.length \u003e 0;\n      \n      let input = '';\n      \n      switch (field.type) {\n        case 'text':\n        case 'email':\n        case 'password':\n        case 'number':\n        case 'date':\n          input = `\u003cinput \n            type=\"${field.type}\" \n            id=\"${fieldName}\" \n            name=\"${fieldName}\"\n            placeholder=\"${field.placeholder || ''}\"\n            value=\"${value || ''}\"\n            ${field.required ? 'required' : ''}\n            ${field.disabled ? 'disabled' : ''}\n            class=\"${hasError ? 'error' : ''}\"\n          /\u003e`;\n          break;\n          \n        case 'select':\n          const selectField = field as SelectFieldConfig;\n          const options = selectField.options.map(option =\u003e \n            `\u003coption value=\"${option.value}\" ${value === option.value ? 'selected' : ''}\u003e\n              ${option.label}\n            \u003c/option\u003e`\n          ).join('');\n          \n          input = `\u003cselect \n            id=\"${fieldName}\" \n            name=\"${fieldName}\"\n            ${selectField.multiple ? 'multiple' : ''}\n            ${field.required ? 'required' : ''}\n            ${field.disabled ? 'disabled' : ''}\n            class=\"${hasError ? 'error' : ''}\"\n          \u003e${options}\u003c/select\u003e`;\n          break;\n          \n        case 'checkbox':\n          input = `\u003cinput \n            type=\"checkbox\" \n            id=\"${fieldName}\" \n            name=\"${fieldName}\"\n            ${value ? 'checked' : ''}\n            ${field.required ? 'required' : ''}\n            ${field.disabled ? 'disabled' : ''}\n            class=\"${hasError ? 'error' : ''}\"\n          /\u003e`;\n          break;\n      }\n      \n      const errorHTML = errors.length \u003e 0 \n        ? `\u003cdiv class=\"error-messages\"\u003e${errors.map(error =\u003e `\u003cspan class=\"error\"\u003e${error}\u003c/span\u003e`).join('')}\u003c/div\u003e`\n        : '';\n      \n      return `\n        \u003cdiv class=\"form-field ${hasError ? 'has-error' : ''}\"\u003e\n          \u003clabel for=\"${fieldName}\"\u003e${field.label}${field.required ? ' *' : ''}\u003c/label\u003e\n          ${input}\n          ${errorHTML}\n        \u003c/div\u003e\n      `;\n    }).join('');\n  }\n}\n\n// Example usage\nconst userFormSchema = {\n  firstName: {\n    type: 'text' as const,\n    label: 'First Name',\n    placeholder: 'Enter your first name',\n    required: true,\n    minLength: 2,\n    maxLength: 50\n  },\n  lastName: {\n    type: 'text' as const,\n    label: 'Last Name',\n    placeholder: 'Enter your last name',\n    required: true,\n    minLength: 2,\n    maxLength: 50\n  },\n  email: {\n    type: 'email' as const,\n    label: 'Email Address',\n    placeholder: 'Enter your email',\n    required: true,\n    validation: [\n      {\n        rule: (value: string) =\u003e !value.includes('+'),\n        message: 'Email cannot contain + symbol'\n      }\n    ]\n  },\n  age: {\n    type: 'number' as const,\n    label: 'Age',\n    required: true,\n    min: 18,\n    max: 120\n  },\n  country: {\n    type: 'select' as const,\n    label: 'Country',\n    required: true,\n    options: [\n      { value: 'us', label: 'United States' },\n      { value: 'ca', label: 'Canada' },\n      { value: 'uk', label: 'United Kingdom' }\n    ]\n  },\n  state: {\n    type: 'select' as const,\n    label: 'State',\n    dependsOn: 'country',\n    condition: (values) =\u003e values.country === 'us',\n    options: [\n      { value: 'ca', label: 'California' },\n      { value: 'ny', label: 'New York' },\n      { value: 'tx', label: 'Texas' }\n    ]\n  },\n  newsletter: {\n    type: 'checkbox' as const,\n    label: 'Subscribe to newsletter'\n  }\n} as const;\n\nconst form = new FormBuilder(userFormSchema);\n\n// Type-safe form manipulation\nform\n  .setValue('firstName', 'John') // Typed as string\n  .setValue('age', 25) // Typed as number\n  .setValue('newsletter', true) // Typed as boolean\n  .setValue('country', 'us'); // Typed as string | number\n\n// Get typed values\nconst values = form.getValues();\n// values.firstName is typed as string | undefined\n// values.age is typed as number | undefined\n// values.newsletter is typed as boolean | undefined\n\n// Validate and get results\nconst validation = form.validate();\nconsole.log('Is valid:', validation.isValid);\nconsole.log('Errors:', validation.errors);\n\n// Generate HTML\nconst formHTML = form.generateHTML();\ndocument.getElementById('form-container')!.innerHTML = formHTML;\n```\n\nThese TypeScript challenges demonstrate advanced type system usage, generic programming, and real-world application patterns that are commonly tested in senior frontend interviews at Big Tech companies.\n"])</script><script>self.__next_f.push([1,"8:[\"slug\",\"frontend/coding-problems/16-typescript-challenges\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"7uJ7BVaXJTiEOD9iYDv3n\",\"assetPrefix\":\"/interview\",\"urlParts\":[\"\",\"docs\",\"frontend\",\"coding-problems\",\"16-typescript-challenges\"],\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"frontend/coding-problems/16-typescript-challenges\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"frontend\\\",\\\"coding-problems\\\",\\\"16-typescript-challenges\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"frontend/coding-problems/16-typescript-challenges\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"style\":{\"maxWidth\":\"1200px\",\"margin\":\"0 auto\",\"padding\":\"2rem\",\"paddingTop\":\"6rem\"},\"children\":[[\"$\",\"div\",null,{\"style\":{\"marginBottom\":\"2rem\"},\"children\":[[\"$\",\"nav\",null,{\"style\":{\"color\":\"#64748b\",\"fontSize\":\"0.9rem\",\"marginBottom\":\"1rem\"},\"children\":[[\"$\",\"a\",null,{\"href\":\"/\",\"style\":{\"color\":\"#3b82f6\",\"textDecoration\":\"none\"},\"children\":\"Home\"}],\" \u003e \",[\"$\",\"span\",null,{\"children\":\"frontend \u003e coding-problems \u003e 16-typescript-challenges\"}]]}],[\"$\",\"h1\",null,{\"style\":{\"fontSize\":\"2.5rem\",\"fontWeight\":\"800\",\"marginBottom\":\"0.5rem\",\"color\":\"#1e293b\"},\"children\":\"TypeScript Coding Challenges\"}],[\"$\",\"div\",null,{\"style\":{\"color\":\"#64748b\",\"fontSize\":\"0.9rem\",\"marginBottom\":\"2rem\"},\"children\":[[\"$\",\"span\",null,{\"children\":[\"📁 \",\"frontend/coding-problems/16-typescript-challenges.md\"]}],\"$undefined\",\"$undefined\"]}]]}],[\"$\",\"$L5\",null,{\"content\":\"$6\"}]]}],null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/interview/_next/static/css/387024c6a2216908.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$La\",null,{\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],\"params\":{}}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"TypeScript Coding Challenges - Frontend Interview Docs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\" # TypeScript Coding Challenges  ## Problem 1: Advanced Type Utilities  Create a comprehensive set of TypeScript utility types that can be used in real-world ap\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"TypeScript Coding Challenges - Frontend Interview Docs\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\" # TypeScript Coding Challenges  ## Problem 1: Advanced Type Utilities  Create a comprehensive set of TypeScript utility types that can be used in real-world ap\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"TypeScript Coding Challenges - Frontend Interview Docs\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\" # TypeScript Coding Challenges  ## Problem 1: Advanced Type Utilities  Create a comprehensive set of TypeScript utility types that can be used in real-world ap\"}],[\"$\",\"meta\",\"10\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>