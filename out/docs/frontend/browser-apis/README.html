<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/interview/_next/static/css/387024c6a2216908.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js"/><script src="/interview/_next/static/chunks/fd9d1056-6922f449a204c2cc.js" async=""></script><script src="/interview/_next/static/chunks/117-e7ecc085ce9cfab3.js" async=""></script><script src="/interview/_next/static/chunks/main-app-b06be5f3411c20c3.js" async=""></script><script src="/interview/_next/static/chunks/918-3273b83890f10546.js" async=""></script><script src="/interview/_next/static/chunks/930-3262a6c9c5acace4.js" async=""></script><script src="/interview/_next/static/chunks/app/docs/%5B...slug%5D/page-32962e9542d32755.js" async=""></script><script src="/interview/_next/static/chunks/710-dfaa11b4dff08f8e.js" async=""></script><script src="/interview/_next/static/chunks/972-011bba60ed155615.js" async=""></script><script src="/interview/_next/static/chunks/233-3e0c1d820a17eca9.js" async=""></script><script src="/interview/_next/static/chunks/app/layout-333f4adcd11f8f39.js" async=""></script><title>Frontend Interview Prep 2025 - Big Tech Interview Guide</title><meta name="description" content="Comprehensive frontend interview preparation for Big Tech companies including React, TypeScript, algorithms, and system design."/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#1a1a1a"/><meta property="og:title" content="Frontend Interview Prep 2025"/><meta property="og:description" content="Complete guide for frontend engineers targeting Big Tech companies"/><meta property="og:type" content="website"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><title>README - Frontend Interview Docs</title><meta name="description" content="# Browser APIs &amp; Modern Web Platform  ## Table of Contents  - [Web Workers](#web-workers) - [Service Workers](#service-workers) - [Progressive Web Apps (PWA)](#"/><meta property="og:title" content="README - Frontend Interview Docs"/><meta property="og:description" content="# Browser APIs &amp; Modern Web Platform  ## Table of Contents  - [Web Workers](#web-workers) - [Service Workers](#service-workers) - [Progressive Web Apps (PWA)](#"/><meta property="og:type" content="article"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="README - Frontend Interview Docs"/><meta name="twitter:description" content="# Browser APIs &amp; Modern Web Platform  ## Table of Contents  - [Web Workers](#web-workers) - [Service Workers](#service-workers) - [Progressive Web Apps (PWA)](#"/><meta name="next-size-adjust"/><script src="/interview/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-styled="" data-styled-version="6.1.19">*{margin:0;padding:0;box-sizing:border-box;}/*!sc*/
html{font-size:16px;line-height:1.5;scroll-behavior:smooth;}/*!sc*/
body{font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;font-size:1rem;line-height:1.5;color:#1e293b;background-color:#ffffff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.25;margin-bottom:0.5em;}/*!sc*/
h1{font-size:3rem;}/*!sc*/
@media (max-width: 768px){h1{font-size:2.25rem;}}/*!sc*/
h2{font-size:2.25rem;}/*!sc*/
@media (max-width: 768px){h2{font-size:1.875rem;}}/*!sc*/
h3{font-size:1.875rem;}/*!sc*/
@media (max-width: 768px){h3{font-size:1.5rem;}}/*!sc*/
h4{font-size:1.5rem;}/*!sc*/
@media (max-width: 768px){h4{font-size:1.25rem;}}/*!sc*/
h5{font-size:1.25rem;}/*!sc*/
h6{font-size:1.125rem;}/*!sc*/
p{margin-bottom:1rem;line-height:1.75;}/*!sc*/
a{color:#3b82f6;text-decoration:none;transition:color 0.15s ease;}/*!sc*/
a:hover{color:#2563eb;}/*!sc*/
a:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
button{cursor:pointer;border:none;background:none;font-family:inherit;font-size:inherit;}/*!sc*/
button:disabled{cursor:not-allowed;opacity:0.6;}/*!sc*/
button:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
input,textarea,select{font-family:inherit;font-size:inherit;}/*!sc*/
input:focus,textarea:focus,select:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
img{max-width:100%;height:auto;}/*!sc*/
ul,ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
li{margin-bottom:0.25rem;}/*!sc*/
blockquote{margin:1rem 0;padding:1rem;border-left:4px solid #3b82f6;background-color:#f1f5f9;font-style:italic;}/*!sc*/
code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;background-color:#f1f5f9;padding:0.2em 0.4em;border-radius:0.25rem;}/*!sc*/
pre{background-color:#f1f5f9;padding:1rem;border-radius:0.5rem;overflow-x:auto;margin-bottom:1rem;}/*!sc*/
pre code{background:none;padding:0;}/*!sc*/
table{width:100%;border-collapse:collapse;margin-bottom:1rem;}/*!sc*/
th,td{padding:0.75rem;text-align:left;border-bottom:1px solid #e2e8f0;}/*!sc*/
th{font-weight:600;background-color:#f1f5f9;}/*!sc*/
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0;}/*!sc*/
.skip-link{position:absolute;top:-40px;left:6px;background:#3b82f6;color:white;padding:8px;text-decoration:none;border-radius:4px;z-index:100;}/*!sc*/
.skip-link:focus{top:6px;}/*!sc*/
::-webkit-scrollbar{width:8px;height:8px;}/*!sc*/
::-webkit-scrollbar-track{background:#f1f5f9;}/*!sc*/
::-webkit-scrollbar-thumb{background:#94a3b8;border-radius:4px;}/*!sc*/
::-webkit-scrollbar-thumb:hover{background:#64748b;}/*!sc*/
::selection{background:#3b82f6;color:white;}/*!sc*/
.focus-visible{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
.fade-in{opacity:0;animation:fadeIn 0.3s ease forwards;}/*!sc*/
.slide-up{transform:translateY(20px);opacity:0;animation:slideUp 0.3s ease forwards;}/*!sc*/
@keyframes fadeIn{to{opacity:1;}}/*!sc*/
@keyframes slideUp{to{transform:translateY(0);opacity:1;}}/*!sc*/
@media print{*{background:white!important;color:black!important;box-shadow:none!important;text-shadow:none!important;}a,a:visited{text-decoration:underline;}h1,h2,h3,h4,h5,h6{break-after:avoid;}pre,blockquote{border:1px solid #999;break-inside:avoid;}img{max-width:100%!important;}@page{margin:0.5in;}}/*!sc*/
data-styled.g21[id="sc-global-kxA-Ddz1"]{content:"sc-global-kxA-Ddz1,"}/*!sc*/
.iIQwfN{position:fixed;top:0;width:100%;z-index:1020;background:transparent;backdrop-filter:blur(10px);border-bottom:1px solid transparent;transition:all 0.3s ease;}/*!sc*/
data-styled.g22[id="sc-gGKoUb"]{content:"iIQwfN,"}/*!sc*/
.cEuiWg{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:70px;}/*!sc*/
data-styled.g23[id="sc-hwddKA"]{content:"cEuiWg,"}/*!sc*/
.bqPomF{display:flex;align-items:center;gap:0.5rem;font-size:1.5rem;font-weight:700;color:#3b82f6;text-decoration:none;cursor:pointer;}/*!sc*/
.bqPomF:hover{color:#2563eb;}/*!sc*/
data-styled.g24[id="sc-jaXbil"]{content:"bqPomF,"}/*!sc*/
.iwwpNe{display:flex;align-items:center;gap:2rem;}/*!sc*/
@media (max-width: 768px){.iwwpNe{display:none;}}/*!sc*/
data-styled.g25[id="sc-eqNDNG"]{content:"iwwpNe,"}/*!sc*/
.iuGltB{color:#1e293b;font-weight:500;text-decoration:none;transition:color 0.15s ease;position:relative;}/*!sc*/
.iuGltB:hover{color:#3b82f6;}/*!sc*/
.iuGltB:after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:#3b82f6;transition:width 0.15s ease;}/*!sc*/
.iuGltB:hover:after{width:100%;}/*!sc*/
data-styled.g26[id="sc-fVHBlr"]{content:"iuGltB,"}/*!sc*/
.lmsDAj{display:none;background:none;border:none;color:#1e293b;cursor:pointer;padding:0.5rem;}/*!sc*/
@media (max-width: 768px){.lmsDAj{display:block;}}/*!sc*/
data-styled.g27[id="sc-gLaqbQ"]{content:"lmsDAj,"}/*!sc*/
.keTsRT{display:flex;align-items:center;gap:0.5rem;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:0.5rem;padding:0.5rem 1rem;color:#64748b;font-size:0.9rem;transition:all 0.15s ease;}/*!sc*/
.keTsRT:hover{background:#ffffff;border-color:#3b82f6;}/*!sc*/
data-styled.g31[id="sc-cOpnSz"]{content:"keTsRT,"}/*!sc*/
.hrfQfY{background:#1e293b;color:white;padding:3rem 0 1rem;margin-top:auto;}/*!sc*/
data-styled.g32[id="sc-kjwdDK"]{content:"hrfQfY,"}/*!sc*/
.dwFHjZ{max-width:1200px;margin:0 auto;padding:0 2rem;}/*!sc*/
data-styled.g33[id="sc-eVqvcJ"]{content:"dwFHjZ,"}/*!sc*/
.kWATso{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:2rem;margin-bottom:2rem;}/*!sc*/
@media (max-width: 768px){.kWATso{grid-template-columns:1fr 1fr;gap:1.5rem;}}/*!sc*/
@media (max-width: 480px){.kWATso{grid-template-columns:1fr;}}/*!sc*/
data-styled.g34[id="sc-bbbBoY"]{content:"kWATso,"}/*!sc*/
.fBmmqS h3{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:white;}/*!sc*/
.fBmmqS ul{list-style:none;padding:0;margin:0;}/*!sc*/
.fBmmqS li{margin-bottom:0.5rem;}/*!sc*/
.fBmmqS a{color:rgba(255, 255, 255, 0.7);text-decoration:none;transition:color 0.15s ease;}/*!sc*/
.fBmmqS a:hover{color:white;}/*!sc*/
data-styled.g35[id="sc-cdmAjP"]{content:"fBmmqS,"}/*!sc*/
.iNKxsb{display:flex;align-items:center;gap:0.5rem;font-size:1.2rem;font-weight:700;margin-bottom:1rem;color:white;}/*!sc*/
data-styled.g36[id="sc-jytpVa"]{content:"iNKxsb,"}/*!sc*/
.fYhkiV{color:rgba(255, 255, 255, 0.7);line-height:1.6;margin-bottom:1rem;}/*!sc*/
data-styled.g37[id="sc-eknHtZ"]{content:"fYhkiV,"}/*!sc*/
.eVAQiq{display:flex;gap:1rem;}/*!sc*/
.eVAQiq a{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:rgba(255, 255, 255, 0.7);transition:all 0.15s ease;}/*!sc*/
.eVAQiq a:hover{background:rgba(255, 255, 255, 0.2);color:white;}/*!sc*/
data-styled.g38[id="sc-pYNGo"]{content:"eVAQiq,"}/*!sc*/
.fgJmHp{border-top:1px solid rgba(255, 255, 255, 0.1);padding-top:2rem;display:flex;justify-content:space-between;align-items:center;}/*!sc*/
@media (max-width: 768px){.fgJmHp{flex-direction:column;gap:1rem;text-align:center;}}/*!sc*/
data-styled.g39[id="sc-cCVJLD"]{content:"fgJmHp,"}/*!sc*/
.gYGLHT{color:rgba(255, 255, 255, 0.7);margin:0;font-size:0.9rem;}/*!sc*/
data-styled.g40[id="sc-jYczwO"]{content:"gYGLHT,"}/*!sc*/
.ghBULZ{display:flex;gap:2rem;}/*!sc*/
@media (max-width: 480px){.ghBULZ{flex-direction:column;gap:1rem;}}/*!sc*/
.ghBULZ a{color:rgba(255, 255, 255, 0.7);text-decoration:none;font-size:0.9rem;transition:color 0.15s ease;}/*!sc*/
.ghBULZ a:hover{color:white;}/*!sc*/
data-styled.g41[id="sc-dNFkOE"]{content:"ghBULZ,"}/*!sc*/
.fUIuKh{color:#1e293b;line-height:1.6;}/*!sc*/
.fUIuKh h1,.fUIuKh h2,.fUIuKh h3,.fUIuKh h4,.fUIuKh h5,.fUIuKh h6{color:#1e293b;margin-top:2rem;margin-bottom:1rem;font-weight:600;}/*!sc*/
.fUIuKh h1{font-size:2rem;border-bottom:2px solid #e2e8f0;padding-bottom:0.5rem;}/*!sc*/
.fUIuKh h2{font-size:1.5rem;border-bottom:1px solid #e2e8f0;padding-bottom:0.3rem;}/*!sc*/
.fUIuKh h3{font-size:1.25rem;}/*!sc*/
.fUIuKh h4{font-size:1.1rem;}/*!sc*/
.fUIuKh p{margin-bottom:1rem;color:#64748b;}/*!sc*/
.fUIuKh a{color:#3b82f6;text-decoration:none;}/*!sc*/
.fUIuKh a:hover{text-decoration:underline;}/*!sc*/
.fUIuKh ul,.fUIuKh ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
.fUIuKh ul li,.fUIuKh ol li{margin-bottom:0.5rem;color:#64748b;}/*!sc*/
.fUIuKh blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#64748b;background:#f1f5f9;padding:1rem;border-radius:0.5rem;}/*!sc*/
.fUIuKh code{background:#f1f5f9;padding:0.2rem 0.4rem;border-radius:0.25rem;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;color:#f59e0b;}/*!sc*/
.fUIuKh pre{background:#ffffff;border:1px solid #e2e8f0;border-radius:0.5rem;padding:1rem;margin:1rem 0;overflow-x:auto;}/*!sc*/
.fUIuKh pre code{background:none;padding:0;color:#1e293b;font-size:0.9rem;}/*!sc*/
.fUIuKh table{width:100%;border-collapse:collapse;margin:1rem 0;}/*!sc*/
.fUIuKh table th,.fUIuKh table td{border:1px solid #e2e8f0;padding:0.5rem;text-align:left;}/*!sc*/
.fUIuKh table th{background:#ffffff;font-weight:600;}/*!sc*/
.fUIuKh table tr:nth-child(even){background:#f1f5f9;}/*!sc*/
.fUIuKh hr{border:none;height:1px;background:#e2e8f0;margin:2rem 0;}/*!sc*/
.fUIuKh .highlight{background:#3b82f620;padding:0.2rem 0.4rem;border-radius:0.25rem;font-weight:600;}/*!sc*/
.fUIuKh .hljs{background:#ffffff;color:#1e293b;}/*!sc*/
.fUIuKh .hljs-keyword{color:#3b82f6;font-weight:600;}/*!sc*/
.fUIuKh .hljs-string{color:#10b981;}/*!sc*/
.fUIuKh .hljs-function{color:#f59e0b;}/*!sc*/
.fUIuKh .hljs-comment{color:#94a3b8;font-style:italic;}/*!sc*/
.fUIuKh .hljs-number{color:#f59e0b;}/*!sc*/
.fUIuKh .hljs-variable{color:#1e293b;}/*!sc*/
.fUIuKh .hljs-title{color:#f59e0b;font-weight:600;}/*!sc*/
data-styled.g42[id="sc-fszimp"]{content:"fUIuKh,"}/*!sc*/
</style></head><body class="__className_6eac61"><div style="min-height:100vh;display:flex;flex-direction:column"><nav class="sc-gGKoUb iIQwfN"><div class="sc-hwddKA cEuiWg"><a href="/interview"><a class="sc-jaXbil bqPomF"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</a></a><div class="sc-eqNDNG iwwpNe"><a href="/interview/problems"><a class="sc-fVHBlr iuGltB">Problems</a></a><a href="/interview/learn"><a class="sc-fVHBlr iuGltB">Learn</a></a><a href="/interview/study-guide"><a class="sc-fVHBlr iuGltB">Study Guide</a></a><a href="/interview/system-design"><a class="sc-fVHBlr iuGltB">System Design</a></a><a href="/interview/performance"><a class="sc-fVHBlr iuGltB">Performance</a></a><a href="/interview/accessibility"><a class="sc-fVHBlr iuGltB">Accessibility</a></a><a href="/interview/interview-tips"><a class="sc-fVHBlr iuGltB">Interview Tips</a></a><button class="sc-cOpnSz keTsRT"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search "><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search</button></div><button class="sc-gLaqbQ lmsDAj"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu "><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></nav><main style="flex:1"><div style="max-width:1200px;margin:0 auto;padding:2rem;padding-top:6rem"><div style="margin-bottom:2rem"><nav style="color:#64748b;font-size:0.9rem;margin-bottom:1rem"><a href="/interview" style="color:#3b82f6;text-decoration:none">Home</a> &gt; <span>frontend &gt; browser-apis &gt; README</span></nav><h1 style="font-size:2.5rem;font-weight:800;margin-bottom:0.5rem;color:#1e293b">README</h1><div style="color:#64748b;font-size:0.9rem;margin-bottom:2rem"><span>üìÅ <!-- -->frontend/browser-apis/README.md</span></div></div><div class="sc-fszimp fUIuKh"><h1 id="browser-apis-&amp;-modern-web-platform" node="[object Object]">Browser APIs &amp; Modern Web Platform</h1>
<h2 id="table-of-contents" node="[object Object]">Table of Contents</h2>
<ul>
<li><a href="#web-workers" node="[object Object]">Web Workers</a></li>
<li><a href="#service-workers" node="[object Object]">Service Workers</a></li>
<li><a href="#progressive-web-apps-pwa" node="[object Object]">Progressive Web Apps (PWA)</a></li>
<li><a href="#web-storage-apis" node="[object Object]">Web Storage APIs</a></li>
<li><a href="#geolocation-api" node="[object Object]">Geolocation API</a></li>
<li><a href="#camera--media-apis" node="[object Object]">Camera &amp; Media APIs</a></li>
<li><a href="#notification-api" node="[object Object]">Notification API</a></li>
<li><a href="#websockets--real-time-communication" node="[object Object]">WebSockets &amp; Real-time Communication</a></li>
<li><a href="#intersection-observer" node="[object Object]">Intersection Observer</a></li>
<li><a href="#resize-observer" node="[object Object]">Resize Observer</a></li>
<li><a href="#mutation-observer" node="[object Object]">Mutation Observer</a></li>
<li><a href="#webassembly-wasm" node="[object Object]">WebAssembly (WASM)</a></li>
<li><a href="#file-system-access-api" node="[object Object]">File System Access API</a></li>
<li><a href="#web-authentication-api" node="[object Object]">Web Authentication API</a></li>
<li><a href="#performance-apis" node="[object Object]">Performance APIs</a></li>
<li><a href="#interview-questions" node="[object Object]">Interview Questions</a></li>
</ul>
<h2 id="web-workers" node="[object Object]">Web Workers</h2>
<p>Web Workers allow you to run JavaScript in the background, separate from the main UI thread.</p>
<h3 id="basic-web-worker" node="[object Object]">Basic Web Worker</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(<span class="hljs-string">&#x27;worker.js&#x27;</span>);

<span class="hljs-comment">// Send data to worker</span>
worker.<span class="hljs-title function_">postMessage</span>({ <span class="hljs-attr">command</span>: <span class="hljs-string">&#x27;start&#x27;</span>, <span class="hljs-attr">data</span>: [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>] });

<span class="hljs-comment">// Receive data from worker</span>
worker.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Result from worker:&#x27;</span>, e.<span class="hljs-property">data</span>);
};

<span class="hljs-comment">// Handle errors</span>
worker.<span class="hljs-property">onerror</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Worker error:&#x27;</span>, error);
};

<span class="hljs-comment">// Terminate worker when done</span>
worker.<span class="hljs-title function_">terminate</span>();
</code></pre></pre>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// worker.js</span>
self.<span class="hljs-property">onmessage</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) {
  <span class="hljs-keyword">const</span> { command, data } = e.<span class="hljs-property">data</span>;
  
  <span class="hljs-keyword">if</span> (command === <span class="hljs-string">&#x27;start&#x27;</span>) {
    <span class="hljs-comment">// Perform expensive computation</span>
    <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">performHeavyCalculation</span>(data);
    
    <span class="hljs-comment">// Send result back to main thread</span>
    self.<span class="hljs-title function_">postMessage</span>(result);
  }
};

<span class="hljs-keyword">function</span> <span class="hljs-title function_">performHeavyCalculation</span>(<span class="hljs-params">data</span>) {
  <span class="hljs-comment">// Simulate expensive operation</span>
  <span class="hljs-keyword">let</span> result = <span class="hljs-number">0</span>;
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000000</span>; i++) {
    result += data.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, num</span>) =&gt;</span> sum + num, <span class="hljs-number">0</span>);
  }
  <span class="hljs-keyword">return</span> result;
}
</code></pre></pre>
<h3 id="advanced-web-worker-with-shared-array-buffer" node="[object Object]">Advanced Web Worker with Shared Array Buffer</h3>
<p>{% raw %}</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">WorkerPool</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">workerScript, poolSize = <span class="hljs-number">4</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeTasks</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; poolSize; i++) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createWorker</span>(workerScript, i);
    }
  }
  
  <span class="hljs-title function_">createWorker</span>(<span class="hljs-params">script, id</span>) {
    <span class="hljs-keyword">const</span> worker = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Worker</span>(script);
    worker.<span class="hljs-property">id</span> = id;
    worker.<span class="hljs-property">busy</span> = <span class="hljs-literal">false</span>;
    
    worker.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> { taskId, result, error } = e.<span class="hljs-property">data</span>;
      <span class="hljs-keyword">const</span> task = <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeTasks</span>.<span class="hljs-title function_">get</span>(taskId);
      
      <span class="hljs-keyword">if</span> (task) {
        <span class="hljs-keyword">if</span> (error) {
          task.<span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(error));
        } <span class="hljs-keyword">else</span> {
          task.<span class="hljs-title function_">resolve</span>(result);
        }
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeTasks</span>.<span class="hljs-title function_">delete</span>(taskId);
      }
      
      worker.<span class="hljs-property">busy</span> = <span class="hljs-literal">false</span>;
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    };
    
    worker.<span class="hljs-property">onerror</span> = <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Worker <span class="hljs-subst">${id}</span> error:`</span>, error);
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">push</span>(worker);
  }
  
  <span class="hljs-title function_">execute</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> taskId = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>();
      <span class="hljs-keyword">const</span> task = { taskId, data, resolve, reject };
      
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">push</span>(task);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">processQueue</span>();
    });
  }
  
  <span class="hljs-title function_">processQueue</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> availableWorker = <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">w</span> =&gt;</span> !w.<span class="hljs-property">busy</span>);
    <span class="hljs-keyword">if</span> (!availableWorker) <span class="hljs-keyword">return</span>;
    
    <span class="hljs-keyword">const</span> task = <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span>.<span class="hljs-title function_">shift</span>();
    availableWorker.<span class="hljs-property">busy</span> = <span class="hljs-literal">true</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeTasks</span>.<span class="hljs-title function_">set</span>(task.<span class="hljs-property">taskId</span>, task);
    
    availableWorker.<span class="hljs-title function_">postMessage</span>({
      <span class="hljs-attr">taskId</span>: task.<span class="hljs-property">taskId</span>,
      <span class="hljs-attr">data</span>: task.<span class="hljs-property">data</span>
    });
  }
  
  <span class="hljs-title function_">terminate</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">worker</span> =&gt;</span> worker.<span class="hljs-title function_">terminate</span>());
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">workers</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeTasks</span>.<span class="hljs-title function_">clear</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskQueue</span> = [];
  }
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> pool = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WorkerPool</span>(<span class="hljs-string">&#x27;calculation-worker.js&#x27;</span>, <span class="hljs-number">4</span>);

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">processLargeDataset</span>(<span class="hljs-params">dataset</span>) {
  <span class="hljs-keyword">const</span> chunks = <span class="hljs-title function_">chunkArray</span>(dataset, <span class="hljs-number">1000</span>);
  <span class="hljs-keyword">const</span> promises = chunks.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> pool.<span class="hljs-title function_">execute</span>(chunk));
  
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> results = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(promises);
    <span class="hljs-keyword">return</span> results.<span class="hljs-title function_">flat</span>();
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Processing failed:&#x27;</span>, error);
    <span class="hljs-keyword">throw</span> error;
  }
}
</code></pre></pre>
<p>{% endraw %}</p>
<h2 id="service-workers" node="[object Object]">Service Workers</h2>
<p>Service Workers act as a proxy between your web app and the network, enabling offline functionality and background sync.</p>
<h3 id="basic-service-worker" node="[object Object]">Basic Service Worker</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// main.js</span>
<span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;serviceWorker&#x27;</span> <span class="hljs-keyword">in</span> navigator) {
  navigator.<span class="hljs-property">serviceWorker</span>.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;/sw.js&#x27;</span>)
    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">registration</span> =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;SW registered:&#x27;</span>, registration);
    })
    .<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;SW registration failed:&#x27;</span>, error);
    });
}

<span class="hljs-comment">// Listen for SW updates</span>
navigator.<span class="hljs-property">serviceWorker</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;controllerchange&#x27;</span>, <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">window</span>.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();
});
</code></pre></pre>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// sw.js</span>
<span class="hljs-keyword">const</span> <span class="hljs-variable constant_">CACHE_NAME</span> = <span class="hljs-string">&#x27;my-app-v1&#x27;</span>;
<span class="hljs-keyword">const</span> urlsToCache = [
  <span class="hljs-string">&#x27;/&#x27;</span>,
  <span class="hljs-string">&#x27;/static/js/bundle.js&#x27;</span>,
  <span class="hljs-string">&#x27;/static/css/main.css&#x27;</span>,
  <span class="hljs-string">&#x27;/manifest.json&#x27;</span>
];

<span class="hljs-comment">// Install event - cache resources</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;install&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  event.<span class="hljs-title function_">waitUntil</span>(
    caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable constant_">CACHE_NAME</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> cache.<span class="hljs-title function_">addAll</span>(urlsToCache))
  );
});

<span class="hljs-comment">// Activate event - clean up old caches</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;activate&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  event.<span class="hljs-title function_">waitUntil</span>(
    caches.<span class="hljs-title function_">keys</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cacheNames</span> =&gt;</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(
        cacheNames.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">cacheName</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (cacheName !== <span class="hljs-variable constant_">CACHE_NAME</span>) {
            <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">delete</span>(cacheName);
          }
        })
      );
    })
  );
});

<span class="hljs-comment">// Fetch event - serve from cache or network</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;fetch&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  event.<span class="hljs-title function_">respondWith</span>(
    caches.<span class="hljs-title function_">match</span>(event.<span class="hljs-property">request</span>)
      .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
        <span class="hljs-comment">// Return cached version or fetch from network</span>
        <span class="hljs-keyword">return</span> response || <span class="hljs-title function_">fetch</span>(event.<span class="hljs-property">request</span>);
      })
  );
});
</code></pre></pre>
<h3 id="advanced-service-worker-with-strategies" node="[object Object]">Advanced Service Worker with Strategies</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// sw.js</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheStrategy</span> {
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">cacheFirst</span>(<span class="hljs-params">request, cacheName</span>) {
    <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">open</span>(cacheName).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">match</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cachedResponse</span> =&gt;</span> {
        <span class="hljs-keyword">if</span> (cachedResponse) {
          <span class="hljs-keyword">return</span> cachedResponse;
        }
        
        <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">networkResponse</span> =&gt;</span> {
          cache.<span class="hljs-title function_">put</span>(request, networkResponse.<span class="hljs-title function_">clone</span>());
          <span class="hljs-keyword">return</span> networkResponse;
        });
      });
    });
  }
  
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">networkFirst</span>(<span class="hljs-params">request, cacheName, timeout = <span class="hljs-number">3000</span></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> timeoutId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-comment">// Fallback to cache if network is slow</span>
        caches.<span class="hljs-title function_">match</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cachedResponse</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (cachedResponse) {
            <span class="hljs-title function_">resolve</span>(cachedResponse);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Network timeout and no cache&#x27;</span>));
          }
        });
      }, timeout);
      
      <span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">networkResponse</span> =&gt;</span> {
        <span class="hljs-built_in">clearTimeout</span>(timeoutId);
        
        <span class="hljs-keyword">if</span> (networkResponse.<span class="hljs-property">ok</span>) {
          caches.<span class="hljs-title function_">open</span>(cacheName).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> {
            cache.<span class="hljs-title function_">put</span>(request, networkResponse.<span class="hljs-title function_">clone</span>());
          });
        }
        
        <span class="hljs-title function_">resolve</span>(networkResponse);
      }).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> {
        <span class="hljs-built_in">clearTimeout</span>(timeoutId);
        
        caches.<span class="hljs-title function_">match</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cachedResponse</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (cachedResponse) {
            <span class="hljs-title function_">resolve</span>(cachedResponse);
          } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">reject</span>(error);
          }
        });
      });
    });
  }
  
  <span class="hljs-keyword">static</span> <span class="hljs-title function_">staleWhileRevalidate</span>(<span class="hljs-params">request, cacheName</span>) {
    <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">open</span>(cacheName).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cache</span> =&gt;</span> {
      <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">match</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">cachedResponse</span> =&gt;</span> {
        <span class="hljs-keyword">const</span> fetchPromise = <span class="hljs-title function_">fetch</span>(request).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">networkResponse</span> =&gt;</span> {
          cache.<span class="hljs-title function_">put</span>(request, networkResponse.<span class="hljs-title function_">clone</span>());
          <span class="hljs-keyword">return</span> networkResponse;
        });
        
        <span class="hljs-keyword">return</span> cachedResponse || fetchPromise;
      });
    });
  }
}

<span class="hljs-comment">// Background sync</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;sync&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">tag</span> === <span class="hljs-string">&#x27;background-sync&#x27;</span>) {
    event.<span class="hljs-title function_">waitUntil</span>(<span class="hljs-title function_">syncData</span>());
  }
});

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">syncData</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> pendingRequests = <span class="hljs-keyword">await</span> <span class="hljs-title function_">getPendingRequests</span>();
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> request <span class="hljs-keyword">of</span> pendingRequests) {
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(request.<span class="hljs-property">url</span>, request.<span class="hljs-property">options</span>);
      <span class="hljs-keyword">await</span> <span class="hljs-title function_">removePendingRequest</span>(request.<span class="hljs-property">id</span>);
    }
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Background sync failed:&#x27;</span>, error);
  }
}
</code></pre></pre>
<h2 id="progressive-web-apps-(pwa)" node="[object Object]">Progressive Web Apps (PWA)</h2>
<h3 id="web-app-manifest" node="[object Object]">Web App Manifest</h3>
<pre><pre><code class="hljs hljs language-json"><span class="hljs-punctuation">{</span>
  <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;My Progressive Web App&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;short_name&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;MyPWA&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;description&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;A sample progressive web application&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;start_url&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;display&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;standalone&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;background_color&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#ffffff&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;theme_color&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;#000000&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;orientation&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;portrait-primary&quot;</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;icons&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;src&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/icons/icon-72x72.png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;sizes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;72x72&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;image/png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;purpose&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;maskable any&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;src&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/icons/icon-192x192.png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;sizes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;192x192&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;image/png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;purpose&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;maskable any&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;src&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/icons/icon-512x512.png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;sizes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;512x512&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;image/png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;purpose&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;maskable any&quot;</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;categories&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span><span class="hljs-string">&quot;productivity&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-string">&quot;utilities&quot;</span><span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>
  <span class="hljs-attr">&quot;screenshots&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;src&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/screenshots/desktop.png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;sizes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;1920x1080&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;image/png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;form_factor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;wide&quot;</span>
    <span class="hljs-punctuation">}</span><span class="hljs-punctuation">,</span>
    <span class="hljs-punctuation">{</span>
      <span class="hljs-attr">&quot;src&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;/screenshots/mobile.png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;sizes&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;750x1334&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;image/png&quot;</span><span class="hljs-punctuation">,</span>
      <span class="hljs-attr">&quot;form_factor&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;narrow&quot;</span>
    <span class="hljs-punctuation">}</span>
  <span class="hljs-punctuation">]</span>
<span class="hljs-punctuation">}</span>
</code></pre></pre>
<h3 id="pwa-installation" node="[object Object]">PWA Installation</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// PWA install prompt</span>
<span class="hljs-keyword">let</span> deferredPrompt;

<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;beforeinstallprompt&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-comment">// Prevent the mini-infobar from appearing</span>
  e.<span class="hljs-title function_">preventDefault</span>();
  
  <span class="hljs-comment">// Store the event so it can be triggered later</span>
  deferredPrompt = e;
  
  <span class="hljs-comment">// Show custom install button</span>
  <span class="hljs-title function_">showInstallButton</span>();
});

<span class="hljs-keyword">function</span> <span class="hljs-title function_">showInstallButton</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> installBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;install-btn&#x27;</span>);
  installBtn.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;block&#x27;</span>;
  
  installBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-title function_">async</span> () =&gt; {
    <span class="hljs-keyword">if</span> (deferredPrompt) {
      <span class="hljs-comment">// Show the install prompt</span>
      deferredPrompt.<span class="hljs-title function_">prompt</span>();
      
      <span class="hljs-comment">// Wait for the user&#x27;s response</span>
      <span class="hljs-keyword">const</span> { outcome } = <span class="hljs-keyword">await</span> deferredPrompt.<span class="hljs-property">userChoice</span>;
      
      <span class="hljs-keyword">if</span> (outcome === <span class="hljs-string">&#x27;accepted&#x27;</span>) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;User accepted the install prompt&#x27;</span>);
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;User dismissed the install prompt&#x27;</span>);
      }
      
      deferredPrompt = <span class="hljs-literal">null</span>;
      installBtn.<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;none&#x27;</span>;
    }
  });
}

<span class="hljs-comment">// Listen for app installation</span>
<span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;appinstalled&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;PWA was installed&#x27;</span>);
  <span class="hljs-title function_">hideInstallButton</span>();
});

<span class="hljs-comment">// Check if app is running in standalone mode</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">isStandalone</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">matchMedia</span>(<span class="hljs-string">&#x27;(display-mode: standalone)&#x27;</span>).<span class="hljs-property">matches</span> ||
         <span class="hljs-variable language_">window</span>.<span class="hljs-property">navigator</span>.<span class="hljs-property">standalone</span> === <span class="hljs-literal">true</span>;
}
</code></pre></pre>
<h2 id="web-storage-apis" node="[object Object]">Web Storage APIs</h2>
<h3 id="indexeddb" node="[object Object]">IndexedDB</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IndexedDBManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">dbName, version = <span class="hljs-number">1</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span> = dbName;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span> = version;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = <span class="hljs-literal">null</span>;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">open</span>(<span class="hljs-params">stores = []</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = indexedDB.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">dbName</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">version</span>);
      
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span> = request.<span class="hljs-property">result</span>;
        <span class="hljs-title function_">resolve</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>);
      };
      
      request.<span class="hljs-property">onupgradeneeded</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
        <span class="hljs-keyword">const</span> db = event.<span class="hljs-property">target</span>.<span class="hljs-property">result</span>;
        
        stores.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">store</span> =&gt;</span> {
          <span class="hljs-keyword">if</span> (!db.<span class="hljs-property">objectStoreNames</span>.<span class="hljs-title function_">contains</span>(store.<span class="hljs-property">name</span>)) {
            <span class="hljs-keyword">const</span> objectStore = db.<span class="hljs-title function_">createObjectStore</span>(store.<span class="hljs-property">name</span>, {
              <span class="hljs-attr">keyPath</span>: store.<span class="hljs-property">keyPath</span> || <span class="hljs-string">&#x27;id&#x27;</span>,
              <span class="hljs-attr">autoIncrement</span>: store.<span class="hljs-property">autoIncrement</span> || <span class="hljs-literal">false</span>
            });
            
            <span class="hljs-comment">// Create indexes</span>
            <span class="hljs-keyword">if</span> (store.<span class="hljs-property">indexes</span>) {
              store.<span class="hljs-property">indexes</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">index</span> =&gt;</span> {
                objectStore.<span class="hljs-title function_">createIndex</span>(index.<span class="hljs-property">name</span>, index.<span class="hljs-property">keyPath</span>, {
                  <span class="hljs-attr">unique</span>: index.<span class="hljs-property">unique</span> || <span class="hljs-literal">false</span>
                });
              });
            }
          }
        });
      };
    });
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">storeName, data</span>) {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([storeName], <span class="hljs-string">&#x27;readwrite&#x27;</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">add</span>(data);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">storeName, key</span>) {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([storeName], <span class="hljs-string">&#x27;readonly&#x27;</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">get</span>(key);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getAll</span>(<span class="hljs-params">storeName</span>) {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([storeName], <span class="hljs-string">&#x27;readonly&#x27;</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">getAll</span>();
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">storeName, data</span>) {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([storeName], <span class="hljs-string">&#x27;readwrite&#x27;</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">put</span>(data);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">storeName, key</span>) {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([storeName], <span class="hljs-string">&#x27;readwrite&#x27;</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = store.<span class="hljs-title function_">delete</span>(key);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>();
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">query</span>(<span class="hljs-params">storeName, indexName, keyRange</span>) {
    <span class="hljs-keyword">const</span> transaction = <span class="hljs-variable language_">this</span>.<span class="hljs-property">db</span>.<span class="hljs-title function_">transaction</span>([storeName], <span class="hljs-string">&#x27;readonly&#x27;</span>);
    <span class="hljs-keyword">const</span> store = transaction.<span class="hljs-title function_">objectStore</span>(storeName);
    <span class="hljs-keyword">const</span> index = store.<span class="hljs-title function_">index</span>(indexName);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> request = index.<span class="hljs-title function_">getAll</span>(keyRange);
      request.<span class="hljs-property">onsuccess</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">resolve</span>(request.<span class="hljs-property">result</span>);
      request.<span class="hljs-property">onerror</span> = <span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(request.<span class="hljs-property">error</span>);
    });
  }
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> dbManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IndexedDBManager</span>(<span class="hljs-string">&#x27;MyAppDB&#x27;</span>, <span class="hljs-number">1</span>);

<span class="hljs-keyword">const</span> stores = [
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;users&#x27;</span>,
    <span class="hljs-attr">keyPath</span>: <span class="hljs-string">&#x27;id&#x27;</span>,
    <span class="hljs-attr">autoIncrement</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">indexes</span>: [
      { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;email&#x27;</span>, <span class="hljs-attr">keyPath</span>: <span class="hljs-string">&#x27;email&#x27;</span>, <span class="hljs-attr">unique</span>: <span class="hljs-literal">true</span> },
      { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-attr">keyPath</span>: <span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> }
    ]
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;posts&#x27;</span>,
    <span class="hljs-attr">keyPath</span>: <span class="hljs-string">&#x27;id&#x27;</span>,
    <span class="hljs-attr">autoIncrement</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">indexes</span>: [
      { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;userId&#x27;</span>, <span class="hljs-attr">keyPath</span>: <span class="hljs-string">&#x27;userId&#x27;</span>, <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> },
      { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;createdAt&#x27;</span>, <span class="hljs-attr">keyPath</span>: <span class="hljs-string">&#x27;createdAt&#x27;</span>, <span class="hljs-attr">unique</span>: <span class="hljs-literal">false</span> }
    ]
  }
];

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initDB</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">await</span> dbManager.<span class="hljs-title function_">open</span>(stores);
  
  <span class="hljs-comment">// Add user</span>
  <span class="hljs-keyword">await</span> dbManager.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;users&#x27;</span>, {
    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John Doe&#x27;</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;john@example.com&#x27;</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">30</span>
  });
  
  <span class="hljs-comment">// Get user</span>
  <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> dbManager.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;users&#x27;</span>, <span class="hljs-number">1</span>);
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;User:&#x27;</span>, user);
  
  <span class="hljs-comment">// Query by email</span>
  <span class="hljs-keyword">const</span> usersByEmail = <span class="hljs-keyword">await</span> dbManager.<span class="hljs-title function_">query</span>(
    <span class="hljs-string">&#x27;users&#x27;</span>, 
    <span class="hljs-string">&#x27;email&#x27;</span>, 
    <span class="hljs-title class_">IDBKeyRange</span>.<span class="hljs-title function_">only</span>(<span class="hljs-string">&#x27;john@example.com&#x27;</span>)
  );
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Users by email:&#x27;</span>, usersByEmail);
}
</code></pre></pre>
<h3 id="cache-api" node="[object Object]">Cache API</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CacheManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">cacheName</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span> = cacheName;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">request, response</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">put</span>(request, response);
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">request</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">match</span>(request);
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">delete</span>(<span class="hljs-params">request</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">delete</span>(request);
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">clear</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">delete</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addAll</span>(<span class="hljs-params">requests</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">addAll</span>(requests);
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">keys</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">keys</span>();
  }
}

<span class="hljs-comment">// Advanced caching with expiration</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ExpiringCache</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">CacheManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">cacheName, defaultTTL = <span class="hljs-number">3600000</span></span>) { <span class="hljs-comment">// 1 hour default</span>
    <span class="hljs-variable language_">super</span>(cacheName);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">defaultTTL</span> = defaultTTL;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">request, response, ttl = <span class="hljs-variable language_">this</span>.defaultTTL</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">const</span> expirationTime = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() + ttl;
    
    <span class="hljs-comment">// Clone response to add expiration header</span>
    <span class="hljs-keyword">const</span> responseToCache = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Response</span>(response.<span class="hljs-property">body</span>, {
      <span class="hljs-attr">status</span>: response.<span class="hljs-property">status</span>,
      <span class="hljs-attr">statusText</span>: response.<span class="hljs-property">statusText</span>,
      <span class="hljs-attr">headers</span>: {
        ...<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(response.<span class="hljs-property">headers</span>.<span class="hljs-title function_">entries</span>()),
        <span class="hljs-string">&#x27;cache-expiration&#x27;</span>: expirationTime.<span class="hljs-title function_">toString</span>()
      }
    });
    
    <span class="hljs-keyword">return</span> cache.<span class="hljs-title function_">put</span>(request, responseToCache);
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">get</span>(<span class="hljs-params">request</span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">match</span>(request);
    
    <span class="hljs-keyword">if</span> (!response) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    
    <span class="hljs-keyword">const</span> expirationTime = response.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;cache-expiration&#x27;</span>);
    <span class="hljs-keyword">if</span> (expirationTime &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &gt; <span class="hljs-built_in">parseInt</span>(expirationTime)) {
      <span class="hljs-comment">// Cache expired, remove it</span>
      <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">delete</span>(request);
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-keyword">return</span> response;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">cleanup</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">const</span> cache = <span class="hljs-keyword">await</span> caches.<span class="hljs-title function_">open</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cacheName</span>);
    <span class="hljs-keyword">const</span> requests = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">keys</span>();
    
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> request <span class="hljs-keyword">of</span> requests) {
      <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">match</span>(request);
      <span class="hljs-keyword">const</span> expirationTime = response.<span class="hljs-property">headers</span>.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;cache-expiration&#x27;</span>);
      
      <span class="hljs-keyword">if</span> (expirationTime &amp;&amp; <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() &gt; <span class="hljs-built_in">parseInt</span>(expirationTime)) {
        <span class="hljs-keyword">await</span> cache.<span class="hljs-title function_">delete</span>(request);
      }
    }
  }
}
</code></pre></pre>
<h2 id="geolocation-api" node="[object Object]">Geolocation API</h2>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">GeolocationManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchId</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPosition</span> = <span class="hljs-literal">null</span>;
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getCurrentPosition</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-keyword">const</span> defaultOptions = {
      <span class="hljs-attr">enableHighAccuracy</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">10000</span>,
      <span class="hljs-attr">maximumAge</span>: <span class="hljs-number">300000</span> <span class="hljs-comment">// 5 minutes</span>
    };
    
    <span class="hljs-keyword">const</span> finalOptions = { ...defaultOptions, ...options };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (!navigator.<span class="hljs-property">geolocation</span>) {
        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Geolocation is not supported&#x27;</span>));
        <span class="hljs-keyword">return</span>;
      }
      
      navigator.<span class="hljs-property">geolocation</span>.<span class="hljs-title function_">getCurrentPosition</span>(
        <span class="hljs-function">(<span class="hljs-params">position</span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPosition</span> = position;
          <span class="hljs-title function_">resolve</span>(position);
        },
        <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
          <span class="hljs-title function_">reject</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">formatError</span>(error));
        },
        finalOptions
      );
    });
  }
  
  <span class="hljs-title function_">startWatching</span>(<span class="hljs-params">callback, errorCallback, options = {}</span>) {
    <span class="hljs-keyword">if</span> (!navigator.<span class="hljs-property">geolocation</span>) {
      <span class="hljs-title function_">errorCallback</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Geolocation is not supported&#x27;</span>));
      <span class="hljs-keyword">return</span>;
    }
    
    <span class="hljs-keyword">const</span> defaultOptions = {
      <span class="hljs-attr">enableHighAccuracy</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">30000</span>,
      <span class="hljs-attr">maximumAge</span>: <span class="hljs-number">60000</span> <span class="hljs-comment">// 1 minute</span>
    };
    
    <span class="hljs-keyword">const</span> finalOptions = { ...defaultOptions, ...options };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchId</span> = navigator.<span class="hljs-property">geolocation</span>.<span class="hljs-title function_">watchPosition</span>(
      <span class="hljs-function">(<span class="hljs-params">position</span>) =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPosition</span> = position;
        <span class="hljs-title function_">callback</span>(position);
      },
      <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-title function_">errorCallback</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">formatError</span>(error));
      },
      finalOptions
    );
    
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchId</span>;
  }
  
  <span class="hljs-title function_">stopWatching</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">watchId</span> !== <span class="hljs-literal">null</span>) {
      navigator.<span class="hljs-property">geolocation</span>.<span class="hljs-title function_">clearWatch</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">watchId</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">watchId</span> = <span class="hljs-literal">null</span>;
    }
  }
  
  <span class="hljs-title function_">formatError</span>(<span class="hljs-params">error</span>) {
    <span class="hljs-keyword">const</span> errorMessages = {
      <span class="hljs-number">1</span>: <span class="hljs-string">&#x27;Permission denied by user&#x27;</span>,
      <span class="hljs-number">2</span>: <span class="hljs-string">&#x27;Position unavailable&#x27;</span>,
      <span class="hljs-number">3</span>: <span class="hljs-string">&#x27;Request timeout&#x27;</span>
    };
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(errorMessages[error.<span class="hljs-property">code</span>] || <span class="hljs-string">&#x27;Unknown geolocation error&#x27;</span>);
  }
  
  <span class="hljs-title function_">calculateDistance</span>(<span class="hljs-params">lat1, lon1, lat2, lon2</span>) {
    <span class="hljs-keyword">const</span> R = <span class="hljs-number">6371</span>; <span class="hljs-comment">// Earth&#x27;s radius in kilometers</span>
    <span class="hljs-keyword">const</span> dLat = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toRadians</span>(lat2 - lat1);
    <span class="hljs-keyword">const</span> dLon = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toRadians</span>(lon2 - lon1);
    
    <span class="hljs-keyword">const</span> a = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(dLat / <span class="hljs-number">2</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(dLat / <span class="hljs-number">2</span>) +
              <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toRadians</span>(lat1)) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">cos</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">toRadians</span>(lat2)) *
              <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(dLon / <span class="hljs-number">2</span>) * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sin</span>(dLon / <span class="hljs-number">2</span>);
    
    <span class="hljs-keyword">const</span> c = <span class="hljs-number">2</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">atan2</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(a), <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">sqrt</span>(<span class="hljs-number">1</span> - a));
    <span class="hljs-keyword">return</span> R * c; <span class="hljs-comment">// Distance in kilometers</span>
  }
  
  <span class="hljs-title function_">toRadians</span>(<span class="hljs-params">degrees</span>) {
    <span class="hljs-keyword">return</span> degrees * (<span class="hljs-title class_">Math</span>.<span class="hljs-property">PI</span> / <span class="hljs-number">180</span>);
  }
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> geoManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">GeolocationManager</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">trackUserLocation</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// Get current position</span>
    <span class="hljs-keyword">const</span> position = <span class="hljs-keyword">await</span> geoManager.<span class="hljs-title function_">getCurrentPosition</span>({
      <span class="hljs-attr">enableHighAccuracy</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">timeout</span>: <span class="hljs-number">15000</span>
    });
    
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Current position:&#x27;</span>, {
      <span class="hljs-attr">latitude</span>: position.<span class="hljs-property">coords</span>.<span class="hljs-property">latitude</span>,
      <span class="hljs-attr">longitude</span>: position.<span class="hljs-property">coords</span>.<span class="hljs-property">longitude</span>,
      <span class="hljs-attr">accuracy</span>: position.<span class="hljs-property">coords</span>.<span class="hljs-property">accuracy</span>
    });
    
    <span class="hljs-comment">// Start watching for position changes</span>
    geoManager.<span class="hljs-title function_">startWatching</span>(
      <span class="hljs-function">(<span class="hljs-params">position</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Position updated:&#x27;</span>, position.<span class="hljs-property">coords</span>);
        <span class="hljs-title function_">updateMapLocation</span>(position.<span class="hljs-property">coords</span>);
      },
      <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Geolocation error:&#x27;</span>, error.<span class="hljs-property">message</span>);
      },
      {
        <span class="hljs-attr">enableHighAccuracy</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">timeout</span>: <span class="hljs-number">30000</span>,
        <span class="hljs-attr">maximumAge</span>: <span class="hljs-number">60000</span>
      }
    );
    
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Failed to get location:&#x27;</span>, error.<span class="hljs-property">message</span>);
  }
}
</code></pre></pre>
<h2 id="camera-&amp;-media-apis" node="[object Object]">Camera &amp; Media APIs</h2>
<h3 id="getusermedia-for-camera-access" node="[object Object]">getUserMedia for Camera Access</h3>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">CameraManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">recordedChunks</span> = [];
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">getDevices</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> devices = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">enumerateDevices</span>();
      <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">videoInputs</span>: devices.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">device</span> =&gt;</span> device.<span class="hljs-property">kind</span> === <span class="hljs-string">&#x27;videoinput&#x27;</span>),
        <span class="hljs-attr">audioInputs</span>: devices.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">device</span> =&gt;</span> device.<span class="hljs-property">kind</span> === <span class="hljs-string">&#x27;audioinput&#x27;</span>)
      };
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to enumerate devices: <span class="hljs-subst">${error.message}</span>`</span>);
    }
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">startCamera</span>(<span class="hljs-params">constraints = {}</span>) {
    <span class="hljs-keyword">const</span> defaultConstraints = {
      <span class="hljs-attr">video</span>: {
        <span class="hljs-attr">width</span>: { <span class="hljs-attr">ideal</span>: <span class="hljs-number">1920</span> },
        <span class="hljs-attr">height</span>: { <span class="hljs-attr">ideal</span>: <span class="hljs-number">1080</span> },
        <span class="hljs-attr">frameRate</span>: { <span class="hljs-attr">ideal</span>: <span class="hljs-number">30</span> }
      },
      <span class="hljs-attr">audio</span>: <span class="hljs-literal">true</span>
    };
    
    <span class="hljs-keyword">const</span> finalConstraints = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">mergeConstraints</span>(defaultConstraints, constraints);
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span> = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">getUserMedia</span>(finalConstraints);
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span>;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to access camera: <span class="hljs-subst">${error.message}</span>`</span>);
    }
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">startScreenCapture</span>(<span class="hljs-params">constraints = {}</span>) {
    <span class="hljs-keyword">const</span> defaultConstraints = {
      <span class="hljs-attr">video</span>: {
        <span class="hljs-attr">mediaSource</span>: <span class="hljs-string">&#x27;screen&#x27;</span>
      },
      <span class="hljs-attr">audio</span>: <span class="hljs-literal">true</span>
    };
    
    <span class="hljs-keyword">const</span> finalConstraints = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">mergeConstraints</span>(defaultConstraints, constraints);
    
    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span> = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">getDisplayMedia</span>(finalConstraints);
      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span>;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Failed to capture screen: <span class="hljs-subst">${error.message}</span>`</span>);
    }
  }
  
  <span class="hljs-title function_">stopStream</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span>.<span class="hljs-title function_">getTracks</span>().<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">track</span> =&gt;</span> track.<span class="hljs-title function_">stop</span>());
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span> = <span class="hljs-literal">null</span>;
    }
  }
  
  <span class="hljs-keyword">async</span> <span class="hljs-title function_">startRecording</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;No active stream to record&#x27;</span>);
    }
    
    <span class="hljs-keyword">const</span> defaultOptions = {
      <span class="hljs-attr">mimeType</span>: <span class="hljs-string">&#x27;video/webm; codecs=vp9&#x27;</span>,
      <span class="hljs-attr">videoBitsPerSecond</span>: <span class="hljs-number">2500000</span>
    };
    
    <span class="hljs-keyword">const</span> finalOptions = { ...defaultOptions, ...options };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">recordedChunks</span> = [];
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">MediaRecorder</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">stream</span>, finalOptions);
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span>.<span class="hljs-property">ondataavailable</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (event.<span class="hljs-property">data</span>.<span class="hljs-property">size</span> &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">recordedChunks</span>.<span class="hljs-title function_">push</span>(event.<span class="hljs-property">data</span>);
      }
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span>.<span class="hljs-title function_">start</span>();
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span>.<span class="hljs-property">onstop</span> = <span class="hljs-function">() =&gt;</span> {
        <span class="hljs-keyword">const</span> blob = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Blob</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">recordedChunks</span>, { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;video/webm&#x27;</span> });
        <span class="hljs-title function_">resolve</span>(blob);
      };
    });
  }
  
  <span class="hljs-title function_">stopRecording</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span>.<span class="hljs-property">state</span> !== <span class="hljs-string">&#x27;inactive&#x27;</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">mediaRecorder</span>.<span class="hljs-title function_">stop</span>();
    }
  }
  
  <span class="hljs-title function_">capturePhoto</span>(<span class="hljs-params">videoElement</span>) {
    <span class="hljs-keyword">const</span> canvas = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>);
    <span class="hljs-keyword">const</span> context = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>);
    
    canvas.<span class="hljs-property">width</span> = videoElement.<span class="hljs-property">videoWidth</span>;
    canvas.<span class="hljs-property">height</span> = videoElement.<span class="hljs-property">videoHeight</span>;
    
    context.<span class="hljs-title function_">drawImage</span>(videoElement, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
      canvas.<span class="hljs-title function_">toBlob</span>(<span class="hljs-function">(<span class="hljs-params">blob</span>) =&gt;</span> {
        <span class="hljs-title function_">resolve</span>(blob);
      }, <span class="hljs-string">&#x27;image/jpeg&#x27;</span>, <span class="hljs-number">0.9</span>);
    });
  }
  
  <span class="hljs-title function_">mergeConstraints</span>(<span class="hljs-params">defaults, custom</span>) {
    <span class="hljs-keyword">const</span> result = { ...defaults };
    
    <span class="hljs-keyword">if</span> (custom.<span class="hljs-property">video</span>) {
      result.<span class="hljs-property">video</span> = { ...defaults.<span class="hljs-property">video</span>, ...custom.<span class="hljs-property">video</span> };
    }
    
    <span class="hljs-keyword">if</span> (custom.<span class="hljs-property">audio</span>) {
      result.<span class="hljs-property">audio</span> = <span class="hljs-keyword">typeof</span> custom.<span class="hljs-property">audio</span> === <span class="hljs-string">&#x27;object&#x27;</span> 
        ? { ...defaults.<span class="hljs-property">audio</span>, ...custom.<span class="hljs-property">audio</span> }
        : custom.<span class="hljs-property">audio</span>;
    }
    
    <span class="hljs-keyword">return</span> result;
  }
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> cameraManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CameraManager</span>();

<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">initCamera</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">try</span> {
    <span class="hljs-comment">// Get available devices</span>
    <span class="hljs-keyword">const</span> devices = <span class="hljs-keyword">await</span> cameraManager.<span class="hljs-title function_">getDevices</span>();
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Available cameras:&#x27;</span>, devices.<span class="hljs-property">videoInputs</span>);
    
    <span class="hljs-comment">// Start camera</span>
    <span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> cameraManager.<span class="hljs-title function_">startCamera</span>({
      <span class="hljs-attr">video</span>: {
        <span class="hljs-attr">deviceId</span>: devices.<span class="hljs-property">videoInputs</span>[<span class="hljs-number">0</span>]?.<span class="hljs-property">deviceId</span>,
        <span class="hljs-attr">width</span>: { <span class="hljs-attr">ideal</span>: <span class="hljs-number">1280</span> },
        <span class="hljs-attr">height</span>: { <span class="hljs-attr">ideal</span>: <span class="hljs-number">720</span> }
      }
    });
    
    <span class="hljs-comment">// Display in video element</span>
    <span class="hljs-keyword">const</span> videoElement = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;camera-preview&#x27;</span>);
    videoElement.<span class="hljs-property">srcObject</span> = stream;
    
    <span class="hljs-comment">// Start recording</span>
    <span class="hljs-keyword">const</span> recordingPromise = <span class="hljs-keyword">await</span> cameraManager.<span class="hljs-title function_">startRecording</span>();
    
    <span class="hljs-comment">// Stop recording after 10 seconds</span>
    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-title function_">async</span> () =&gt; {
      cameraManager.<span class="hljs-title function_">stopRecording</span>();
      <span class="hljs-keyword">const</span> videoBlob = <span class="hljs-keyword">await</span> recordingPromise;
      
      <span class="hljs-comment">// Download the recorded video</span>
      <span class="hljs-keyword">const</span> url = <span class="hljs-variable constant_">URL</span>.<span class="hljs-title function_">createObjectURL</span>(videoBlob);
      <span class="hljs-keyword">const</span> a = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;a&#x27;</span>);
      a.<span class="hljs-property">href</span> = url;
      a.<span class="hljs-property">download</span> = <span class="hljs-string">&#x27;recorded-video.webm&#x27;</span>;
      a.<span class="hljs-title function_">click</span>();
    }, <span class="hljs-number">10000</span>);
    
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Camera initialization failed:&#x27;</span>, error);
  }
}
</code></pre></pre>
<h2 id="intersection-observer" node="[object Object]">Intersection Observer</h2>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IntersectionObserverManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">callback, options = {}</span>) {
    <span class="hljs-keyword">const</span> defaultOptions = {
      <span class="hljs-attr">root</span>: <span class="hljs-literal">null</span>, <span class="hljs-comment">// viewport</span>
      <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">&#x27;0px&#x27;</span>,
      <span class="hljs-attr">threshold</span>: <span class="hljs-number">0.1</span>
    };
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = { ...defaultOptions, ...options };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserver</span>(callback, <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observedElements</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
  }
  
  <span class="hljs-title function_">observe</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>(element);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observedElements</span>.<span class="hljs-title function_">add</span>(element);
  }
  
  <span class="hljs-title function_">unobserve</span>(<span class="hljs-params">element</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">unobserve</span>(element);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observedElements</span>.<span class="hljs-title function_">delete</span>(element);
  }
  
  <span class="hljs-title function_">disconnect</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">disconnect</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observedElements</span>.<span class="hljs-title function_">clear</span>();
  }
}

<span class="hljs-comment">// Lazy loading images</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">LazyImageLoader</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserverManager</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleIntersection</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>),
      {
        <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">&#x27;50px 0px&#x27;</span>, <span class="hljs-comment">// Load 50px before entering viewport</span>
        <span class="hljs-attr">threshold</span>: <span class="hljs-number">0</span>
      }
    );
  }
  
  <span class="hljs-title function_">handleIntersection</span>(<span class="hljs-params">entries</span>) {
    entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span>) {
        <span class="hljs-keyword">const</span> img = entry.<span class="hljs-property">target</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadImage</span>(img);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">unobserve</span>(img);
      }
    });
  }
  
  <span class="hljs-title function_">loadImage</span>(<span class="hljs-params">img</span>) {
    <span class="hljs-keyword">const</span> src = img.<span class="hljs-property">dataset</span>.<span class="hljs-property">src</span>;
    <span class="hljs-keyword">const</span> srcset = img.<span class="hljs-property">dataset</span>.<span class="hljs-property">srcset</span>;
    
    <span class="hljs-keyword">if</span> (src) {
      img.<span class="hljs-property">src</span> = src;
    }
    
    <span class="hljs-keyword">if</span> (srcset) {
      img.<span class="hljs-property">srcset</span> = srcset;
    }
    
    img.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;lazy&#x27;</span>);
    img.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;loaded&#x27;</span>);
    
    img.<span class="hljs-property">onload</span> = <span class="hljs-function">() =&gt;</span> {
      img.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;fade-in&#x27;</span>);
    };
  }
  
  <span class="hljs-title function_">observeImages</span>(<span class="hljs-params">selector = <span class="hljs-string">&#x27;img[data-src]&#x27;</span></span>) {
    <span class="hljs-keyword">const</span> images = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(selector);
    images.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">img</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>(img));
  }
}

<span class="hljs-comment">// Infinite scroll</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">InfiniteScroll</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">callback, options = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">callback</span> = callback;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">hasMore</span> = <span class="hljs-literal">true</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;div&#x27;</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span>.<span class="hljs-property">className</span> = <span class="hljs-string">&#x27;intersection-sentinel&#x27;</span>;
    
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">IntersectionObserverManager</span>(
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">handleIntersection</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>),
      {
        <span class="hljs-attr">rootMargin</span>: <span class="hljs-string">&#x27;100px 0px&#x27;</span>,
        <span class="hljs-attr">threshold</span>: <span class="hljs-number">0</span>
      }
    );
  }
  
  <span class="hljs-title function_">handleIntersection</span>(<span class="hljs-params">entries</span>) {
    entries.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">entry</span> =&gt;</span> {
      <span class="hljs-keyword">if</span> (entry.<span class="hljs-property">isIntersecting</span> &amp;&amp; !<span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">hasMore</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">true</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">callback</span>().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">hasMore</span>) =&gt;</span> {
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">loading</span> = <span class="hljs-literal">false</span>;
          <span class="hljs-variable language_">this</span>.<span class="hljs-property">hasMore</span> = hasMore;
          
          <span class="hljs-keyword">if</span> (!hasMore) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroy</span>();
          }
        });
      }
    });
  }
  
  <span class="hljs-title function_">init</span>(<span class="hljs-params">container</span>) {
    container.<span class="hljs-title function_">appendChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span>);
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">observe</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span>);
  }
  
  <span class="hljs-title function_">destroy</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">observer</span>.<span class="hljs-title function_">disconnect</span>();
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span>.<span class="hljs-property">parentNode</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span>.<span class="hljs-property">parentNode</span>.<span class="hljs-title function_">removeChild</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">sentinel</span>);
    }
  }
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> lazyLoader = <span class="hljs-keyword">new</span> <span class="hljs-title class_">LazyImageLoader</span>();
lazyLoader.<span class="hljs-title function_">observeImages</span>();

<span class="hljs-keyword">const</span> infiniteScroll = <span class="hljs-keyword">new</span> <span class="hljs-title class_">InfiniteScroll</span>(<span class="hljs-title function_">async</span> () =&gt; {
  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">`/api/items?page=<span class="hljs-subst">${currentPage++}</span>`</span>);
  <span class="hljs-keyword">const</span> items = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();
  
  <span class="hljs-title function_">appendItemsToDOM</span>(items);
  
  <span class="hljs-keyword">return</span> items.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>; <span class="hljs-comment">// Has more items</span>
});

infiniteScroll.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;items-container&#x27;</span>));
</code></pre></pre>
<h2 id="interview-questions" node="[object Object]">Interview Questions</h2>
<h3 id="1.-what-are-web-workers-and-when-would-you-use-them?" node="[object Object]">1. What are Web Workers and when would you use them?</h3>
<p><strong>Answer:</strong>
Web Workers are a way to run JavaScript in the background, separate from the main UI thread. They enable parallel processing without blocking the UI.</p>
<p><strong>Use cases:</strong></p>
<ul>
<li>Heavy computations (image processing, data analysis)</li>
<li>Background data sync</li>
<li>Real-time data processing</li>
<li>Cryptographic operations</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Non-blocking UI operations</li>
<li>True parallelism</li>
<li>Isolated execution context</li>
<li>Better performance for CPU-intensive tasks</li>
</ul>
<h3 id="2.-explain-the-difference-between-service-workers-and-web-workers." node="[object Object]">2. Explain the difference between Service Workers and Web Workers.</h3>
<p><strong>Answer:</strong></p>
<ul>
<li><strong>Web Workers</strong>: General-purpose background scripts for computations</li>
<li><strong>Service Workers</strong>: Specialized workers that act as a proxy between your app and the network</li>
</ul>
<p><strong>Service Worker features:</strong></p>
<ul>
<li>Intercept network requests</li>
<li>Cache management</li>
<li>Push notifications</li>
<li>Background sync</li>
<li>Offline functionality</li>
</ul>
<h3 id="3.-how-do-you-implement-offline-functionality-in-a-web-app?" node="[object Object]">3. How do you implement offline functionality in a web app?</h3>
<p><strong>Answer:</strong></p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// Service Worker for caching</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;fetch&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">request</span>.<span class="hljs-property">method</span> === <span class="hljs-string">&#x27;GET&#x27;</span>) {
    event.<span class="hljs-title function_">respondWith</span>(
      caches.<span class="hljs-title function_">match</span>(event.<span class="hljs-property">request</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> {
        <span class="hljs-keyword">return</span> response || <span class="hljs-title function_">fetch</span>(event.<span class="hljs-property">request</span>).<span class="hljs-title function_">catch</span>(<span class="hljs-function">() =&gt;</span> {
          <span class="hljs-comment">// Return offline fallback</span>
          <span class="hljs-keyword">return</span> caches.<span class="hljs-title function_">match</span>(<span class="hljs-string">&#x27;/offline.html&#x27;</span>);
        });
      })
    );
  }
});

<span class="hljs-comment">// Background sync for failed requests</span>
self.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;sync&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
  <span class="hljs-keyword">if</span> (event.<span class="hljs-property">tag</span> === <span class="hljs-string">&#x27;background-sync&#x27;</span>) {
    event.<span class="hljs-title function_">waitUntil</span>(<span class="hljs-title function_">syncPendingRequests</span>());
  }
});
</code></pre></pre>
<h3 id="4.-what-is-the-intersection-observer-api-and-its-benefits?" node="[object Object]">4. What is the Intersection Observer API and its benefits?</h3>
<p><strong>Answer:</strong>
Intersection Observer provides an efficient way to observe changes in the intersection of a target element with an ancestor element or viewport.</p>
<p><strong>Benefits:</strong></p>
<ul>
<li>Better performance than scroll events</li>
<li>Automatic cleanup</li>
<li>Configurable thresholds and margins</li>
<li>Passive observation</li>
</ul>
<p><strong>Use cases:</strong></p>
<ul>
<li>Lazy loading</li>
<li>Infinite scroll</li>
<li>Analytics tracking</li>
<li>Animation triggers</li>
</ul>
<h3 id="5.-how-do-you-handle-camera-and-media-access-in-web-applications?" node="[object Object]">5. How do you handle camera and media access in web applications?</h3>
<p><strong>Answer:</strong></p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// Request camera access</span>
<span class="hljs-keyword">const</span> stream = <span class="hljs-keyword">await</span> navigator.<span class="hljs-property">mediaDevices</span>.<span class="hljs-title function_">getUserMedia</span>({
  <span class="hljs-attr">video</span>: { <span class="hljs-attr">width</span>: <span class="hljs-number">1280</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">720</span> },
  <span class="hljs-attr">audio</span>: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// Handle permissions</span>
navigator.<span class="hljs-property">permissions</span>.<span class="hljs-title function_">query</span>({ <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;camera&#x27;</span> }).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> {
  <span class="hljs-keyword">if</span> (result.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;granted&#x27;</span>) {
    <span class="hljs-comment">// Access granted</span>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (result.<span class="hljs-property">state</span> === <span class="hljs-string">&#x27;prompt&#x27;</span>) {
    <span class="hljs-comment">// Will prompt user</span>
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Access denied</span>
  }
});
</code></pre></pre>
<p><strong>Security considerations:</strong></p>
<ul>
<li>HTTPS required</li>
<li>User permission required</li>
<li>Clear user indication when recording</li>
<li>Proper cleanup of resources</li>
</ul>
<p>This comprehensive guide covers the essential browser APIs and modern web platform features needed for advanced frontend development and interviews.</p></div></div></main><footer class="sc-kjwdDK hrfQfY"><div class="sc-eVqvcJ dwFHjZ"><div class="sc-bbbBoY kWATso"><div class="sc-cdmAjP fBmmqS"><div class="sc-jytpVa iNKxsb"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</div><p class="sc-eknHtZ fYhkiV">Comprehensive interview preparation for frontend engineers targeting Big Tech companies.</p><div class="sc-pYNGo eVAQiq"><a href="https://github.com" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://twitter.com" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter "><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a href="https://linkedin.com" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin "><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="mailto:contact@example.com" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail "><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a></div></div><div class="sc-cdmAjP fBmmqS"><h3>Study Materials</h3><ul><li><a href="/algorithms">Algorithms</a></li><li><a href="/react">React &amp; Frontend</a></li><li><a href="/system-design">System Design</a></li><li><a href="/typescript">TypeScript</a></li><li><a href="/performance">Performance</a></li></ul></div><div class="sc-cdmAjP fBmmqS"><h3>Companies</h3><ul><li><a href="/google">Google</a></li><li><a href="/meta">Meta</a></li><li><a href="/amazon">Amazon</a></li><li><a href="/microsoft">Microsoft</a></li><li><a href="/apple">Apple</a></li></ul></div><div class="sc-cdmAjP fBmmqS"><h3>Resources</h3><ul><li><a href="/interview-tips">Interview Tips</a></li><li><a href="/coding-challenges">Coding Challenges</a></li><li><a href="/mock-interviews">Mock Interviews</a></li><li><a href="/blog">Blog</a></li><li><a href="/faq">FAQ</a></li></ul></div></div><div class="sc-cCVJLD fgJmHp"><p class="sc-jYczwO gYGLHT">¬© 2025 Frontend Interview Prep. All rights reserved.</p><div class="sc-dNFkOE ghBULZ"><a href="/privacy">Privacy Policy</a><a href="/terms">Terms of Service</a><a href="/contact">Contact</a></div></div></div></footer></div><script src="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/interview/_next/static/css/387024c6a2216908.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n5:I[5907,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"930\",\"static/chunks/930-3262a6c9c5acace4.js\",\"687\",\"static/chunks/app/docs/%5B...slug%5D/page-32962e9542d32755.js\"],\"default\"]\n7:I[4707,[],\"\"]\n9:I[6423,[],\"\"]\na:I[2,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"710\",\"static/chunks/710-dfaa11b4dff08f8e.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"233\",\"static/chunks/233-3e0c1d820a17eca9.js\",\"185\",\"static/chunks/app/layout-333f4adcd11f8f39.js\"],\"default\",1]\nc:I[1060,[],\"\"]\n6:T7a9c,"])</script><script>self.__next_f.push([1,"# Browser APIs \u0026 Modern Web Platform\n\n## Table of Contents\n\n- [Web Workers](#web-workers)\n- [Service Workers](#service-workers)\n- [Progressive Web Apps (PWA)](#progressive-web-apps-pwa)\n- [Web Storage APIs](#web-storage-apis)\n- [Geolocation API](#geolocation-api)\n- [Camera \u0026 Media APIs](#camera--media-apis)\n- [Notification API](#notification-api)\n- [WebSockets \u0026 Real-time Communication](#websockets--real-time-communication)\n- [Intersection Observer](#intersection-observer)\n- [Resize Observer](#resize-observer)\n- [Mutation Observer](#mutation-observer)\n- [WebAssembly (WASM)](#webassembly-wasm)\n- [File System Access API](#file-system-access-api)\n- [Web Authentication API](#web-authentication-api)\n- [Performance APIs](#performance-apis)\n- [Interview Questions](#interview-questions)\n\n## Web Workers\n\nWeb Workers allow you to run JavaScript in the background, separate from the main UI thread.\n\n### Basic Web Worker\n\n```javascript\n// main.js\nconst worker = new Worker('worker.js');\n\n// Send data to worker\nworker.postMessage({ command: 'start', data: [1, 2, 3, 4, 5] });\n\n// Receive data from worker\nworker.onmessage = function(e) {\n  console.log('Result from worker:', e.data);\n};\n\n// Handle errors\nworker.onerror = function(error) {\n  console.error('Worker error:', error);\n};\n\n// Terminate worker when done\nworker.terminate();\n```\n\n```javascript\n// worker.js\nself.onmessage = function(e) {\n  const { command, data } = e.data;\n  \n  if (command === 'start') {\n    // Perform expensive computation\n    const result = performHeavyCalculation(data);\n    \n    // Send result back to main thread\n    self.postMessage(result);\n  }\n};\n\nfunction performHeavyCalculation(data) {\n  // Simulate expensive operation\n  let result = 0;\n  for (let i = 0; i \u003c 1000000; i++) {\n    result += data.reduce((sum, num) =\u003e sum + num, 0);\n  }\n  return result;\n}\n```\n\n### Advanced Web Worker with Shared Array Buffer\n\n{% raw %}\n```javascript\n// main.js\nclass WorkerPool {\n  constructor(workerScript, poolSize = 4) {\n    this.workers = [];\n    this.taskQueue = [];\n    this.activeTasks = new Map();\n    \n    for (let i = 0; i \u003c poolSize; i++) {\n      this.createWorker(workerScript, i);\n    }\n  }\n  \n  createWorker(script, id) {\n    const worker = new Worker(script);\n    worker.id = id;\n    worker.busy = false;\n    \n    worker.onmessage = (e) =\u003e {\n      const { taskId, result, error } = e.data;\n      const task = this.activeTasks.get(taskId);\n      \n      if (task) {\n        if (error) {\n          task.reject(new Error(error));\n        } else {\n          task.resolve(result);\n        }\n        this.activeTasks.delete(taskId);\n      }\n      \n      worker.busy = false;\n      this.processQueue();\n    };\n    \n    worker.onerror = (error) =\u003e {\n      console.error(`Worker ${id} error:`, error);\n    };\n    \n    this.workers.push(worker);\n  }\n  \n  execute(data) {\n    return new Promise((resolve, reject) =\u003e {\n      const taskId = Date.now() + Math.random();\n      const task = { taskId, data, resolve, reject };\n      \n      this.taskQueue.push(task);\n      this.processQueue();\n    });\n  }\n  \n  processQueue() {\n    if (this.taskQueue.length === 0) return;\n    \n    const availableWorker = this.workers.find(w =\u003e !w.busy);\n    if (!availableWorker) return;\n    \n    const task = this.taskQueue.shift();\n    availableWorker.busy = true;\n    this.activeTasks.set(task.taskId, task);\n    \n    availableWorker.postMessage({\n      taskId: task.taskId,\n      data: task.data\n    });\n  }\n  \n  terminate() {\n    this.workers.forEach(worker =\u003e worker.terminate());\n    this.workers = [];\n    this.activeTasks.clear();\n    this.taskQueue = [];\n  }\n}\n\n// Usage\nconst pool = new WorkerPool('calculation-worker.js', 4);\n\nasync function processLargeDataset(dataset) {\n  const chunks = chunkArray(dataset, 1000);\n  const promises = chunks.map(chunk =\u003e pool.execute(chunk));\n  \n  try {\n    const results = await Promise.all(promises);\n    return results.flat();\n  } catch (error) {\n    console.error('Processing failed:', error);\n    throw error;\n  }\n}\n```\n{% endraw %}\n\n## Service Workers\n\nService Workers act as a proxy between your web app and the network, enabling offline functionality and background sync.\n\n### Basic Service Worker\n\n```javascript\n// main.js\nif ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw.js')\n    .then(registration =\u003e {\n      console.log('SW registered:', registration);\n    })\n    .catch(error =\u003e {\n      console.log('SW registration failed:', error);\n    });\n}\n\n// Listen for SW updates\nnavigator.serviceWorker.addEventListener('controllerchange', () =\u003e {\n  window.location.reload();\n});\n```\n\n```javascript\n// sw.js\nconst CACHE_NAME = 'my-app-v1';\nconst urlsToCache = [\n  '/',\n  '/static/js/bundle.js',\n  '/static/css/main.css',\n  '/manifest.json'\n];\n\n// Install event - cache resources\nself.addEventListener('install', (event) =\u003e {\n  event.waitUntil(\n    caches.open(CACHE_NAME)\n      .then(cache =\u003e cache.addAll(urlsToCache))\n  );\n});\n\n// Activate event - clean up old caches\nself.addEventListener('activate', (event) =\u003e {\n  event.waitUntil(\n    caches.keys().then(cacheNames =\u003e {\n      return Promise.all(\n        cacheNames.map(cacheName =\u003e {\n          if (cacheName !== CACHE_NAME) {\n            return caches.delete(cacheName);\n          }\n        })\n      );\n    })\n  );\n});\n\n// Fetch event - serve from cache or network\nself.addEventListener('fetch', (event) =\u003e {\n  event.respondWith(\n    caches.match(event.request)\n      .then(response =\u003e {\n        // Return cached version or fetch from network\n        return response || fetch(event.request);\n      })\n  );\n});\n```\n\n### Advanced Service Worker with Strategies\n\n```javascript\n// sw.js\nclass CacheStrategy {\n  static cacheFirst(request, cacheName) {\n    return caches.open(cacheName).then(cache =\u003e {\n      return cache.match(request).then(cachedResponse =\u003e {\n        if (cachedResponse) {\n          return cachedResponse;\n        }\n        \n        return fetch(request).then(networkResponse =\u003e {\n          cache.put(request, networkResponse.clone());\n          return networkResponse;\n        });\n      });\n    });\n  }\n  \n  static networkFirst(request, cacheName, timeout = 3000) {\n    return new Promise((resolve, reject) =\u003e {\n      const timeoutId = setTimeout(() =\u003e {\n        // Fallback to cache if network is slow\n        caches.match(request).then(cachedResponse =\u003e {\n          if (cachedResponse) {\n            resolve(cachedResponse);\n          } else {\n            reject(new Error('Network timeout and no cache'));\n          }\n        });\n      }, timeout);\n      \n      fetch(request).then(networkResponse =\u003e {\n        clearTimeout(timeoutId);\n        \n        if (networkResponse.ok) {\n          caches.open(cacheName).then(cache =\u003e {\n            cache.put(request, networkResponse.clone());\n          });\n        }\n        \n        resolve(networkResponse);\n      }).catch(error =\u003e {\n        clearTimeout(timeoutId);\n        \n        caches.match(request).then(cachedResponse =\u003e {\n          if (cachedResponse) {\n            resolve(cachedResponse);\n          } else {\n            reject(error);\n          }\n        });\n      });\n    });\n  }\n  \n  static staleWhileRevalidate(request, cacheName) {\n    return caches.open(cacheName).then(cache =\u003e {\n      return cache.match(request).then(cachedResponse =\u003e {\n        const fetchPromise = fetch(request).then(networkResponse =\u003e {\n          cache.put(request, networkResponse.clone());\n          return networkResponse;\n        });\n        \n        return cachedResponse || fetchPromise;\n      });\n    });\n  }\n}\n\n// Background sync\nself.addEventListener('sync', (event) =\u003e {\n  if (event.tag === 'background-sync') {\n    event.waitUntil(syncData());\n  }\n});\n\nasync function syncData() {\n  try {\n    const pendingRequests = await getPendingRequests();\n    \n    for (const request of pendingRequests) {\n      await fetch(request.url, request.options);\n      await removePendingRequest(request.id);\n    }\n  } catch (error) {\n    console.error('Background sync failed:', error);\n  }\n}\n```\n\n## Progressive Web Apps (PWA)\n\n### Web App Manifest\n\n```json\n{\n  \"name\": \"My Progressive Web App\",\n  \"short_name\": \"MyPWA\",\n  \"description\": \"A sample progressive web application\",\n  \"start_url\": \"/\",\n  \"display\": \"standalone\",\n  \"background_color\": \"#ffffff\",\n  \"theme_color\": \"#000000\",\n  \"orientation\": \"portrait-primary\",\n  \"icons\": [\n    {\n      \"src\": \"/icons/icon-72x72.png\",\n      \"sizes\": \"72x72\",\n      \"type\": \"image/png\",\n      \"purpose\": \"maskable any\"\n    },\n    {\n      \"src\": \"/icons/icon-192x192.png\",\n      \"sizes\": \"192x192\",\n      \"type\": \"image/png\",\n      \"purpose\": \"maskable any\"\n    },\n    {\n      \"src\": \"/icons/icon-512x512.png\",\n      \"sizes\": \"512x512\",\n      \"type\": \"image/png\",\n      \"purpose\": \"maskable any\"\n    }\n  ],\n  \"categories\": [\"productivity\", \"utilities\"],\n  \"screenshots\": [\n    {\n      \"src\": \"/screenshots/desktop.png\",\n      \"sizes\": \"1920x1080\",\n      \"type\": \"image/png\",\n      \"form_factor\": \"wide\"\n    },\n    {\n      \"src\": \"/screenshots/mobile.png\",\n      \"sizes\": \"750x1334\",\n      \"type\": \"image/png\",\n      \"form_factor\": \"narrow\"\n    }\n  ]\n}\n```\n\n### PWA Installation\n\n```javascript\n// PWA install prompt\nlet deferredPrompt;\n\nwindow.addEventListener('beforeinstallprompt', (e) =\u003e {\n  // Prevent the mini-infobar from appearing\n  e.preventDefault();\n  \n  // Store the event so it can be triggered later\n  deferredPrompt = e;\n  \n  // Show custom install button\n  showInstallButton();\n});\n\nfunction showInstallButton() {\n  const installBtn = document.getElementById('install-btn');\n  installBtn.style.display = 'block';\n  \n  installBtn.addEventListener('click', async () =\u003e {\n    if (deferredPrompt) {\n      // Show the install prompt\n      deferredPrompt.prompt();\n      \n      // Wait for the user's response\n      const { outcome } = await deferredPrompt.userChoice;\n      \n      if (outcome === 'accepted') {\n        console.log('User accepted the install prompt');\n      } else {\n        console.log('User dismissed the install prompt');\n      }\n      \n      deferredPrompt = null;\n      installBtn.style.display = 'none';\n    }\n  });\n}\n\n// Listen for app installation\nwindow.addEventListener('appinstalled', (e) =\u003e {\n  console.log('PWA was installed');\n  hideInstallButton();\n});\n\n// Check if app is running in standalone mode\nfunction isStandalone() {\n  return window.matchMedia('(display-mode: standalone)').matches ||\n         window.navigator.standalone === true;\n}\n```\n\n## Web Storage APIs\n\n### IndexedDB\n\n```javascript\nclass IndexedDBManager {\n  constructor(dbName, version = 1) {\n    this.dbName = dbName;\n    this.version = version;\n    this.db = null;\n  }\n  \n  async open(stores = []) {\n    return new Promise((resolve, reject) =\u003e {\n      const request = indexedDB.open(this.dbName, this.version);\n      \n      request.onerror = () =\u003e reject(request.error);\n      request.onsuccess = () =\u003e {\n        this.db = request.result;\n        resolve(this.db);\n      };\n      \n      request.onupgradeneeded = (event) =\u003e {\n        const db = event.target.result;\n        \n        stores.forEach(store =\u003e {\n          if (!db.objectStoreNames.contains(store.name)) {\n            const objectStore = db.createObjectStore(store.name, {\n              keyPath: store.keyPath || 'id',\n              autoIncrement: store.autoIncrement || false\n            });\n            \n            // Create indexes\n            if (store.indexes) {\n              store.indexes.forEach(index =\u003e {\n                objectStore.createIndex(index.name, index.keyPath, {\n                  unique: index.unique || false\n                });\n              });\n            }\n          }\n        });\n      };\n    });\n  }\n  \n  async add(storeName, data) {\n    const transaction = this.db.transaction([storeName], 'readwrite');\n    const store = transaction.objectStore(storeName);\n    \n    return new Promise((resolve, reject) =\u003e {\n      const request = store.add(data);\n      request.onsuccess = () =\u003e resolve(request.result);\n      request.onerror = () =\u003e reject(request.error);\n    });\n  }\n  \n  async get(storeName, key) {\n    const transaction = this.db.transaction([storeName], 'readonly');\n    const store = transaction.objectStore(storeName);\n    \n    return new Promise((resolve, reject) =\u003e {\n      const request = store.get(key);\n      request.onsuccess = () =\u003e resolve(request.result);\n      request.onerror = () =\u003e reject(request.error);\n    });\n  }\n  \n  async getAll(storeName) {\n    const transaction = this.db.transaction([storeName], 'readonly');\n    const store = transaction.objectStore(storeName);\n    \n    return new Promise((resolve, reject) =\u003e {\n      const request = store.getAll();\n      request.onsuccess = () =\u003e resolve(request.result);\n      request.onerror = () =\u003e reject(request.error);\n    });\n  }\n  \n  async update(storeName, data) {\n    const transaction = this.db.transaction([storeName], 'readwrite');\n    const store = transaction.objectStore(storeName);\n    \n    return new Promise((resolve, reject) =\u003e {\n      const request = store.put(data);\n      request.onsuccess = () =\u003e resolve(request.result);\n      request.onerror = () =\u003e reject(request.error);\n    });\n  }\n  \n  async delete(storeName, key) {\n    const transaction = this.db.transaction([storeName], 'readwrite');\n    const store = transaction.objectStore(storeName);\n    \n    return new Promise((resolve, reject) =\u003e {\n      const request = store.delete(key);\n      request.onsuccess = () =\u003e resolve();\n      request.onerror = () =\u003e reject(request.error);\n    });\n  }\n  \n  async query(storeName, indexName, keyRange) {\n    const transaction = this.db.transaction([storeName], 'readonly');\n    const store = transaction.objectStore(storeName);\n    const index = store.index(indexName);\n    \n    return new Promise((resolve, reject) =\u003e {\n      const request = index.getAll(keyRange);\n      request.onsuccess = () =\u003e resolve(request.result);\n      request.onerror = () =\u003e reject(request.error);\n    });\n  }\n}\n\n// Usage\nconst dbManager = new IndexedDBManager('MyAppDB', 1);\n\nconst stores = [\n  {\n    name: 'users',\n    keyPath: 'id',\n    autoIncrement: true,\n    indexes: [\n      { name: 'email', keyPath: 'email', unique: true },\n      { name: 'name', keyPath: 'name', unique: false }\n    ]\n  },\n  {\n    name: 'posts',\n    keyPath: 'id',\n    autoIncrement: true,\n    indexes: [\n      { name: 'userId', keyPath: 'userId', unique: false },\n      { name: 'createdAt', keyPath: 'createdAt', unique: false }\n    ]\n  }\n];\n\nasync function initDB() {\n  await dbManager.open(stores);\n  \n  // Add user\n  await dbManager.add('users', {\n    name: 'John Doe',\n    email: 'john@example.com',\n    age: 30\n  });\n  \n  // Get user\n  const user = await dbManager.get('users', 1);\n  console.log('User:', user);\n  \n  // Query by email\n  const usersByEmail = await dbManager.query(\n    'users', \n    'email', \n    IDBKeyRange.only('john@example.com')\n  );\n  console.log('Users by email:', usersByEmail);\n}\n```\n\n### Cache API\n\n```javascript\nclass CacheManager {\n  constructor(cacheName) {\n    this.cacheName = cacheName;\n  }\n  \n  async add(request, response) {\n    const cache = await caches.open(this.cacheName);\n    return cache.put(request, response);\n  }\n  \n  async get(request) {\n    const cache = await caches.open(this.cacheName);\n    return cache.match(request);\n  }\n  \n  async delete(request) {\n    const cache = await caches.open(this.cacheName);\n    return cache.delete(request);\n  }\n  \n  async clear() {\n    return caches.delete(this.cacheName);\n  }\n  \n  async addAll(requests) {\n    const cache = await caches.open(this.cacheName);\n    return cache.addAll(requests);\n  }\n  \n  async keys() {\n    const cache = await caches.open(this.cacheName);\n    return cache.keys();\n  }\n}\n\n// Advanced caching with expiration\nclass ExpiringCache extends CacheManager {\n  constructor(cacheName, defaultTTL = 3600000) { // 1 hour default\n    super(cacheName);\n    this.defaultTTL = defaultTTL;\n  }\n  \n  async add(request, response, ttl = this.defaultTTL) {\n    const cache = await caches.open(this.cacheName);\n    const expirationTime = Date.now() + ttl;\n    \n    // Clone response to add expiration header\n    const responseToCache = new Response(response.body, {\n      status: response.status,\n      statusText: response.statusText,\n      headers: {\n        ...Object.fromEntries(response.headers.entries()),\n        'cache-expiration': expirationTime.toString()\n      }\n    });\n    \n    return cache.put(request, responseToCache);\n  }\n  \n  async get(request) {\n    const cache = await caches.open(this.cacheName);\n    const response = await cache.match(request);\n    \n    if (!response) return null;\n    \n    const expirationTime = response.headers.get('cache-expiration');\n    if (expirationTime \u0026\u0026 Date.now() \u003e parseInt(expirationTime)) {\n      // Cache expired, remove it\n      await cache.delete(request);\n      return null;\n    }\n    \n    return response;\n  }\n  \n  async cleanup() {\n    const cache = await caches.open(this.cacheName);\n    const requests = await cache.keys();\n    \n    for (const request of requests) {\n      const response = await cache.match(request);\n      const expirationTime = response.headers.get('cache-expiration');\n      \n      if (expirationTime \u0026\u0026 Date.now() \u003e parseInt(expirationTime)) {\n        await cache.delete(request);\n      }\n    }\n  }\n}\n```\n\n## Geolocation API\n\n```javascript\nclass GeolocationManager {\n  constructor() {\n    this.watchId = null;\n    this.currentPosition = null;\n  }\n  \n  async getCurrentPosition(options = {}) {\n    const defaultOptions = {\n      enableHighAccuracy: true,\n      timeout: 10000,\n      maximumAge: 300000 // 5 minutes\n    };\n    \n    const finalOptions = { ...defaultOptions, ...options };\n    \n    return new Promise((resolve, reject) =\u003e {\n      if (!navigator.geolocation) {\n        reject(new Error('Geolocation is not supported'));\n        return;\n      }\n      \n      navigator.geolocation.getCurrentPosition(\n        (position) =\u003e {\n          this.currentPosition = position;\n          resolve(position);\n        },\n        (error) =\u003e {\n          reject(this.formatError(error));\n        },\n        finalOptions\n      );\n    });\n  }\n  \n  startWatching(callback, errorCallback, options = {}) {\n    if (!navigator.geolocation) {\n      errorCallback(new Error('Geolocation is not supported'));\n      return;\n    }\n    \n    const defaultOptions = {\n      enableHighAccuracy: true,\n      timeout: 30000,\n      maximumAge: 60000 // 1 minute\n    };\n    \n    const finalOptions = { ...defaultOptions, ...options };\n    \n    this.watchId = navigator.geolocation.watchPosition(\n      (position) =\u003e {\n        this.currentPosition = position;\n        callback(position);\n      },\n      (error) =\u003e {\n        errorCallback(this.formatError(error));\n      },\n      finalOptions\n    );\n    \n    return this.watchId;\n  }\n  \n  stopWatching() {\n    if (this.watchId !== null) {\n      navigator.geolocation.clearWatch(this.watchId);\n      this.watchId = null;\n    }\n  }\n  \n  formatError(error) {\n    const errorMessages = {\n      1: 'Permission denied by user',\n      2: 'Position unavailable',\n      3: 'Request timeout'\n    };\n    \n    return new Error(errorMessages[error.code] || 'Unknown geolocation error');\n  }\n  \n  calculateDistance(lat1, lon1, lat2, lon2) {\n    const R = 6371; // Earth's radius in kilometers\n    const dLat = this.toRadians(lat2 - lat1);\n    const dLon = this.toRadians(lon2 - lon1);\n    \n    const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\n              Math.cos(this.toRadians(lat1)) * Math.cos(this.toRadians(lat2)) *\n              Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    return R * c; // Distance in kilometers\n  }\n  \n  toRadians(degrees) {\n    return degrees * (Math.PI / 180);\n  }\n}\n\n// Usage\nconst geoManager = new GeolocationManager();\n\nasync function trackUserLocation() {\n  try {\n    // Get current position\n    const position = await geoManager.getCurrentPosition({\n      enableHighAccuracy: true,\n      timeout: 15000\n    });\n    \n    console.log('Current position:', {\n      latitude: position.coords.latitude,\n      longitude: position.coords.longitude,\n      accuracy: position.coords.accuracy\n    });\n    \n    // Start watching for position changes\n    geoManager.startWatching(\n      (position) =\u003e {\n        console.log('Position updated:', position.coords);\n        updateMapLocation(position.coords);\n      },\n      (error) =\u003e {\n        console.error('Geolocation error:', error.message);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 30000,\n        maximumAge: 60000\n      }\n    );\n    \n  } catch (error) {\n    console.error('Failed to get location:', error.message);\n  }\n}\n```\n\n## Camera \u0026 Media APIs\n\n### getUserMedia for Camera Access\n\n```javascript\nclass CameraManager {\n  constructor() {\n    this.stream = null;\n    this.mediaRecorder = null;\n    this.recordedChunks = [];\n  }\n  \n  async getDevices() {\n    try {\n      const devices = await navigator.mediaDevices.enumerateDevices();\n      return {\n        videoInputs: devices.filter(device =\u003e device.kind === 'videoinput'),\n        audioInputs: devices.filter(device =\u003e device.kind === 'audioinput')\n      };\n    } catch (error) {\n      throw new Error(`Failed to enumerate devices: ${error.message}`);\n    }\n  }\n  \n  async startCamera(constraints = {}) {\n    const defaultConstraints = {\n      video: {\n        width: { ideal: 1920 },\n        height: { ideal: 1080 },\n        frameRate: { ideal: 30 }\n      },\n      audio: true\n    };\n    \n    const finalConstraints = this.mergeConstraints(defaultConstraints, constraints);\n    \n    try {\n      this.stream = await navigator.mediaDevices.getUserMedia(finalConstraints);\n      return this.stream;\n    } catch (error) {\n      throw new Error(`Failed to access camera: ${error.message}`);\n    }\n  }\n  \n  async startScreenCapture(constraints = {}) {\n    const defaultConstraints = {\n      video: {\n        mediaSource: 'screen'\n      },\n      audio: true\n    };\n    \n    const finalConstraints = this.mergeConstraints(defaultConstraints, constraints);\n    \n    try {\n      this.stream = await navigator.mediaDevices.getDisplayMedia(finalConstraints);\n      return this.stream;\n    } catch (error) {\n      throw new Error(`Failed to capture screen: ${error.message}`);\n    }\n  }\n  \n  stopStream() {\n    if (this.stream) {\n      this.stream.getTracks().forEach(track =\u003e track.stop());\n      this.stream = null;\n    }\n  }\n  \n  async startRecording(options = {}) {\n    if (!this.stream) {\n      throw new Error('No active stream to record');\n    }\n    \n    const defaultOptions = {\n      mimeType: 'video/webm; codecs=vp9',\n      videoBitsPerSecond: 2500000\n    };\n    \n    const finalOptions = { ...defaultOptions, ...options };\n    \n    this.recordedChunks = [];\n    this.mediaRecorder = new MediaRecorder(this.stream, finalOptions);\n    \n    this.mediaRecorder.ondataavailable = (event) =\u003e {\n      if (event.data.size \u003e 0) {\n        this.recordedChunks.push(event.data);\n      }\n    };\n    \n    this.mediaRecorder.start();\n    \n    return new Promise((resolve) =\u003e {\n      this.mediaRecorder.onstop = () =\u003e {\n        const blob = new Blob(this.recordedChunks, { type: 'video/webm' });\n        resolve(blob);\n      };\n    });\n  }\n  \n  stopRecording() {\n    if (this.mediaRecorder \u0026\u0026 this.mediaRecorder.state !== 'inactive') {\n      this.mediaRecorder.stop();\n    }\n  }\n  \n  capturePhoto(videoElement) {\n    const canvas = document.createElement('canvas');\n    const context = canvas.getContext('2d');\n    \n    canvas.width = videoElement.videoWidth;\n    canvas.height = videoElement.videoHeight;\n    \n    context.drawImage(videoElement, 0, 0);\n    \n    return new Promise((resolve) =\u003e {\n      canvas.toBlob((blob) =\u003e {\n        resolve(blob);\n      }, 'image/jpeg', 0.9);\n    });\n  }\n  \n  mergeConstraints(defaults, custom) {\n    const result = { ...defaults };\n    \n    if (custom.video) {\n      result.video = { ...defaults.video, ...custom.video };\n    }\n    \n    if (custom.audio) {\n      result.audio = typeof custom.audio === 'object' \n        ? { ...defaults.audio, ...custom.audio }\n        : custom.audio;\n    }\n    \n    return result;\n  }\n}\n\n// Usage\nconst cameraManager = new CameraManager();\n\nasync function initCamera() {\n  try {\n    // Get available devices\n    const devices = await cameraManager.getDevices();\n    console.log('Available cameras:', devices.videoInputs);\n    \n    // Start camera\n    const stream = await cameraManager.startCamera({\n      video: {\n        deviceId: devices.videoInputs[0]?.deviceId,\n        width: { ideal: 1280 },\n        height: { ideal: 720 }\n      }\n    });\n    \n    // Display in video element\n    const videoElement = document.getElementById('camera-preview');\n    videoElement.srcObject = stream;\n    \n    // Start recording\n    const recordingPromise = await cameraManager.startRecording();\n    \n    // Stop recording after 10 seconds\n    setTimeout(async () =\u003e {\n      cameraManager.stopRecording();\n      const videoBlob = await recordingPromise;\n      \n      // Download the recorded video\n      const url = URL.createObjectURL(videoBlob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = 'recorded-video.webm';\n      a.click();\n    }, 10000);\n    \n  } catch (error) {\n    console.error('Camera initialization failed:', error);\n  }\n}\n```\n\n## Intersection Observer\n\n```javascript\nclass IntersectionObserverManager {\n  constructor(callback, options = {}) {\n    const defaultOptions = {\n      root: null, // viewport\n      rootMargin: '0px',\n      threshold: 0.1\n    };\n    \n    this.options = { ...defaultOptions, ...options };\n    this.observer = new IntersectionObserver(callback, this.options);\n    this.observedElements = new Set();\n  }\n  \n  observe(element) {\n    this.observer.observe(element);\n    this.observedElements.add(element);\n  }\n  \n  unobserve(element) {\n    this.observer.unobserve(element);\n    this.observedElements.delete(element);\n  }\n  \n  disconnect() {\n    this.observer.disconnect();\n    this.observedElements.clear();\n  }\n}\n\n// Lazy loading images\nclass LazyImageLoader {\n  constructor() {\n    this.observer = new IntersectionObserverManager(\n      this.handleIntersection.bind(this),\n      {\n        rootMargin: '50px 0px', // Load 50px before entering viewport\n        threshold: 0\n      }\n    );\n  }\n  \n  handleIntersection(entries) {\n    entries.forEach(entry =\u003e {\n      if (entry.isIntersecting) {\n        const img = entry.target;\n        this.loadImage(img);\n        this.observer.unobserve(img);\n      }\n    });\n  }\n  \n  loadImage(img) {\n    const src = img.dataset.src;\n    const srcset = img.dataset.srcset;\n    \n    if (src) {\n      img.src = src;\n    }\n    \n    if (srcset) {\n      img.srcset = srcset;\n    }\n    \n    img.classList.remove('lazy');\n    img.classList.add('loaded');\n    \n    img.onload = () =\u003e {\n      img.classList.add('fade-in');\n    };\n  }\n  \n  observeImages(selector = 'img[data-src]') {\n    const images = document.querySelectorAll(selector);\n    images.forEach(img =\u003e this.observer.observe(img));\n  }\n}\n\n// Infinite scroll\nclass InfiniteScroll {\n  constructor(callback, options = {}) {\n    this.callback = callback;\n    this.loading = false;\n    this.hasMore = true;\n    \n    this.sentinel = document.createElement('div');\n    this.sentinel.className = 'intersection-sentinel';\n    \n    this.observer = new IntersectionObserverManager(\n      this.handleIntersection.bind(this),\n      {\n        rootMargin: '100px 0px',\n        threshold: 0\n      }\n    );\n  }\n  \n  handleIntersection(entries) {\n    entries.forEach(entry =\u003e {\n      if (entry.isIntersecting \u0026\u0026 !this.loading \u0026\u0026 this.hasMore) {\n        this.loading = true;\n        this.callback().then((hasMore) =\u003e {\n          this.loading = false;\n          this.hasMore = hasMore;\n          \n          if (!hasMore) {\n            this.destroy();\n          }\n        });\n      }\n    });\n  }\n  \n  init(container) {\n    container.appendChild(this.sentinel);\n    this.observer.observe(this.sentinel);\n  }\n  \n  destroy() {\n    this.observer.disconnect();\n    if (this.sentinel.parentNode) {\n      this.sentinel.parentNode.removeChild(this.sentinel);\n    }\n  }\n}\n\n// Usage\nconst lazyLoader = new LazyImageLoader();\nlazyLoader.observeImages();\n\nconst infiniteScroll = new InfiniteScroll(async () =\u003e {\n  const response = await fetch(`/api/items?page=${currentPage++}`);\n  const items = await response.json();\n  \n  appendItemsToDOM(items);\n  \n  return items.length \u003e 0; // Has more items\n});\n\ninfiniteScroll.init(document.getElementById('items-container'));\n```\n\n## Interview Questions\n\n### 1. What are Web Workers and when would you use them?\n\n**Answer:**\nWeb Workers are a way to run JavaScript in the background, separate from the main UI thread. They enable parallel processing without blocking the UI.\n\n**Use cases:**\n- Heavy computations (image processing, data analysis)\n- Background data sync\n- Real-time data processing\n- Cryptographic operations\n\n**Benefits:**\n- Non-blocking UI operations\n- True parallelism\n- Isolated execution context\n- Better performance for CPU-intensive tasks\n\n### 2. Explain the difference between Service Workers and Web Workers.\n\n**Answer:**\n- **Web Workers**: General-purpose background scripts for computations\n- **Service Workers**: Specialized workers that act as a proxy between your app and the network\n\n**Service Worker features:**\n- Intercept network requests\n- Cache management\n- Push notifications\n- Background sync\n- Offline functionality\n\n### 3. How do you implement offline functionality in a web app?\n\n**Answer:**\n```javascript\n// Service Worker for caching\nself.addEventListener('fetch', (event) =\u003e {\n  if (event.request.method === 'GET') {\n    event.respondWith(\n      caches.match(event.request).then(response =\u003e {\n        return response || fetch(event.request).catch(() =\u003e {\n          // Return offline fallback\n          return caches.match('/offline.html');\n        });\n      })\n    );\n  }\n});\n\n// Background sync for failed requests\nself.addEventListener('sync', (event) =\u003e {\n  if (event.tag === 'background-sync') {\n    event.waitUntil(syncPendingRequests());\n  }\n});\n```\n\n### 4. What is the Intersection Observer API and its benefits?\n\n**Answer:**\nIntersection Observer provides an efficient way to observe changes in the intersection of a target element with an ancestor element or viewport.\n\n**Benefits:**\n- Better performance than scroll events\n- Automatic cleanup\n- Configurable thresholds and margins\n- Passive observation\n\n**Use cases:**\n- Lazy loading\n- Infinite scroll\n- Analytics tracking\n- Animation triggers\n\n### 5. How do you handle camera and media access in web applications?\n\n**Answer:**\n```javascript\n// Request camera access\nconst stream = await navigator.mediaDevices.getUserMedia({\n  video: { width: 1280, height: 720 },\n  audio: true\n});\n\n// Handle permissions\nnavigator.permissions.query({ name: 'camera' }).then(result =\u003e {\n  if (result.state === 'granted') {\n    // Access granted\n  } else if (result.state === 'prompt') {\n    // Will prompt user\n  } else {\n    // Access denied\n  }\n});\n```\n\n**Security considerations:**\n- HTTPS required\n- User permission required\n- Clear user indication when recording\n- Proper cleanup of resources\n\nThis comprehensive guide covers the essential browser APIs and modern web platform features needed for advanced frontend development and interviews.\n"])</script><script>self.__next_f.push([1,"8:[\"slug\",\"frontend/browser-apis/README\",\"c\"]\nd:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"fejmt13PAtxRD63R9Wq_i\",\"assetPrefix\":\"/interview\",\"urlParts\":[\"\",\"docs\",\"frontend\",\"browser-apis\",\"README\"],\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"frontend/browser-apis/README\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"frontend\\\",\\\"browser-apis\\\",\\\"README\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[[\"slug\",\"frontend/browser-apis/README\",\"c\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"style\":{\"maxWidth\":\"1200px\",\"margin\":\"0 auto\",\"padding\":\"2rem\",\"paddingTop\":\"6rem\"},\"children\":[[\"$\",\"div\",null,{\"style\":{\"marginBottom\":\"2rem\"},\"children\":[[\"$\",\"nav\",null,{\"style\":{\"color\":\"#64748b\",\"fontSize\":\"0.9rem\",\"marginBottom\":\"1rem\"},\"children\":[[\"$\",\"a\",null,{\"href\":\"/interview\",\"style\":{\"color\":\"#3b82f6\",\"textDecoration\":\"none\"},\"children\":\"Home\"}],\" \u003e \",[\"$\",\"span\",null,{\"children\":\"frontend \u003e browser-apis \u003e README\"}]]}],[\"$\",\"h1\",null,{\"style\":{\"fontSize\":\"2.5rem\",\"fontWeight\":\"800\",\"marginBottom\":\"0.5rem\",\"color\":\"#1e293b\"},\"children\":\"README\"}],[\"$\",\"div\",null,{\"style\":{\"color\":\"#64748b\",\"fontSize\":\"0.9rem\",\"marginBottom\":\"2rem\"},\"children\":[[\"$\",\"span\",null,{\"children\":[\"üìÅ \",\"frontend/browser-apis/README.md\"]}],\"$undefined\",\"$undefined\"]}]]}],[\"$\",\"$L5\",null,{\"content\":\"$6\"}]]}],null],null],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/interview/_next/static/css/387024c6a2216908.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$La\",null,{\"children\":[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],\"params\":{}}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lb\"],\"globalErrorComponent\":\"$c\",\"missingSlots\":\"$Wd\"}]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"README - Frontend Interview Docs\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"# Browser APIs \u0026 Modern Web Platform  ## Table of Contents  - [Web Workers](#web-workers) - [Service Workers](#service-workers) - [Progressive Web Apps (PWA)](#\"}],[\"$\",\"meta\",\"4\",{\"property\":\"og:title\",\"content\":\"README - Frontend Interview Docs\"}],[\"$\",\"meta\",\"5\",{\"property\":\"og:description\",\"content\":\"# Browser APIs \u0026 Modern Web Platform  ## Table of Contents  - [Web Workers](#web-workers) - [Service Workers](#service-workers) - [Progressive Web Apps (PWA)](#\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"7\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"8\",{\"name\":\"twitter:title\",\"content\":\"README - Frontend Interview Docs\"}],[\"$\",\"meta\",\"9\",{\"name\":\"twitter:description\",\"content\":\"# Browser APIs \u0026 Modern Web Platform  ## Table of Contents  - [Web Workers](#web-workers) - [Service Workers](#service-workers) - [Progressive Web Apps (PWA)](#\"}],[\"$\",\"meta\",\"10\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>