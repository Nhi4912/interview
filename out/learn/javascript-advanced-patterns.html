<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/interview/_next/static/css/387024c6a2216908.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js"/><script src="/interview/_next/static/chunks/fd9d1056-6922f449a204c2cc.js" async=""></script><script src="/interview/_next/static/chunks/117-e7ecc085ce9cfab3.js" async=""></script><script src="/interview/_next/static/chunks/main-app-b06be5f3411c20c3.js" async=""></script><script src="/interview/_next/static/chunks/918-3273b83890f10546.js" async=""></script><script src="/interview/_next/static/chunks/972-011bba60ed155615.js" async=""></script><script src="/interview/_next/static/chunks/930-3262a6c9c5acace4.js" async=""></script><script src="/interview/_next/static/chunks/app/learn/%5Btopic%5D/page-4ab144227f7a7b3e.js" async=""></script><script src="/interview/_next/static/chunks/710-dfaa11b4dff08f8e.js" async=""></script><script src="/interview/_next/static/chunks/233-3e0c1d820a17eca9.js" async=""></script><script src="/interview/_next/static/chunks/app/layout-333f4adcd11f8f39.js" async=""></script><title>Frontend Interview Prep 2025 - Big Tech Interview Guide</title><meta name="description" content="Comprehensive frontend interview preparation for Big Tech companies including React, TypeScript, algorithms, and system design."/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#1a1a1a"/><meta property="og:title" content="Frontend Interview Prep 2025"/><meta property="og:description" content="Complete guide for frontend engineers targeting Big Tech companies"/><meta property="og:type" content="website"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><meta name="next-size-adjust"/><script src="/interview/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-styled="" data-styled-version="6.1.19">*{margin:0;padding:0;box-sizing:border-box;}/*!sc*/
html{font-size:16px;line-height:1.5;scroll-behavior:smooth;}/*!sc*/
body{font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;font-size:1rem;line-height:1.5;color:#1e293b;background-color:#ffffff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.25;margin-bottom:0.5em;}/*!sc*/
h1{font-size:3rem;}/*!sc*/
@media (max-width: 768px){h1{font-size:2.25rem;}}/*!sc*/
h2{font-size:2.25rem;}/*!sc*/
@media (max-width: 768px){h2{font-size:1.875rem;}}/*!sc*/
h3{font-size:1.875rem;}/*!sc*/
@media (max-width: 768px){h3{font-size:1.5rem;}}/*!sc*/
h4{font-size:1.5rem;}/*!sc*/
@media (max-width: 768px){h4{font-size:1.25rem;}}/*!sc*/
h5{font-size:1.25rem;}/*!sc*/
h6{font-size:1.125rem;}/*!sc*/
p{margin-bottom:1rem;line-height:1.75;}/*!sc*/
a{color:#3b82f6;text-decoration:none;transition:color 0.15s ease;}/*!sc*/
a:hover{color:#2563eb;}/*!sc*/
a:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
button{cursor:pointer;border:none;background:none;font-family:inherit;font-size:inherit;}/*!sc*/
button:disabled{cursor:not-allowed;opacity:0.6;}/*!sc*/
button:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
input,textarea,select{font-family:inherit;font-size:inherit;}/*!sc*/
input:focus,textarea:focus,select:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
img{max-width:100%;height:auto;}/*!sc*/
ul,ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
li{margin-bottom:0.25rem;}/*!sc*/
blockquote{margin:1rem 0;padding:1rem;border-left:4px solid #3b82f6;background-color:#f1f5f9;font-style:italic;}/*!sc*/
code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;background-color:#f1f5f9;padding:0.2em 0.4em;border-radius:0.25rem;}/*!sc*/
pre{background-color:#f1f5f9;padding:1rem;border-radius:0.5rem;overflow-x:auto;margin-bottom:1rem;}/*!sc*/
pre code{background:none;padding:0;}/*!sc*/
table{width:100%;border-collapse:collapse;margin-bottom:1rem;}/*!sc*/
th,td{padding:0.75rem;text-align:left;border-bottom:1px solid #e2e8f0;}/*!sc*/
th{font-weight:600;background-color:#f1f5f9;}/*!sc*/
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0;}/*!sc*/
.skip-link{position:absolute;top:-40px;left:6px;background:#3b82f6;color:white;padding:8px;text-decoration:none;border-radius:4px;z-index:100;}/*!sc*/
.skip-link:focus{top:6px;}/*!sc*/
::-webkit-scrollbar{width:8px;height:8px;}/*!sc*/
::-webkit-scrollbar-track{background:#f1f5f9;}/*!sc*/
::-webkit-scrollbar-thumb{background:#94a3b8;border-radius:4px;}/*!sc*/
::-webkit-scrollbar-thumb:hover{background:#64748b;}/*!sc*/
::selection{background:#3b82f6;color:white;}/*!sc*/
.focus-visible{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
.fade-in{opacity:0;animation:fadeIn 0.3s ease forwards;}/*!sc*/
.slide-up{transform:translateY(20px);opacity:0;animation:slideUp 0.3s ease forwards;}/*!sc*/
@keyframes fadeIn{to{opacity:1;}}/*!sc*/
@keyframes slideUp{to{transform:translateY(0);opacity:1;}}/*!sc*/
@media print{*{background:white!important;color:black!important;box-shadow:none!important;text-shadow:none!important;}a,a:visited{text-decoration:underline;}h1,h2,h3,h4,h5,h6{break-after:avoid;}pre,blockquote{border:1px solid #999;break-inside:avoid;}img{max-width:100%!important;}@page{margin:0.5in;}}/*!sc*/
data-styled.g1[id="sc-global-kxA-Ddz1"]{content:"sc-global-kxA-Ddz1,"}/*!sc*/
.wbMrm{position:fixed;top:0;width:100%;z-index:1020;background:transparent;backdrop-filter:blur(10px);border-bottom:1px solid transparent;transition:all 0.3s ease;}/*!sc*/
data-styled.g2[id="sc-bRKDuR"]{content:"wbMrm,"}/*!sc*/
.kDxBNU{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:70px;}/*!sc*/
data-styled.g3[id="sc-hvigdm"]{content:"kDxBNU,"}/*!sc*/
.cvsJZg{display:flex;align-items:center;gap:0.5rem;font-size:1.5rem;font-weight:700;color:#3b82f6;text-decoration:none;cursor:pointer;}/*!sc*/
.cvsJZg:hover{color:#2563eb;}/*!sc*/
data-styled.g4[id="sc-fhHczv"]{content:"cvsJZg,"}/*!sc*/
.lfYVIv{display:flex;align-items:center;gap:2rem;}/*!sc*/
@media (max-width: 768px){.lfYVIv{display:none;}}/*!sc*/
data-styled.g5[id="sc-ggWZvA"]{content:"lfYVIv,"}/*!sc*/
.bhKRhV{color:#1e293b;font-weight:500;text-decoration:none;transition:color 0.15s ease;position:relative;}/*!sc*/
.bhKRhV:hover{color:#3b82f6;}/*!sc*/
.bhKRhV:after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:#3b82f6;transition:width 0.15s ease;}/*!sc*/
.bhKRhV:hover:after{width:100%;}/*!sc*/
data-styled.g6[id="sc-dTvVRJ"]{content:"bhKRhV,"}/*!sc*/
.gpUImn{display:none;background:none;border:none;color:#1e293b;cursor:pointer;padding:0.5rem;}/*!sc*/
@media (max-width: 768px){.gpUImn{display:block;}}/*!sc*/
data-styled.g7[id="sc-jwTyAe"]{content:"gpUImn,"}/*!sc*/
.hpKWkw{display:flex;align-items:center;gap:0.5rem;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:0.5rem;padding:0.5rem 1rem;color:#64748b;font-size:0.9rem;transition:all 0.15s ease;}/*!sc*/
.hpKWkw:hover{background:#ffffff;border-color:#3b82f6;}/*!sc*/
data-styled.g11[id="sc-kNOymR"]{content:"hpKWkw,"}/*!sc*/
.cJzheU{background:#1e293b;color:white;padding:3rem 0 1rem;margin-top:auto;}/*!sc*/
data-styled.g12[id="sc-dYwGCk"]{content:"cJzheU,"}/*!sc*/
.hJUFeT{max-width:1200px;margin:0 auto;padding:0 2rem;}/*!sc*/
data-styled.g13[id="sc-lgpSej"]{content:"hJUFeT,"}/*!sc*/
.mSxwd{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:2rem;margin-bottom:2rem;}/*!sc*/
@media (max-width: 768px){.mSxwd{grid-template-columns:1fr 1fr;gap:1.5rem;}}/*!sc*/
@media (max-width: 480px){.mSxwd{grid-template-columns:1fr;}}/*!sc*/
data-styled.g14[id="sc-eqYatC"]{content:"mSxwd,"}/*!sc*/
.cmBIup h3{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:white;}/*!sc*/
.cmBIup ul{list-style:none;padding:0;margin:0;}/*!sc*/
.cmBIup li{margin-bottom:0.5rem;}/*!sc*/
.cmBIup a{color:rgba(255, 255, 255, 0.7);text-decoration:none;transition:color 0.15s ease;}/*!sc*/
.cmBIup a:hover{color:white;}/*!sc*/
data-styled.g15[id="sc-kcLKEh"]{content:"cmBIup,"}/*!sc*/
.bAsNIP{display:flex;align-items:center;gap:0.5rem;font-size:1.2rem;font-weight:700;margin-bottom:1rem;color:white;}/*!sc*/
data-styled.g16[id="sc-dntSTA"]{content:"bAsNIP,"}/*!sc*/
.gWXMDV{color:rgba(255, 255, 255, 0.7);line-height:1.6;margin-bottom:1rem;}/*!sc*/
data-styled.g17[id="sc-kvnevz"]{content:"gWXMDV,"}/*!sc*/
.jCoOHQ{display:flex;gap:1rem;}/*!sc*/
.jCoOHQ a{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:rgba(255, 255, 255, 0.7);transition:all 0.15s ease;}/*!sc*/
.jCoOHQ a:hover{background:rgba(255, 255, 255, 0.2);color:white;}/*!sc*/
data-styled.g18[id="sc-dFVmKS"]{content:"jCoOHQ,"}/*!sc*/
.crUaYh{border-top:1px solid rgba(255, 255, 255, 0.1);padding-top:2rem;display:flex;justify-content:space-between;align-items:center;}/*!sc*/
@media (max-width: 768px){.crUaYh{flex-direction:column;gap:1rem;text-align:center;}}/*!sc*/
data-styled.g19[id="sc-kCuUfV"]{content:"crUaYh,"}/*!sc*/
.esMlQF{color:rgba(255, 255, 255, 0.7);margin:0;font-size:0.9rem;}/*!sc*/
data-styled.g20[id="sc-dNdcvo"]{content:"esMlQF,"}/*!sc*/
.eHcrXx{display:flex;gap:2rem;}/*!sc*/
@media (max-width: 480px){.eHcrXx{flex-direction:column;gap:1rem;}}/*!sc*/
.eHcrXx a{color:rgba(255, 255, 255, 0.7);text-decoration:none;font-size:0.9rem;transition:color 0.15s ease;}/*!sc*/
.eHcrXx a:hover{color:white;}/*!sc*/
data-styled.g21[id="sc-fbQrwq"]{content:"eHcrXx,"}/*!sc*/
.dAQFGp{color:#1e293b;line-height:1.6;}/*!sc*/
.dAQFGp h1,.dAQFGp h2,.dAQFGp h3,.dAQFGp h4,.dAQFGp h5,.dAQFGp h6{color:#1e293b;margin-top:2rem;margin-bottom:1rem;font-weight:600;}/*!sc*/
.dAQFGp h1{font-size:2rem;border-bottom:2px solid #e2e8f0;padding-bottom:0.5rem;}/*!sc*/
.dAQFGp h2{font-size:1.5rem;border-bottom:1px solid #e2e8f0;padding-bottom:0.3rem;}/*!sc*/
.dAQFGp h3{font-size:1.25rem;}/*!sc*/
.dAQFGp h4{font-size:1.1rem;}/*!sc*/
.dAQFGp p{margin-bottom:1rem;color:#64748b;}/*!sc*/
.dAQFGp a{color:#3b82f6;text-decoration:none;}/*!sc*/
.dAQFGp a:hover{text-decoration:underline;}/*!sc*/
.dAQFGp ul,.dAQFGp ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
.dAQFGp ul li,.dAQFGp ol li{margin-bottom:0.5rem;color:#64748b;}/*!sc*/
.dAQFGp blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#64748b;background:#f1f5f9;padding:1rem;border-radius:0.5rem;}/*!sc*/
.dAQFGp code{background:#f1f5f9;padding:0.2rem 0.4rem;border-radius:0.25rem;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;color:#f59e0b;}/*!sc*/
.dAQFGp pre{background:#ffffff;border:1px solid #e2e8f0;border-radius:0.5rem;padding:1rem;margin:1rem 0;overflow-x:auto;}/*!sc*/
.dAQFGp pre code{background:none;padding:0;color:#1e293b;font-size:0.9rem;}/*!sc*/
.dAQFGp table{width:100%;border-collapse:collapse;margin:1rem 0;}/*!sc*/
.dAQFGp table th,.dAQFGp table td{border:1px solid #e2e8f0;padding:0.5rem;text-align:left;}/*!sc*/
.dAQFGp table th{background:#ffffff;font-weight:600;}/*!sc*/
.dAQFGp table tr:nth-child(even){background:#f1f5f9;}/*!sc*/
.dAQFGp hr{border:none;height:1px;background:#e2e8f0;margin:2rem 0;}/*!sc*/
.dAQFGp .highlight{background:#3b82f620;padding:0.2rem 0.4rem;border-radius:0.25rem;font-weight:600;}/*!sc*/
.dAQFGp .hljs{background:#ffffff;color:#1e293b;}/*!sc*/
.dAQFGp .hljs-keyword{color:#3b82f6;font-weight:600;}/*!sc*/
.dAQFGp .hljs-string{color:#10b981;}/*!sc*/
.dAQFGp .hljs-function{color:#f59e0b;}/*!sc*/
.dAQFGp .hljs-comment{color:#94a3b8;font-style:italic;}/*!sc*/
.dAQFGp .hljs-number{color:#f59e0b;}/*!sc*/
.dAQFGp .hljs-variable{color:#1e293b;}/*!sc*/
.dAQFGp .hljs-title{color:#f59e0b;font-weight:600;}/*!sc*/
data-styled.g22[id="sc-gGKoUb"]{content:"dAQFGp,"}/*!sc*/
</style></head><body class="__className_6eac61"><div style="min-height:100vh;display:flex;flex-direction:column"><nav class="sc-bRKDuR wbMrm"><div class="sc-hvigdm kDxBNU"><a href="/interview"><a class="sc-fhHczv cvsJZg"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</a></a><div class="sc-ggWZvA lfYVIv"><a href="/interview/problems"><a class="sc-dTvVRJ bhKRhV">Problems</a></a><a href="/interview/learn"><a class="sc-dTvVRJ bhKRhV">Learn</a></a><a href="/interview/study-guide"><a class="sc-dTvVRJ bhKRhV">Study Guide</a></a><a href="/interview/system-design"><a class="sc-dTvVRJ bhKRhV">System Design</a></a><a href="/interview/performance"><a class="sc-dTvVRJ bhKRhV">Performance</a></a><a href="/interview/accessibility"><a class="sc-dTvVRJ bhKRhV">Accessibility</a></a><a href="/interview/interview-tips"><a class="sc-dTvVRJ bhKRhV">Interview Tips</a></a><button class="sc-kNOymR hpKWkw"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search "><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search</button></div><button class="sc-jwTyAe gpUImn"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu "><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></nav><main style="flex:1"><div class="max-w-6xl mx-auto px-8 py-24"><div class="flex items-center gap-4 mb-8"><a href="/interview/learn"><button class="flex items-center gap-2 bg-gray-100 border border-gray-300 text-gray-700 px-4 py-3 rounded-md font-medium hover:bg-gray-200 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left "><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Back to Learn</button></a></div><div class="bg-white border border-gray-200 rounded-lg p-8 mb-8"><div class="flex items-center justify-between mb-4"><h1 class="text-3xl font-bold text-gray-900">Advanced JavaScript Patterns - Design Patterns and Architecture</h1><div class="flex gap-4"><button class="flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star "><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>Bookmark</button><button class="flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share2 "><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line></svg>Share</button></div></div><div class="flex gap-8 mb-4"><div class="flex items-center gap-2 text-sm text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock "><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>2-3 hours</div><span class="px-3 py-1 rounded-full text-xs font-semibold text-white bg-yellow-500">Intermediate</span><span class="px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700">JavaScript</span></div><div class="flex flex-wrap gap-2 mb-4"><span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium">javascript</span><span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium">design-patterns</span><span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium">architecture</span><span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium">advanced</span><span class="bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium">scalability</span></div><p class="text-lg text-gray-700 leading-relaxed">Master advanced JavaScript patterns, design principles, and architectural concepts for scalable applications</p></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><div class="bg-white border border-gray-200 rounded-lg p-8"><div class="sc-gGKoUb dAQFGp"><h1 id="advanced-javascript-patterns---design-patterns-and-architecture" node="[object Object]">Advanced JavaScript Patterns - Design Patterns and Architecture</h1>
<h2 id="üèóÔ∏è-creational-patterns" node="[object Object]">üèóÔ∏è Creational Patterns</h2>
<h3 id="[object-object]" node="[object Object]"><strong>Singleton Pattern</strong></h3>
<p><strong>Definition:</strong> Ensures a class has only one instance and provides global access to it.</p>
<p><strong>Why Use Singleton:</strong></p>
<ul>
<li><strong>Global State Management</strong>: Centralized configuration or state</li>
<li><strong>Resource Management</strong>: Database connections, logging services</li>
<li><strong>Caching</strong>: Single cache instance across application</li>
<li><strong>Coordination</strong>: Event managers, service registries</li>
</ul>
<p><strong>How Singleton Works:</strong></p>
<pre><pre><code class="hljs hljs language-mermaid">graph TB
    subgraph &quot;Singleton Pattern&quot;
        A[Client Request] --&gt; B{Instance Exists?}
        B --&gt;|No| C[Create Instance]
        B --&gt;|Yes| D[Return Existing]
        C --&gt; E[Store Instance]
        E --&gt; F[Return Instance]
        D --&gt; F
    end

    subgraph &quot;Implementation Variants&quot;
        G[Eager Initialization] --&gt; H[Instance Created at Load]
        I[Lazy Initialization] --&gt; J[Instance Created on Demand]
        K[Thread-Safe] --&gt; L[Synchronized Creation]
    end

    subgraph &quot;Modern Approaches&quot;
        M[Module Singleton] --&gt; N[ES6 Modules]
        O[Class Singleton] --&gt; P[Static Methods]
        Q[Functional Singleton] --&gt; R[Closures]
    end
</code></pre></pre>
<p><strong>Deep Theory with Advanced Examples:</strong></p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// WHAT: Modern Singleton implementations</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ConfigManager</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-title class_">ConfigManager</span>.<span class="hljs-property">instance</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-title class_">ConfigManager</span>.<span class="hljs-property">instance</span>;
        }
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span> = <span class="hljs-literal">false</span>;
        
        <span class="hljs-title class_">ConfigManager</span>.<span class="hljs-property">instance</span> = <span class="hljs-variable language_">this</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;
    }
    
    <span class="hljs-keyword">static</span> <span class="hljs-title function_">getInstance</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-title class_">ConfigManager</span>.<span class="hljs-property">instance</span>) {
            <span class="hljs-title class_">ConfigManager</span>.<span class="hljs-property">instance</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ConfigManager</span>();
        }
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">ConfigManager</span>.<span class="hljs-property">instance</span>;
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">initialize</span>(<span class="hljs-params">configSource</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span>) <span class="hljs-keyword">return</span>;
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> configData = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">loadConfig</span>(configSource);
            
            <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(configData).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[key, value]</span>) =&gt;</span> {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">set</span>(key, value);
            });
            
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span> = <span class="hljs-literal">true</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&#x27;initialized&#x27;</span>, configData);
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Failed to initialize config:&#x27;</span>, error);
            <span class="hljs-keyword">throw</span> error;
        }
    }
    
    <span class="hljs-title function_">get</span>(<span class="hljs-params">key, defaultValue = <span class="hljs-literal">null</span></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">get</span>(key) ?? defaultValue;
    }
    
    <span class="hljs-title function_">set</span>(<span class="hljs-params">key, value</span>) {
        <span class="hljs-keyword">const</span> oldValue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">get</span>(key);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span>.<span class="hljs-title function_">set</span>(key, value);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&#x27;changed&#x27;</span>, { key, value, oldValue });
    }
    
    <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">callback</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">add</span>(callback);
        
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">delete</span>(callback);
        };
    }
    
    <span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-params">event, data</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-title function_">callback</span>(event, data);
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Subscriber error:&#x27;</span>, error);
            }
        });
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">loadConfig</span>(<span class="hljs-params">source</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> source === <span class="hljs-string">&#x27;string&#x27;</span>) {
            <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(source);
            <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();
        }
        
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> source === <span class="hljs-string">&#x27;object&#x27;</span>) {
            <span class="hljs-keyword">return</span> source;
        }
        
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Invalid config source&#x27;</span>);
    }
    
    <span class="hljs-comment">// Prevent cloning</span>
    <span class="hljs-title function_">clone</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Cannot clone singleton instance&#x27;</span>);
    }
    
    <span class="hljs-comment">// Prevent serialization issues</span>
    <span class="hljs-title function_">toJSON</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> { <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;ConfigManager&#x27;</span>, <span class="hljs-attr">initialized</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialized</span> };
    }
}

<span class="hljs-comment">// WHY: Advanced Singleton with Proxy</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createAdvancedSingleton</span>(<span class="hljs-params">className, factory</span>) {
    <span class="hljs-keyword">let</span> instance = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> isCreating = <span class="hljs-literal">false</span>;
    
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(factory, {
        <span class="hljs-title function_">construct</span>(<span class="hljs-params">target, args</span>) {
            <span class="hljs-keyword">if</span> (instance) {
                <span class="hljs-keyword">return</span> instance;
            }
            
            <span class="hljs-keyword">if</span> (isCreating) {
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Circular dependency detected in <span class="hljs-subst">${className}</span>`</span>);
            }
            
            isCreating = <span class="hljs-literal">true</span>;
            instance = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">construct</span>(target, args);
            isCreating = <span class="hljs-literal">false</span>;
            
            <span class="hljs-keyword">return</span> instance;
        },
        
        <span class="hljs-title function_">apply</span>(<span class="hljs-params">target, thisArg, args</span>) {
            <span class="hljs-keyword">if</span> (!instance) {
                instance = <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, thisArg, args);
            }
            <span class="hljs-keyword">return</span> instance;
        }
    });
}

<span class="hljs-comment">// HOW: Functional Singleton with Module Pattern</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">DatabaseManager</span> = (<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">let</span> instance = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">let</span> connections = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    <span class="hljs-keyword">let</span> connectionPool = [];
    
    <span class="hljs-keyword">class</span> <span class="hljs-title class_">Database</span> {
        <span class="hljs-title function_">constructor</span>(<span class="hljs-params">config</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">config</span> = config;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">queryCount</span> = <span class="hljs-number">0</span>;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastActivity</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
        }
        
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span>) <span class="hljs-keyword">return</span>;
            
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// Simulate database connection</span>
                <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">simulateConnection</span>();
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastActivity</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
                
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Database connected successfully&#x27;</span>);
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Database connection failed:&#x27;</span>, error);
                <span class="hljs-keyword">throw</span> error;
            }
        }
        
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">query</span>(<span class="hljs-params">sql, params = []</span>) {
            <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span>) {
                <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">connect</span>();
            }
            
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">queryCount</span>++;
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastActivity</span> = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            
            <span class="hljs-comment">// Simulate query execution</span>
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">simulateQuery</span>(sql, params);
        }
        
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">simulateConnection</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt; <span class="hljs-number">0.1</span>) { <span class="hljs-comment">// 90% success rate</span>
                        <span class="hljs-title function_">resolve</span>();
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Connection failed&#x27;</span>));
                    }
                }, <span class="hljs-number">100</span>);
            });
        }
        
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">simulateQuery</span>(<span class="hljs-params">sql, params</span>) {
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> {
                <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                    <span class="hljs-title function_">resolve</span>({
                        <span class="hljs-attr">rows</span>: [{ <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">data</span>: <span class="hljs-string">&#x27;sample&#x27;</span> }],
                        <span class="hljs-attr">rowCount</span>: <span class="hljs-number">1</span>,
                        <span class="hljs-attr">query</span>: sql,
                        params
                    });
                }, <span class="hljs-number">50</span>);
            });
        }
        
        <span class="hljs-title function_">getStats</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">isConnected</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span>,
                <span class="hljs-attr">queryCount</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">queryCount</span>,
                <span class="hljs-attr">lastActivity</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastActivity</span>,
                <span class="hljs-attr">uptime</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() - <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastActivity</span>
            };
        }
        
        <span class="hljs-keyword">async</span> <span class="hljs-title function_">disconnect</span>(<span class="hljs-params"></span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">isConnected</span> = <span class="hljs-literal">false</span>;
            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Database disconnected&#x27;</span>);
        }
    }
    
    <span class="hljs-keyword">return</span> {
        <span class="hljs-title function_">getInstance</span>(<span class="hljs-params">config = {}</span>) {
            <span class="hljs-keyword">if</span> (!instance) {
                instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Database</span>(config);
            }
            <span class="hljs-keyword">return</span> instance;
        },
        
        <span class="hljs-title function_">getConnection</span>(<span class="hljs-params">name = <span class="hljs-string">&#x27;default&#x27;</span></span>) {
            <span class="hljs-keyword">if</span> (!connections.<span class="hljs-title function_">has</span>(name)) {
                connections.<span class="hljs-title function_">set</span>(name, <span class="hljs-keyword">new</span> <span class="hljs-title class_">Database</span>({ name }));
            }
            <span class="hljs-keyword">return</span> connections.<span class="hljs-title function_">get</span>(name);
        },
        
        <span class="hljs-title function_">createPool</span>(<span class="hljs-params">size = <span class="hljs-number">5</span>, config = {}</span>) {
            connectionPool = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>({ <span class="hljs-attr">length</span>: size }, <span class="hljs-function">() =&gt;</span> 
                <span class="hljs-keyword">new</span> <span class="hljs-title class_">Database</span>({ ...config, <span class="hljs-attr">pooled</span>: <span class="hljs-literal">true</span> })
            );
            <span class="hljs-keyword">return</span> connectionPool;
        },
        
        <span class="hljs-title function_">getPooledConnection</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">const</span> available = connectionPool.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">conn</span> =&gt;</span> !conn.<span class="hljs-property">inUse</span>);
            
            <span class="hljs-keyword">if</span> (available) {
                available.<span class="hljs-property">inUse</span> = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">return</span> available;
            }
            
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;No available connections in pool&#x27;</span>);
        },
        
        <span class="hljs-title function_">releaseConnection</span>(<span class="hljs-params">connection</span>) {
            connection.<span class="hljs-property">inUse</span> = <span class="hljs-literal">false</span>;
        },
        
        <span class="hljs-title function_">getStats</span>(<span class="hljs-params"></span>) {
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">instance</span>: instance?.<span class="hljs-title function_">getStats</span>(),
                <span class="hljs-attr">connections</span>: <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(connections.<span class="hljs-title function_">entries</span>()).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">[name, conn]</span>) =&gt;</span> ({
                    name,
                    <span class="hljs-attr">stats</span>: conn.<span class="hljs-title function_">getStats</span>()
                })),
                <span class="hljs-attr">pool</span>: connectionPool.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">conn, index</span>) =&gt;</span> ({
                    index,
                    <span class="hljs-attr">inUse</span>: conn.<span class="hljs-property">inUse</span>,
                    <span class="hljs-attr">stats</span>: conn.<span class="hljs-title function_">getStats</span>()
                }))
            };
        }
    };
})();

<span class="hljs-comment">// Advanced Factory Pattern</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ComponentFactory</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">components</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
    }
    
    <span class="hljs-title function_">register</span>(<span class="hljs-params">type, factory, options = {}</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">components</span>.<span class="hljs-title function_">set</span>(type, {
            factory,
            <span class="hljs-attr">singleton</span>: options.<span class="hljs-property">singleton</span> || <span class="hljs-literal">false</span>,
            <span class="hljs-attr">dependencies</span>: options.<span class="hljs-property">dependencies</span> || [],
            <span class="hljs-attr">middleware</span>: options.<span class="hljs-property">middleware</span> || []
        });
    }
    
    <span class="hljs-title function_">create</span>(<span class="hljs-params">type, props = {}, context = {}</span>) {
        <span class="hljs-keyword">const</span> component = <span class="hljs-variable language_">this</span>.<span class="hljs-property">components</span>.<span class="hljs-title function_">get</span>(type);
        
        <span class="hljs-keyword">if</span> (!component) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Component type &#x27;<span class="hljs-subst">${type}</span>&#x27; not registered`</span>);
        }
        
        <span class="hljs-comment">// Check cache for singletons</span>
        <span class="hljs-keyword">if</span> (component.<span class="hljs-property">singleton</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(type)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(type);
        }
        
        <span class="hljs-comment">// Resolve dependencies</span>
        <span class="hljs-keyword">const</span> dependencies = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolveDependencies</span>(component.<span class="hljs-property">dependencies</span>, context);
        
        <span class="hljs-comment">// Apply middleware</span>
        <span class="hljs-keyword">const</span> enhancedProps = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">applyMiddleware</span>(
            [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>, ...component.<span class="hljs-property">middleware</span>],
            props,
            context
        );
        
        <span class="hljs-comment">// Create instance</span>
        <span class="hljs-keyword">const</span> instance = component.<span class="hljs-title function_">factory</span>(enhancedProps, dependencies, context);
        
        <span class="hljs-comment">// Cache if singleton</span>
        <span class="hljs-keyword">if</span> (component.<span class="hljs-property">singleton</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(type, instance);
        }
        
        <span class="hljs-keyword">return</span> instance;
    }
    
    <span class="hljs-title function_">resolveDependencies</span>(<span class="hljs-params">dependencies, context</span>) {
        <span class="hljs-keyword">return</span> dependencies.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">resolved, dep</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> dep === <span class="hljs-string">&#x27;string&#x27;</span>) {
                resolved[dep] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">create</span>(dep, {}, context);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> dep === <span class="hljs-string">&#x27;object&#x27;</span>) {
                resolved[dep.<span class="hljs-property">name</span>] = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">create</span>(dep.<span class="hljs-property">type</span>, dep.<span class="hljs-property">props</span> || {}, context);
            }
            <span class="hljs-keyword">return</span> resolved;
        }, {});
    }
    
    <span class="hljs-title function_">applyMiddleware</span>(<span class="hljs-params">middleware, props, context</span>) {
        <span class="hljs-keyword">return</span> middleware.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">enhancedProps, mw</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">mw</span>(enhancedProps, context);
        }, props);
    }
    
    <span class="hljs-title function_">addMiddleware</span>(<span class="hljs-params">middleware</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(middleware);
    }
    
    <span class="hljs-comment">// Batch creation</span>
    <span class="hljs-title function_">createBatch</span>(<span class="hljs-params">requests</span>) {
        <span class="hljs-keyword">return</span> requests.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">request</span> =&gt;</span> {
            <span class="hljs-keyword">const</span> { type, props, context } = request;
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">create</span>(type, props, context);
        });
    }
    
    <span class="hljs-comment">// Async factory support</span>
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">createAsync</span>(<span class="hljs-params">type, props = {}, context = {}</span>) {
        <span class="hljs-keyword">const</span> component = <span class="hljs-variable language_">this</span>.<span class="hljs-property">components</span>.<span class="hljs-title function_">get</span>(type);
        
        <span class="hljs-keyword">if</span> (!component) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Component type &#x27;<span class="hljs-subst">${type}</span>&#x27; not registered`</span>);
        }
        
        <span class="hljs-keyword">if</span> (component.<span class="hljs-property">singleton</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">has</span>(type)) {
            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">get</span>(type);
        }
        
        <span class="hljs-keyword">const</span> dependencies = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">resolveDependenciesAsync</span>(component.<span class="hljs-property">dependencies</span>, context);
        <span class="hljs-keyword">const</span> enhancedProps = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">applyMiddleware</span>(
            [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>, ...component.<span class="hljs-property">middleware</span>],
            props,
            context
        );
        
        <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">await</span> component.<span class="hljs-title function_">factory</span>(enhancedProps, dependencies, context);
        
        <span class="hljs-keyword">if</span> (component.<span class="hljs-property">singleton</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache</span>.<span class="hljs-title function_">set</span>(type, instance);
        }
        
        <span class="hljs-keyword">return</span> instance;
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">resolveDependenciesAsync</span>(<span class="hljs-params">dependencies, context</span>) {
        <span class="hljs-keyword">const</span> resolved = {};
        
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> dep <span class="hljs-keyword">of</span> dependencies) {
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> dep === <span class="hljs-string">&#x27;string&#x27;</span>) {
                resolved[dep] = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createAsync</span>(dep, {}, context);
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> dep === <span class="hljs-string">&#x27;object&#x27;</span>) {
                resolved[dep.<span class="hljs-property">name</span>] = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createAsync</span>(dep.<span class="hljs-property">type</span>, dep.<span class="hljs-property">props</span> || {}, context);
            }
        }
        
        <span class="hljs-keyword">return</span> resolved;
    }
}

<span class="hljs-comment">// Usage examples</span>
<span class="hljs-keyword">const</span> factory = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ComponentFactory</span>();

<span class="hljs-comment">// Register components</span>
factory.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;logger&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">log</span>: <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`[<span class="hljs-subst">${props.level}</span>] <span class="hljs-subst">${message}</span>`</span>),
        <span class="hljs-attr">level</span>: props.<span class="hljs-property">level</span> || <span class="hljs-string">&#x27;info&#x27;</span>
    };
}, { <span class="hljs-attr">singleton</span>: <span class="hljs-literal">true</span> });

factory.<span class="hljs-title function_">register</span>(<span class="hljs-string">&#x27;api&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">props, deps</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">get</span>: <span class="hljs-title function_">async</span> (url) =&gt; {
            deps.<span class="hljs-property">logger</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`GET <span class="hljs-subst">${url}</span>`</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(url);
        },
        <span class="hljs-attr">post</span>: <span class="hljs-title function_">async</span> (url, data) =&gt; {
            deps.<span class="hljs-property">logger</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`POST <span class="hljs-subst">${url}</span>`</span>);
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">fetch</span>(url, { <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>, <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) });
        }
    };
}, { <span class="hljs-attr">dependencies</span>: [<span class="hljs-string">&#x27;logger&#x27;</span>] });

<span class="hljs-comment">// Add middleware</span>
factory.<span class="hljs-title function_">addMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">props, context</span>) =&gt;</span> ({
    ...props,
    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
    <span class="hljs-attr">userId</span>: context.<span class="hljs-property">user</span>?.<span class="hljs-property">id</span>
}));

<span class="hljs-comment">// Create instances</span>
<span class="hljs-keyword">const</span> logger = factory.<span class="hljs-title function_">create</span>(<span class="hljs-string">&#x27;logger&#x27;</span>, { <span class="hljs-attr">level</span>: <span class="hljs-string">&#x27;debug&#x27;</span> });
<span class="hljs-keyword">const</span> api = factory.<span class="hljs-title function_">create</span>(<span class="hljs-string">&#x27;api&#x27;</span>, {}, { <span class="hljs-attr">user</span>: { <span class="hljs-attr">id</span>: <span class="hljs-number">123</span> } });
</code></pre></pre>
<h2 id="üîÑ-behavioral-patterns" node="[object Object]">üîÑ Behavioral Patterns</h2>
<h3 id="[object-object]" node="[object Object]"><strong>Observer Pattern</strong></h3>
<p><strong>Definition:</strong> Defines a one-to-many dependency between objects so that when one object changes state, all dependents are notified automatically.</p>
<p><strong>Why Use Observer:</strong></p>
<ul>
<li><strong>Loose Coupling</strong>: Publishers don&#x27;t need to know about subscribers</li>
<li><strong>Dynamic Relationships</strong>: Subscribers can be added/removed at runtime</li>
<li><strong>Event-Driven Architecture</strong>: Perfect for UI updates and state changes</li>
<li><strong>Separation of Concerns</strong>: Business logic separated from presentation</li>
</ul>
<p><strong>How Observer Works:</strong></p>
<pre><pre><code class="hljs hljs language-mermaid">graph TB
    subgraph &quot;Observer Pattern&quot;
        A[Subject/Observable] --&gt; B[Notify All Observers]
        B --&gt; C[Observer 1]
        B --&gt; D[Observer 2]
        B --&gt; E[Observer N]
        
        F[State Change] --&gt; A
        C --&gt; G[Update UI]
        D --&gt; H[Log Event]
        E --&gt; I[Send Analytics]
    end

    subgraph &quot;Event System&quot;
        J[Event Emitter] --&gt; K[Event Listeners]
        K --&gt; L[Handler Functions]
        
        M[Custom Events] --&gt; N[DOM Events]
        N --&gt; O[Application Events]
    end

    subgraph &quot;Modern Implementations&quot;
        P[RxJS Observables] --&gt; Q[Reactive Streams]
        R[Vue Reactivity] --&gt; S[Proxy-based]
        T[React State] --&gt; U[Hook-based]
    end
</code></pre></pre>
<p><strong>Deep Theory with Advanced Examples:</strong></p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// WHAT: Advanced Observable implementation</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">AdvancedObservable</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">initialValue</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = initialValue;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxHistory</span> = <span class="hljs-number">100</span>;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isDisposed</span> = <span class="hljs-literal">false</span>;
    }
    
    <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">observer, options = {}</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isDisposed</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Observable has been disposed&#x27;</span>);
        }
        
        <span class="hljs-keyword">const</span> {
            immediate = <span class="hljs-literal">false</span>,
            filter = <span class="hljs-literal">null</span>,
            transform = <span class="hljs-literal">null</span>,
            debounce = <span class="hljs-number">0</span>,
            throttle = <span class="hljs-number">0</span>
        } = options;
        
        <span class="hljs-keyword">const</span> observerId = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;observer&#x27;</span>);
        <span class="hljs-keyword">const</span> subscription = {
            observer,
            filter,
            transform,
            debounce,
            throttle,
            <span class="hljs-attr">lastExecution</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">timeoutId</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">active</span>: <span class="hljs-literal">true</span>
        };
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">set</span>(observerId, subscription);
        
        <span class="hljs-comment">// Immediate notification</span>
        <span class="hljs-keyword">if</span> (immediate) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyObserver</span>(subscription, <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>, <span class="hljs-literal">undefined</span>);
        }
        
        <span class="hljs-comment">// Return unsubscribe function</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">const</span> sub = <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">get</span>(observerId);
            <span class="hljs-keyword">if</span> (sub) {
                sub.<span class="hljs-property">active</span> = <span class="hljs-literal">false</span>;
                <span class="hljs-keyword">if</span> (sub.<span class="hljs-property">timeoutId</span>) {
                    <span class="hljs-built_in">clearTimeout</span>(sub.<span class="hljs-property">timeoutId</span>);
                }
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">delete</span>(observerId);
            }
        };
    }
    
    <span class="hljs-title function_">next</span>(<span class="hljs-params">newValue</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">isDisposed</span>) <span class="hljs-keyword">return</span>;
        
        <span class="hljs-keyword">const</span> oldValue = <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
        
        <span class="hljs-comment">// Apply middleware</span>
        <span class="hljs-keyword">const</span> processedValue = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">applyMiddleware</span>(newValue, oldValue);
        
        <span class="hljs-comment">// Update value</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = processedValue;
        
        <span class="hljs-comment">// Add to history</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">addToHistory</span>(oldValue, processedValue);
        
        <span class="hljs-comment">// Notify observers</span>
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyObservers</span>(processedValue, oldValue);
    }
    
    <span class="hljs-title function_">applyMiddleware</span>(<span class="hljs-params">newValue, oldValue</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">value, middleware</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">middleware</span>(value, oldValue, <span class="hljs-variable language_">this</span>);
        }, newValue);
    }
    
    <span class="hljs-title function_">addToHistory</span>(<span class="hljs-params">oldValue, newValue</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">push</span>({
            <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
            oldValue,
            newValue
        });
        
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxHistory</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">shift</span>();
        }
    }
    
    <span class="hljs-title function_">notifyObservers</span>(<span class="hljs-params">newValue, oldValue</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">subscription</span> =&gt;</span> {
            <span class="hljs-keyword">if</span> (subscription.<span class="hljs-property">active</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifyObserver</span>(subscription, newValue, oldValue);
            }
        });
    }
    
    <span class="hljs-title function_">notifyObserver</span>(<span class="hljs-params">subscription, newValue, oldValue</span>) {
        <span class="hljs-keyword">const</span> { observer, filter, transform, debounce, throttle } = subscription;
        
        <span class="hljs-comment">// Apply filter</span>
        <span class="hljs-keyword">if</span> (filter &amp;&amp; !<span class="hljs-title function_">filter</span>(newValue, oldValue)) {
            <span class="hljs-keyword">return</span>;
        }
        
        <span class="hljs-comment">// Apply transform</span>
        <span class="hljs-keyword">const</span> transformedValue = transform ? <span class="hljs-title function_">transform</span>(newValue, oldValue) : newValue;
        
        <span class="hljs-comment">// Handle debounce/throttle</span>
        <span class="hljs-keyword">if</span> (debounce &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (subscription.<span class="hljs-property">timeoutId</span>) {
                <span class="hljs-built_in">clearTimeout</span>(subscription.<span class="hljs-property">timeoutId</span>);
            }
            
            subscription.<span class="hljs-property">timeoutId</span> = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                <span class="hljs-title function_">observer</span>(transformedValue, oldValue);
            }, debounce);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (throttle &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">if</span> (now - subscription.<span class="hljs-property">lastExecution</span> &gt;= throttle) {
                subscription.<span class="hljs-property">lastExecution</span> = now;
                <span class="hljs-title function_">observer</span>(transformedValue, oldValue);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-title function_">observer</span>(transformedValue, oldValue);
        }
    }
    
    <span class="hljs-title function_">addMiddleware</span>(<span class="hljs-params">middleware</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(middleware);
    }
    
    <span class="hljs-comment">// Operators</span>
    <span class="hljs-title function_">map</span>(<span class="hljs-params">transform</span>) {
        <span class="hljs-keyword">const</span> mapped = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AdvancedObservable</span>();
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
            mapped.<span class="hljs-title function_">next</span>(<span class="hljs-title function_">transform</span>(value));
        });
        
        <span class="hljs-keyword">return</span> mapped;
    }
    
    <span class="hljs-title function_">filter</span>(<span class="hljs-params">predicate</span>) {
        <span class="hljs-keyword">const</span> filtered = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AdvancedObservable</span>();
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">predicate</span>(value)) {
                filtered.<span class="hljs-title function_">next</span>(value);
            }
        });
        
        <span class="hljs-keyword">return</span> filtered;
    }
    
    <span class="hljs-title function_">debounce</span>(<span class="hljs-params">delay</span>) {
        <span class="hljs-keyword">const</span> debounced = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AdvancedObservable</span>();
        <span class="hljs-keyword">let</span> timeoutId;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (timeoutId) {
                <span class="hljs-built_in">clearTimeout</span>(timeoutId);
            }
            
            timeoutId = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
                debounced.<span class="hljs-title function_">next</span>(value);
            }, delay);
        });
        
        <span class="hljs-keyword">return</span> debounced;
    }
    
    <span class="hljs-title function_">throttle</span>(<span class="hljs-params">delay</span>) {
        <span class="hljs-keyword">const</span> throttled = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AdvancedObservable</span>();
        <span class="hljs-keyword">let</span> lastExecution = <span class="hljs-number">0</span>;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
            <span class="hljs-keyword">const</span> now = <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>();
            <span class="hljs-keyword">if</span> (now - lastExecution &gt;= delay) {
                lastExecution = now;
                throttled.<span class="hljs-title function_">next</span>(value);
            }
        });
        
        <span class="hljs-keyword">return</span> throttled;
    }
    
    <span class="hljs-title function_">combine</span>(<span class="hljs-params">other</span>) {
        <span class="hljs-keyword">const</span> combined = <span class="hljs-keyword">new</span> <span class="hljs-title class_">AdvancedObservable</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>, other.<span class="hljs-property">value</span>]);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
            combined.<span class="hljs-title function_">next</span>([value, other.<span class="hljs-property">value</span>]);
        });
        
        other.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
            combined.<span class="hljs-title function_">next</span>([<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>, value]);
        });
        
        <span class="hljs-keyword">return</span> combined;
    }
    
    <span class="hljs-comment">// Utility methods</span>
    <span class="hljs-title function_">getValue</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>;
    }
    
    <span class="hljs-title function_">getHistory</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>];
    }
    
    <span class="hljs-title function_">getObserverCount</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-property">size</span>;
    }
    
    <span class="hljs-title function_">dispose</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">subscription</span> =&gt;</span> {
            <span class="hljs-keyword">if</span> (subscription.<span class="hljs-property">timeoutId</span>) {
                <span class="hljs-built_in">clearTimeout</span>(subscription.<span class="hljs-property">timeoutId</span>);
            }
        });
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">observers</span>.<span class="hljs-title function_">clear</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">isDisposed</span> = <span class="hljs-literal">true</span>;
    }
}

<span class="hljs-comment">// WHY: Event-driven architecture with advanced patterns</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">EventBus</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span> = {
            <span class="hljs-attr">totalEvents</span>: <span class="hljs-number">0</span>,
            <span class="hljs-attr">eventCounts</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(),
            <span class="hljs-attr">errors</span>: []
        };
    }
    
    <span class="hljs-title function_">on</span>(<span class="hljs-params">event, handler, options = {}</span>) {
        <span class="hljs-keyword">const</span> {
            once = <span class="hljs-literal">false</span>,
            priority = <span class="hljs-number">0</span>,
            namespace = <span class="hljs-literal">null</span>,
            condition = <span class="hljs-literal">null</span>
        } = options;
        
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">has</span>(event)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">set</span>(event, []);
        }
        
        <span class="hljs-keyword">const</span> handlerInfo = {
            handler,
            once,
            priority,
            namespace,
            condition,
            <span class="hljs-attr">id</span>: <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&#x27;handler&#x27;</span>)
        };
        
        <span class="hljs-keyword">const</span> handlers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">get</span>(event);
        handlers.<span class="hljs-title function_">push</span>(handlerInfo);
        
        <span class="hljs-comment">// Sort by priority (higher priority first)</span>
        handlers.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> b.<span class="hljs-property">priority</span> - a.<span class="hljs-property">priority</span>);
        
        <span class="hljs-comment">// Return unsubscribe function</span>
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-keyword">const</span> index = handlers.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h.<span class="hljs-property">id</span> === handlerInfo.<span class="hljs-property">id</span>);
            <span class="hljs-keyword">if</span> (index !== -<span class="hljs-number">1</span>) {
                handlers.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
            }
        };
    }
    
    <span class="hljs-title function_">once</span>(<span class="hljs-params">event, handler, options = {}</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">on</span>(event, handler, { ...options, <span class="hljs-attr">once</span>: <span class="hljs-literal">true</span> });
    }
    
    <span class="hljs-title function_">off</span>(<span class="hljs-params">event, handler = <span class="hljs-literal">null</span>, namespace = <span class="hljs-literal">null</span></span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">has</span>(event)) <span class="hljs-keyword">return</span>;
        
        <span class="hljs-keyword">const</span> handlers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">get</span>(event);
        
        <span class="hljs-keyword">if</span> (!handler &amp;&amp; !namespace) {
            <span class="hljs-comment">// Remove all handlers for event</span>
            handlers.<span class="hljs-property">length</span> = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (namespace) {
            <span class="hljs-comment">// Remove handlers by namespace</span>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = handlers.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
                <span class="hljs-keyword">if</span> (handlers[i].<span class="hljs-property">namespace</span> === namespace) {
                    handlers.<span class="hljs-title function_">splice</span>(i, <span class="hljs-number">1</span>);
                }
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-comment">// Remove specific handler</span>
            <span class="hljs-keyword">const</span> index = handlers.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h.<span class="hljs-property">handler</span> === handler);
            <span class="hljs-keyword">if</span> (index !== -<span class="hljs-number">1</span>) {
                handlers.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
            }
        }
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">emit</span>(<span class="hljs-params">event, data = <span class="hljs-literal">null</span>, options = {}</span>) {
        <span class="hljs-keyword">const</span> {
            <span class="hljs-keyword">async</span> = <span class="hljs-literal">false</span>,
            timeout = <span class="hljs-number">5000</span>,
            stopOnError = <span class="hljs-literal">false</span>
        } = options;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">totalEvents</span>++;
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">eventCounts</span>.<span class="hljs-title function_">set</span>(event, (<span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">eventCounts</span>.<span class="hljs-title function_">get</span>(event) || <span class="hljs-number">0</span>) + <span class="hljs-number">1</span>);
        
        <span class="hljs-comment">// Apply interceptors</span>
        <span class="hljs-keyword">const</span> interceptedData = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">applyInterceptors</span>(event, data);
        
        <span class="hljs-comment">// Apply middleware</span>
        <span class="hljs-keyword">const</span> processedData = <span class="hljs-keyword">await</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">applyMiddleware</span>(event, interceptedData);
        
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">has</span>(event)) <span class="hljs-keyword">return</span> [];
        
        <span class="hljs-keyword">const</span> handlers = <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-title function_">slice</span>(); <span class="hljs-comment">// Copy to avoid modification during iteration</span>
        <span class="hljs-keyword">const</span> results = [];
        
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> handlerInfo <span class="hljs-keyword">of</span> handlers) {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-comment">// Check condition</span>
                <span class="hljs-keyword">if</span> (handlerInfo.<span class="hljs-property">condition</span> &amp;&amp; !handlerInfo.<span class="hljs-title function_">condition</span>(processedData, event)) {
                    <span class="hljs-keyword">continue</span>;
                }
                
                <span class="hljs-keyword">const</span> eventObject = {
                    <span class="hljs-attr">type</span>: event,
                    <span class="hljs-attr">data</span>: processedData,
                    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
                    <span class="hljs-attr">preventDefault</span>: <span class="hljs-literal">false</span>,
                    <span class="hljs-attr">stopPropagation</span>: <span class="hljs-literal">false</span>
                };
                
                <span class="hljs-keyword">let</span> result;
                
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">async</span>) {
                    result = <span class="hljs-keyword">await</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">race</span>([
                        <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">resolve</span>(handlerInfo.<span class="hljs-title function_">handler</span>(eventObject)),
                        <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">_, reject</span>) =&gt;</span> 
                            <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Handler timeout&#x27;</span>)), timeout)
                        )
                    ]);
                } <span class="hljs-keyword">else</span> {
                    result = handlerInfo.<span class="hljs-title function_">handler</span>(eventObject);
                }
                
                results.<span class="hljs-title function_">push</span>(result);
                
                <span class="hljs-comment">// Remove once handlers</span>
                <span class="hljs-keyword">if</span> (handlerInfo.<span class="hljs-property">once</span>) {
                    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">off</span>(event, handlerInfo.<span class="hljs-property">handler</span>);
                }
                
                <span class="hljs-comment">// Stop propagation if requested</span>
                <span class="hljs-keyword">if</span> (eventObject.<span class="hljs-property">stopPropagation</span>) {
                    <span class="hljs-keyword">break</span>;
                }
                
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">errors</span>.<span class="hljs-title function_">push</span>({
                    event,
                    <span class="hljs-attr">error</span>: error.<span class="hljs-property">message</span>,
                    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>(),
                    <span class="hljs-attr">handler</span>: handlerInfo.<span class="hljs-property">handler</span>.<span class="hljs-property">name</span>
                });
                
                <span class="hljs-keyword">if</span> (stopOnError) {
                    <span class="hljs-keyword">throw</span> error;
                }
                
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`Error in event handler for &#x27;<span class="hljs-subst">${event}</span>&#x27;:`</span>, error);
            }
        }
        
        <span class="hljs-keyword">return</span> results;
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">applyInterceptors</span>(<span class="hljs-params">event, data</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-title function_">has</span>(event)) <span class="hljs-keyword">return</span> data;
        
        <span class="hljs-keyword">const</span> interceptors = <span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-title function_">get</span>(event);
        <span class="hljs-keyword">let</span> processedData = data;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> interceptor <span class="hljs-keyword">of</span> interceptors) {
            processedData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">interceptor</span>(processedData, event);
        }
        
        <span class="hljs-keyword">return</span> processedData;
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">applyMiddleware</span>(<span class="hljs-params">event, data</span>) {
        <span class="hljs-keyword">let</span> processedData = data;
        
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> middleware <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>) {
            processedData = <span class="hljs-keyword">await</span> <span class="hljs-title function_">middleware</span>(event, processedData);
        }
        
        <span class="hljs-keyword">return</span> processedData;
    }
    
    <span class="hljs-title function_">addInterceptor</span>(<span class="hljs-params">event, interceptor</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-title function_">has</span>(event)) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-title function_">set</span>(event, []);
        }
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-title function_">push</span>(interceptor);
    }
    
    <span class="hljs-title function_">addMiddleware</span>(<span class="hljs-params">middleware</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(middleware);
    }
    
    <span class="hljs-comment">// Utility methods</span>
    <span class="hljs-title function_">getEventNames</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">keys</span>());
    }
    
    <span class="hljs-title function_">getHandlerCount</span>(<span class="hljs-params">event</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">has</span>(event) ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">get</span>(event).<span class="hljs-property">length</span> : <span class="hljs-number">0</span>;
    }
    
    <span class="hljs-title function_">getMetrics</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> {
            ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>,
            <span class="hljs-attr">eventCounts</span>: <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">metrics</span>.<span class="hljs-property">eventCounts</span>)
        };
    }
    
    <span class="hljs-title function_">clear</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">events</span>.<span class="hljs-title function_">clear</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">interceptors</span>.<span class="hljs-title function_">clear</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
    }
}

<span class="hljs-comment">// HOW: Reactive state management</span>
<span class="hljs-keyword">class</span> <span class="hljs-title class_">ReactiveStore</span> {
    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">initialState = {}</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createReactiveState</span>(initialState);
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">mutations</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">actions</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">getters</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">devtools</span> = <span class="hljs-literal">null</span>;
    }
    
    <span class="hljs-title function_">createReactiveState</span>(<span class="hljs-params">obj, path = []</span>) {
        <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(obj, {
            <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop</span>) {
                <span class="hljs-keyword">const</span> value = target[prop];
                
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> value === <span class="hljs-string">&#x27;object&#x27;</span> &amp;&amp; value !== <span class="hljs-literal">null</span>) {
                    <span class="hljs-keyword">return</span> self.<span class="hljs-title function_">createReactiveState</span>(value, [...path, prop]);
                }
                
                <span class="hljs-keyword">return</span> value;
            },
            
            <span class="hljs-title function_">set</span>(<span class="hljs-params">target, prop, value</span>) {
                <span class="hljs-keyword">const</span> oldValue = target[prop];
                <span class="hljs-keyword">const</span> fullPath = [...path, prop];
                
                <span class="hljs-comment">// Apply middleware</span>
                <span class="hljs-keyword">const</span> processedValue = self.<span class="hljs-title function_">applySetterMiddleware</span>(fullPath, value, oldValue);
                
                target[prop] = processedValue;
                
                <span class="hljs-comment">// Notify subscribers</span>
                self.<span class="hljs-title function_">notifySubscribers</span>({
                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;mutation&#x27;</span>,
                    <span class="hljs-attr">path</span>: fullPath,
                    <span class="hljs-attr">value</span>: processedValue,
                    oldValue
                });
                
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        });
    }
    
    <span class="hljs-title function_">registerMutation</span>(<span class="hljs-params">name, mutator</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">mutations</span>.<span class="hljs-title function_">set</span>(name, mutator);
    }
    
    <span class="hljs-title function_">registerAction</span>(<span class="hljs-params">name, action</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">actions</span>.<span class="hljs-title function_">set</span>(name, action);
    }
    
    <span class="hljs-title function_">registerGetter</span>(<span class="hljs-params">name, getter</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">getters</span>.<span class="hljs-title function_">set</span>(name, getter);
    }
    
    <span class="hljs-title function_">commit</span>(<span class="hljs-params">mutation, payload</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">mutations</span>.<span class="hljs-title function_">has</span>(mutation)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unknown mutation: <span class="hljs-subst">${mutation}</span>`</span>);
        }
        
        <span class="hljs-keyword">const</span> mutator = <span class="hljs-variable language_">this</span>.<span class="hljs-property">mutations</span>.<span class="hljs-title function_">get</span>(mutation);
        <span class="hljs-keyword">const</span> oldState = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>));
        
        <span class="hljs-title function_">mutator</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, payload);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;commit&#x27;</span>,
            mutation,
            payload,
            <span class="hljs-attr">state</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>,
            oldState
        });
        
        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">devtools</span>) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">devtools</span>.<span class="hljs-title function_">commit</span>(mutation, payload, <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>);
        }
    }
    
    <span class="hljs-keyword">async</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-params">action, payload</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">actions</span>.<span class="hljs-title function_">has</span>(action)) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unknown action: <span class="hljs-subst">${action}</span>`</span>);
        }
        
        <span class="hljs-keyword">const</span> actionHandler = <span class="hljs-variable language_">this</span>.<span class="hljs-property">actions</span>.<span class="hljs-title function_">get</span>(action);
        
        <span class="hljs-keyword">const</span> context = {
            <span class="hljs-attr">state</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>,
            <span class="hljs-attr">commit</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">commit</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>),
            <span class="hljs-attr">dispatch</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">dispatch</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>),
            <span class="hljs-attr">getters</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">createGetterProxy</span>()
        };
        
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">actionHandler</span>(context, payload);
            
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>({
                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;action&#x27;</span>,
                action,
                payload,
                result
            });
            
            <span class="hljs-keyword">return</span> result;
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>({
                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;error&#x27;</span>,
                action,
                payload,
                error
            });
            
            <span class="hljs-keyword">throw</span> error;
        }
    }
    
    <span class="hljs-title function_">createGetterProxy</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;
        
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>({}, {
            <span class="hljs-title function_">get</span>(<span class="hljs-params">target, prop</span>) {
                <span class="hljs-keyword">if</span> (self.<span class="hljs-property">getters</span>.<span class="hljs-title function_">has</span>(prop)) {
                    <span class="hljs-keyword">return</span> self.<span class="hljs-property">getters</span>.<span class="hljs-title function_">get</span>(prop)(self.<span class="hljs-property">state</span>);
                }
                
                <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`Unknown getter: <span class="hljs-subst">${prop}</span>`</span>);
            }
        });
    }
    
    <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">callback</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">add</span>(callback);
        
        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
            <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">delete</span>(callback);
        };
    }
    
    <span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-params">event</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">callback</span> =&gt;</span> {
            <span class="hljs-keyword">try</span> {
                <span class="hljs-title function_">callback</span>(event);
            } <span class="hljs-keyword">catch</span> (error) {
                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&#x27;Subscriber error:&#x27;</span>, error);
            }
        });
    }
    
    <span class="hljs-title function_">applySetterMiddleware</span>(<span class="hljs-params">path, value, oldValue</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">processedValue, middleware</span>) =&gt;</span> {
            <span class="hljs-keyword">return</span> <span class="hljs-title function_">middleware</span>(path, processedValue, oldValue, <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>);
        }, value);
    }
    
    <span class="hljs-title function_">addMiddleware</span>(<span class="hljs-params">middleware</span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(middleware);
    }
    
    <span class="hljs-comment">// Time travel debugging</span>
    <span class="hljs-title function_">enableTimeTravel</span>(<span class="hljs-params"></span>) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span> = [];
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = -<span class="hljs-number">1</span>;
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
            <span class="hljs-keyword">if</span> (event.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;commit&#x27;</span>) {
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> + <span class="hljs-number">1</span>);
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-title function_">push</span>({
                    <span class="hljs-attr">mutation</span>: event.<span class="hljs-property">mutation</span>,
                    <span class="hljs-attr">payload</span>: event.<span class="hljs-property">payload</span>,
                    <span class="hljs-attr">state</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(event.<span class="hljs-property">state</span>)),
                    <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>()
                });
                <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;
            }
        });
    }
    
    <span class="hljs-title function_">travelTo</span>(<span class="hljs-params">index</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span> || index &lt; <span class="hljs-number">0</span> || index &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>.<span class="hljs-property">length</span>) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;Invalid history index&#x27;</span>);
        }
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentIndex</span> = index;
        <span class="hljs-keyword">const</span> snapshot = <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>[index];
        
        <span class="hljs-comment">// Restore state</span>
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, snapshot.<span class="hljs-property">state</span>);
        
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>({
            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;timeTravel&#x27;</span>,
            index,
            snapshot
        });
    }
    
    <span class="hljs-title function_">getHistory</span>(<span class="hljs-params"></span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span> ? [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">history</span>] : [];
    }
}

<span class="hljs-comment">// Usage examples</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ReactiveStore</span>({
    <span class="hljs-attr">user</span>: { <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-attr">email</span>: <span class="hljs-string">&#x27;&#x27;</span> },
    <span class="hljs-attr">posts</span>: [],
    <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span>
});

<span class="hljs-comment">// Register mutations</span>
store.<span class="hljs-title function_">registerMutation</span>(<span class="hljs-string">&#x27;SET_USER&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">state, user</span>) =&gt;</span> {
    state.<span class="hljs-property">user</span> = user;
});

store.<span class="hljs-title function_">registerMutation</span>(<span class="hljs-string">&#x27;ADD_POST&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">state, post</span>) =&gt;</span> {
    state.<span class="hljs-property">posts</span>.<span class="hljs-title function_">push</span>(post);
});

store.<span class="hljs-title function_">registerMutation</span>(<span class="hljs-string">&#x27;SET_LOADING&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">state, loading</span>) =&gt;</span> {
    state.<span class="hljs-property">loading</span> = loading;
});

<span class="hljs-comment">// Register actions</span>
store.<span class="hljs-title function_">registerAction</span>(<span class="hljs-string">&#x27;fetchUser&#x27;</span>, <span class="hljs-title function_">async</span> ({ commit }, userId) =&gt; {
    <span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;SET_LOADING&#x27;</span>, <span class="hljs-literal">true</span>);
    
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> user = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">getUser</span>(userId);
        <span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;SET_USER&#x27;</span>, user);
        <span class="hljs-keyword">return</span> user;
    } <span class="hljs-keyword">finally</span> {
        <span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;SET_LOADING&#x27;</span>, <span class="hljs-literal">false</span>);
    }
});

<span class="hljs-comment">// Register getters</span>
store.<span class="hljs-title function_">registerGetter</span>(<span class="hljs-string">&#x27;userPosts&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> state.<span class="hljs-property">posts</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">post</span> =&gt;</span> post.<span class="hljs-property">userId</span> === state.<span class="hljs-property">user</span>.<span class="hljs-property">id</span>);
});

<span class="hljs-comment">// Subscribe to changes</span>
store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Store event:&#x27;</span>, event);
});

<span class="hljs-comment">// Enable time travel</span>
store.<span class="hljs-title function_">enableTimeTravel</span>();

<span class="hljs-comment">// Usage</span>
store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-string">&#x27;fetchUser&#x27;</span>, <span class="hljs-number">123</span>);
store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;ADD_POST&#x27;</span>, { <span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;Hello World&#x27;</span>, <span class="hljs-attr">userId</span>: <span class="hljs-number">123</span> });
</code></pre></pre>
<p>This comprehensive guide covers advanced JavaScript patterns with deep theoretical understanding and practical implementations for scalable applications.</p></div></div></div><div class="space-y-6"><div class="bg-white border border-gray-200 rounded-lg p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Your Progress</h3><div class="w-full bg-gray-200 rounded-full h-2 mb-2"><div class="bg-blue-600 h-2 rounded-full" style="width:25%"></div></div><p class="text-sm text-gray-600">25% Complete</p></div></div></div></div></main><footer class="sc-dYwGCk cJzheU"><div class="sc-lgpSej hJUFeT"><div class="sc-eqYatC mSxwd"><div class="sc-kcLKEh cmBIup"><div class="sc-dntSTA bAsNIP"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</div><p class="sc-kvnevz gWXMDV">Comprehensive interview preparation for frontend engineers targeting Big Tech companies.</p><div class="sc-dFVmKS jCoOHQ"><a href="https://github.com" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://twitter.com" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter "><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a href="https://linkedin.com" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin "><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="mailto:contact@example.com" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail "><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a></div></div><div class="sc-kcLKEh cmBIup"><h3>Study Materials</h3><ul><li><a href="/algorithms">Algorithms</a></li><li><a href="/react">React &amp; Frontend</a></li><li><a href="/system-design">System Design</a></li><li><a href="/typescript">TypeScript</a></li><li><a href="/performance">Performance</a></li></ul></div><div class="sc-kcLKEh cmBIup"><h3>Companies</h3><ul><li><a href="/google">Google</a></li><li><a href="/meta">Meta</a></li><li><a href="/amazon">Amazon</a></li><li><a href="/microsoft">Microsoft</a></li><li><a href="/apple">Apple</a></li></ul></div><div class="sc-kcLKEh cmBIup"><h3>Resources</h3><ul><li><a href="/interview-tips">Interview Tips</a></li><li><a href="/coding-challenges">Coding Challenges</a></li><li><a href="/mock-interviews">Mock Interviews</a></li><li><a href="/blog">Blog</a></li><li><a href="/faq">FAQ</a></li></ul></div></div><div class="sc-kCuUfV crUaYh"><p class="sc-dNdcvo esMlQF">¬© 2025 Frontend Interview Prep. All rights reserved.</p><div class="sc-fbQrwq eHcrXx"><a href="/privacy">Privacy Policy</a><a href="/terms">Terms of Service</a><a href="/contact">Contact</a></div></div></div></footer></div><script src="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/interview/_next/static/css/387024c6a2216908.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n5:I[2972,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"930\",\"static/chunks/930-3262a6c9c5acace4.js\",\"289\",\"static/chunks/app/learn/%5Btopic%5D/page-4ab144227f7a7b3e.js\"],\"\"]\n6:I[5907,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"930\",\"static/chunks/930-3262a6c9c5acace4.js\",\"289\",\"static/chunks/app/learn/%5Btopic%5D/page-4ab144227f7a7b3e.js\"],\"default\"]\n8:I[4707,[],\"\"]\na:I[6423,[],\"\"]\nb:I[2,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"710\",\"static/chunks/710-dfaa11b4dff08f8e.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"233\",\"static/chunks/233-3e0c1d820a17eca9.js\",\"185\",\"static/chunks/app/layout-333f4adcd11f8f39.js\"],\"default\",1]\nd:I[1060,[],\"\"]\n7:T83f0,"])</script><script>self.__next_f.push([1,"\n# Advanced JavaScript Patterns - Design Patterns and Architecture\n\n## üèóÔ∏è Creational Patterns\n\n### **Singleton Pattern**\n**Definition:** Ensures a class has only one instance and provides global access to it.\n\n**Why Use Singleton:**\n- **Global State Management**: Centralized configuration or state\n- **Resource Management**: Database connections, logging services\n- **Caching**: Single cache instance across application\n- **Coordination**: Event managers, service registries\n\n**How Singleton Works:**\n\n```mermaid\ngraph TB\n    subgraph \"Singleton Pattern\"\n        A[Client Request] --\u003e B{Instance Exists?}\n        B --\u003e|No| C[Create Instance]\n        B --\u003e|Yes| D[Return Existing]\n        C --\u003e E[Store Instance]\n        E --\u003e F[Return Instance]\n        D --\u003e F\n    end\n\n    subgraph \"Implementation Variants\"\n        G[Eager Initialization] --\u003e H[Instance Created at Load]\n        I[Lazy Initialization] --\u003e J[Instance Created on Demand]\n        K[Thread-Safe] --\u003e L[Synchronized Creation]\n    end\n\n    subgraph \"Modern Approaches\"\n        M[Module Singleton] --\u003e N[ES6 Modules]\n        O[Class Singleton] --\u003e P[Static Methods]\n        Q[Functional Singleton] --\u003e R[Closures]\n    end\n```\n\n**Deep Theory with Advanced Examples:**\n```javascript\n// WHAT: Modern Singleton implementations\nclass ConfigManager {\n    constructor() {\n        if (ConfigManager.instance) {\n            return ConfigManager.instance;\n        }\n        \n        this.config = new Map();\n        this.subscribers = new Set();\n        this.initialized = false;\n        \n        ConfigManager.instance = this;\n        return this;\n    }\n    \n    static getInstance() {\n        if (!ConfigManager.instance) {\n            ConfigManager.instance = new ConfigManager();\n        }\n        return ConfigManager.instance;\n    }\n    \n    async initialize(configSource) {\n        if (this.initialized) return;\n        \n        try {\n            const configData = await this.loadConfig(configSource);\n            \n            Object.entries(configData).forEach(([key, value]) =\u003e {\n                this.config.set(key, value);\n            });\n            \n            this.initialized = true;\n            this.notifySubscribers('initialized', configData);\n        } catch (error) {\n            console.error('Failed to initialize config:', error);\n            throw error;\n        }\n    }\n    \n    get(key, defaultValue = null) {\n        return this.config.get(key) ?? defaultValue;\n    }\n    \n    set(key, value) {\n        const oldValue = this.config.get(key);\n        this.config.set(key, value);\n        \n        this.notifySubscribers('changed', { key, value, oldValue });\n    }\n    \n    subscribe(callback) {\n        this.subscribers.add(callback);\n        \n        return () =\u003e {\n            this.subscribers.delete(callback);\n        };\n    }\n    \n    notifySubscribers(event, data) {\n        this.subscribers.forEach(callback =\u003e {\n            try {\n                callback(event, data);\n            } catch (error) {\n                console.error('Subscriber error:', error);\n            }\n        });\n    }\n    \n    async loadConfig(source) {\n        if (typeof source === 'string') {\n            const response = await fetch(source);\n            return response.json();\n        }\n        \n        if (typeof source === 'object') {\n            return source;\n        }\n        \n        throw new Error('Invalid config source');\n    }\n    \n    // Prevent cloning\n    clone() {\n        throw new Error('Cannot clone singleton instance');\n    }\n    \n    // Prevent serialization issues\n    toJSON() {\n        return { type: 'ConfigManager', initialized: this.initialized };\n    }\n}\n\n// WHY: Advanced Singleton with Proxy\nfunction createAdvancedSingleton(className, factory) {\n    let instance = null;\n    let isCreating = false;\n    \n    return new Proxy(factory, {\n        construct(target, args) {\n            if (instance) {\n                return instance;\n            }\n            \n            if (isCreating) {\n                throw new Error(`Circular dependency detected in ${className}`);\n            }\n            \n            isCreating = true;\n            instance = Reflect.construct(target, args);\n            isCreating = false;\n            \n            return instance;\n        },\n        \n        apply(target, thisArg, args) {\n            if (!instance) {\n                instance = Reflect.apply(target, thisArg, args);\n            }\n            return instance;\n        }\n    });\n}\n\n// HOW: Functional Singleton with Module Pattern\nconst DatabaseManager = (() =\u003e {\n    let instance = null;\n    let connections = new Map();\n    let connectionPool = [];\n    \n    class Database {\n        constructor(config) {\n            this.config = config;\n            this.isConnected = false;\n            this.queryCount = 0;\n            this.lastActivity = Date.now();\n        }\n        \n        async connect() {\n            if (this.isConnected) return;\n            \n            try {\n                // Simulate database connection\n                await this.simulateConnection();\n                this.isConnected = true;\n                this.lastActivity = Date.now();\n                \n                console.log('Database connected successfully');\n            } catch (error) {\n                console.error('Database connection failed:', error);\n                throw error;\n            }\n        }\n        \n        async query(sql, params = []) {\n            if (!this.isConnected) {\n                await this.connect();\n            }\n            \n            this.queryCount++;\n            this.lastActivity = Date.now();\n            \n            // Simulate query execution\n            return this.simulateQuery(sql, params);\n        }\n        \n        async simulateConnection() {\n            return new Promise((resolve, reject) =\u003e {\n                setTimeout(() =\u003e {\n                    if (Math.random() \u003e 0.1) { // 90% success rate\n                        resolve();\n                    } else {\n                        reject(new Error('Connection failed'));\n                    }\n                }, 100);\n            });\n        }\n        \n        async simulateQuery(sql, params) {\n            return new Promise((resolve) =\u003e {\n                setTimeout(() =\u003e {\n                    resolve({\n                        rows: [{ id: 1, data: 'sample' }],\n                        rowCount: 1,\n                        query: sql,\n                        params\n                    });\n                }, 50);\n            });\n        }\n        \n        getStats() {\n            return {\n                isConnected: this.isConnected,\n                queryCount: this.queryCount,\n                lastActivity: this.lastActivity,\n                uptime: Date.now() - this.lastActivity\n            };\n        }\n        \n        async disconnect() {\n            this.isConnected = false;\n            console.log('Database disconnected');\n        }\n    }\n    \n    return {\n        getInstance(config = {}) {\n            if (!instance) {\n                instance = new Database(config);\n            }\n            return instance;\n        },\n        \n        getConnection(name = 'default') {\n            if (!connections.has(name)) {\n                connections.set(name, new Database({ name }));\n            }\n            return connections.get(name);\n        },\n        \n        createPool(size = 5, config = {}) {\n            connectionPool = Array.from({ length: size }, () =\u003e \n                new Database({ ...config, pooled: true })\n            );\n            return connectionPool;\n        },\n        \n        getPooledConnection() {\n            const available = connectionPool.find(conn =\u003e !conn.inUse);\n            \n            if (available) {\n                available.inUse = true;\n                return available;\n            }\n            \n            throw new Error('No available connections in pool');\n        },\n        \n        releaseConnection(connection) {\n            connection.inUse = false;\n        },\n        \n        getStats() {\n            return {\n                instance: instance?.getStats(),\n                connections: Array.from(connections.entries()).map(([name, conn]) =\u003e ({\n                    name,\n                    stats: conn.getStats()\n                })),\n                pool: connectionPool.map((conn, index) =\u003e ({\n                    index,\n                    inUse: conn.inUse,\n                    stats: conn.getStats()\n                }))\n            };\n        }\n    };\n})();\n\n// Advanced Factory Pattern\nclass ComponentFactory {\n    constructor() {\n        this.components = new Map();\n        this.middleware = [];\n        this.cache = new Map();\n    }\n    \n    register(type, factory, options = {}) {\n        this.components.set(type, {\n            factory,\n            singleton: options.singleton || false,\n            dependencies: options.dependencies || [],\n            middleware: options.middleware || []\n        });\n    }\n    \n    create(type, props = {}, context = {}) {\n        const component = this.components.get(type);\n        \n        if (!component) {\n            throw new Error(`Component type '${type}' not registered`);\n        }\n        \n        // Check cache for singletons\n        if (component.singleton \u0026\u0026 this.cache.has(type)) {\n            return this.cache.get(type);\n        }\n        \n        // Resolve dependencies\n        const dependencies = this.resolveDependencies(component.dependencies, context);\n        \n        // Apply middleware\n        const enhancedProps = this.applyMiddleware(\n            [...this.middleware, ...component.middleware],\n            props,\n            context\n        );\n        \n        // Create instance\n        const instance = component.factory(enhancedProps, dependencies, context);\n        \n        // Cache if singleton\n        if (component.singleton) {\n            this.cache.set(type, instance);\n        }\n        \n        return instance;\n    }\n    \n    resolveDependencies(dependencies, context) {\n        return dependencies.reduce((resolved, dep) =\u003e {\n            if (typeof dep === 'string') {\n                resolved[dep] = this.create(dep, {}, context);\n            } else if (typeof dep === 'object') {\n                resolved[dep.name] = this.create(dep.type, dep.props || {}, context);\n            }\n            return resolved;\n        }, {});\n    }\n    \n    applyMiddleware(middleware, props, context) {\n        return middleware.reduce((enhancedProps, mw) =\u003e {\n            return mw(enhancedProps, context);\n        }, props);\n    }\n    \n    addMiddleware(middleware) {\n        this.middleware.push(middleware);\n    }\n    \n    // Batch creation\n    createBatch(requests) {\n        return requests.map(request =\u003e {\n            const { type, props, context } = request;\n            return this.create(type, props, context);\n        });\n    }\n    \n    // Async factory support\n    async createAsync(type, props = {}, context = {}) {\n        const component = this.components.get(type);\n        \n        if (!component) {\n            throw new Error(`Component type '${type}' not registered`);\n        }\n        \n        if (component.singleton \u0026\u0026 this.cache.has(type)) {\n            return this.cache.get(type);\n        }\n        \n        const dependencies = await this.resolveDependenciesAsync(component.dependencies, context);\n        const enhancedProps = this.applyMiddleware(\n            [...this.middleware, ...component.middleware],\n            props,\n            context\n        );\n        \n        const instance = await component.factory(enhancedProps, dependencies, context);\n        \n        if (component.singleton) {\n            this.cache.set(type, instance);\n        }\n        \n        return instance;\n    }\n    \n    async resolveDependenciesAsync(dependencies, context) {\n        const resolved = {};\n        \n        for (const dep of dependencies) {\n            if (typeof dep === 'string') {\n                resolved[dep] = await this.createAsync(dep, {}, context);\n            } else if (typeof dep === 'object') {\n                resolved[dep.name] = await this.createAsync(dep.type, dep.props || {}, context);\n            }\n        }\n        \n        return resolved;\n    }\n}\n\n// Usage examples\nconst factory = new ComponentFactory();\n\n// Register components\nfactory.register('logger', (props) =\u003e {\n    return {\n        log: (message) =\u003e console.log(`[${props.level}] ${message}`),\n        level: props.level || 'info'\n    };\n}, { singleton: true });\n\nfactory.register('api', (props, deps) =\u003e {\n    return {\n        get: async (url) =\u003e {\n            deps.logger.log(`GET ${url}`);\n            return fetch(url);\n        },\n        post: async (url, data) =\u003e {\n            deps.logger.log(`POST ${url}`);\n            return fetch(url, { method: 'POST', body: JSON.stringify(data) });\n        }\n    };\n}, { dependencies: ['logger'] });\n\n// Add middleware\nfactory.addMiddleware((props, context) =\u003e ({\n    ...props,\n    timestamp: Date.now(),\n    userId: context.user?.id\n}));\n\n// Create instances\nconst logger = factory.create('logger', { level: 'debug' });\nconst api = factory.create('api', {}, { user: { id: 123 } });\n```\n\n## üîÑ Behavioral Patterns\n\n### **Observer Pattern**\n**Definition:** Defines a one-to-many dependency between objects so that when one object changes state, all dependents are notified automatically.\n\n**Why Use Observer:**\n- **Loose Coupling**: Publishers don't need to know about subscribers\n- **Dynamic Relationships**: Subscribers can be added/removed at runtime\n- **Event-Driven Architecture**: Perfect for UI updates and state changes\n- **Separation of Concerns**: Business logic separated from presentation\n\n**How Observer Works:**\n\n```mermaid\ngraph TB\n    subgraph \"Observer Pattern\"\n        A[Subject/Observable] --\u003e B[Notify All Observers]\n        B --\u003e C[Observer 1]\n        B --\u003e D[Observer 2]\n        B --\u003e E[Observer N]\n        \n        F[State Change] --\u003e A\n        C --\u003e G[Update UI]\n        D --\u003e H[Log Event]\n        E --\u003e I[Send Analytics]\n    end\n\n    subgraph \"Event System\"\n        J[Event Emitter] --\u003e K[Event Listeners]\n        K --\u003e L[Handler Functions]\n        \n        M[Custom Events] --\u003e N[DOM Events]\n        N --\u003e O[Application Events]\n    end\n\n    subgraph \"Modern Implementations\"\n        P[RxJS Observables] --\u003e Q[Reactive Streams]\n        R[Vue Reactivity] --\u003e S[Proxy-based]\n        T[React State] --\u003e U[Hook-based]\n    end\n```\n\n**Deep Theory with Advanced Examples:**\n```javascript\n// WHAT: Advanced Observable implementation\nclass AdvancedObservable {\n    constructor(initialValue) {\n        this.value = initialValue;\n        this.observers = new Map();\n        this.middleware = [];\n        this.history = [];\n        this.maxHistory = 100;\n        this.isDisposed = false;\n    }\n    \n    subscribe(observer, options = {}) {\n        if (this.isDisposed) {\n            throw new Error('Observable has been disposed');\n        }\n        \n        const {\n            immediate = false,\n            filter = null,\n            transform = null,\n            debounce = 0,\n            throttle = 0\n        } = options;\n        \n        const observerId = Symbol('observer');\n        const subscription = {\n            observer,\n            filter,\n            transform,\n            debounce,\n            throttle,\n            lastExecution: 0,\n            timeoutId: null,\n            active: true\n        };\n        \n        this.observers.set(observerId, subscription);\n        \n        // Immediate notification\n        if (immediate) {\n            this.notifyObserver(subscription, this.value, undefined);\n        }\n        \n        // Return unsubscribe function\n        return () =\u003e {\n            const sub = this.observers.get(observerId);\n            if (sub) {\n                sub.active = false;\n                if (sub.timeoutId) {\n                    clearTimeout(sub.timeoutId);\n                }\n                this.observers.delete(observerId);\n            }\n        };\n    }\n    \n    next(newValue) {\n        if (this.isDisposed) return;\n        \n        const oldValue = this.value;\n        \n        // Apply middleware\n        const processedValue = this.applyMiddleware(newValue, oldValue);\n        \n        // Update value\n        this.value = processedValue;\n        \n        // Add to history\n        this.addToHistory(oldValue, processedValue);\n        \n        // Notify observers\n        this.notifyObservers(processedValue, oldValue);\n    }\n    \n    applyMiddleware(newValue, oldValue) {\n        return this.middleware.reduce((value, middleware) =\u003e {\n            return middleware(value, oldValue, this);\n        }, newValue);\n    }\n    \n    addToHistory(oldValue, newValue) {\n        this.history.push({\n            timestamp: Date.now(),\n            oldValue,\n            newValue\n        });\n        \n        if (this.history.length \u003e this.maxHistory) {\n            this.history.shift();\n        }\n    }\n    \n    notifyObservers(newValue, oldValue) {\n        this.observers.forEach(subscription =\u003e {\n            if (subscription.active) {\n                this.notifyObserver(subscription, newValue, oldValue);\n            }\n        });\n    }\n    \n    notifyObserver(subscription, newValue, oldValue) {\n        const { observer, filter, transform, debounce, throttle } = subscription;\n        \n        // Apply filter\n        if (filter \u0026\u0026 !filter(newValue, oldValue)) {\n            return;\n        }\n        \n        // Apply transform\n        const transformedValue = transform ? transform(newValue, oldValue) : newValue;\n        \n        // Handle debounce/throttle\n        if (debounce \u003e 0) {\n            if (subscription.timeoutId) {\n                clearTimeout(subscription.timeoutId);\n            }\n            \n            subscription.timeoutId = setTimeout(() =\u003e {\n                observer(transformedValue, oldValue);\n            }, debounce);\n        } else if (throttle \u003e 0) {\n            const now = Date.now();\n            if (now - subscription.lastExecution \u003e= throttle) {\n                subscription.lastExecution = now;\n                observer(transformedValue, oldValue);\n            }\n        } else {\n            observer(transformedValue, oldValue);\n        }\n    }\n    \n    addMiddleware(middleware) {\n        this.middleware.push(middleware);\n    }\n    \n    // Operators\n    map(transform) {\n        const mapped = new AdvancedObservable();\n        \n        this.subscribe((value) =\u003e {\n            mapped.next(transform(value));\n        });\n        \n        return mapped;\n    }\n    \n    filter(predicate) {\n        const filtered = new AdvancedObservable();\n        \n        this.subscribe((value) =\u003e {\n            if (predicate(value)) {\n                filtered.next(value);\n            }\n        });\n        \n        return filtered;\n    }\n    \n    debounce(delay) {\n        const debounced = new AdvancedObservable();\n        let timeoutId;\n        \n        this.subscribe((value) =\u003e {\n            if (timeoutId) {\n                clearTimeout(timeoutId);\n            }\n            \n            timeoutId = setTimeout(() =\u003e {\n                debounced.next(value);\n            }, delay);\n        });\n        \n        return debounced;\n    }\n    \n    throttle(delay) {\n        const throttled = new AdvancedObservable();\n        let lastExecution = 0;\n        \n        this.subscribe((value) =\u003e {\n            const now = Date.now();\n            if (now - lastExecution \u003e= delay) {\n                lastExecution = now;\n                throttled.next(value);\n            }\n        });\n        \n        return throttled;\n    }\n    \n    combine(other) {\n        const combined = new AdvancedObservable([this.value, other.value]);\n        \n        this.subscribe((value) =\u003e {\n            combined.next([value, other.value]);\n        });\n        \n        other.subscribe((value) =\u003e {\n            combined.next([this.value, value]);\n        });\n        \n        return combined;\n    }\n    \n    // Utility methods\n    getValue() {\n        return this.value;\n    }\n    \n    getHistory() {\n        return [...this.history];\n    }\n    \n    getObserverCount() {\n        return this.observers.size;\n    }\n    \n    dispose() {\n        this.observers.forEach(subscription =\u003e {\n            if (subscription.timeoutId) {\n                clearTimeout(subscription.timeoutId);\n            }\n        });\n        \n        this.observers.clear();\n        this.middleware = [];\n        this.history = [];\n        this.isDisposed = true;\n    }\n}\n\n// WHY: Event-driven architecture with advanced patterns\nclass EventBus {\n    constructor() {\n        this.events = new Map();\n        this.middleware = [];\n        this.interceptors = new Map();\n        this.metrics = {\n            totalEvents: 0,\n            eventCounts: new Map(),\n            errors: []\n        };\n    }\n    \n    on(event, handler, options = {}) {\n        const {\n            once = false,\n            priority = 0,\n            namespace = null,\n            condition = null\n        } = options;\n        \n        if (!this.events.has(event)) {\n            this.events.set(event, []);\n        }\n        \n        const handlerInfo = {\n            handler,\n            once,\n            priority,\n            namespace,\n            condition,\n            id: Symbol('handler')\n        };\n        \n        const handlers = this.events.get(event);\n        handlers.push(handlerInfo);\n        \n        // Sort by priority (higher priority first)\n        handlers.sort((a, b) =\u003e b.priority - a.priority);\n        \n        // Return unsubscribe function\n        return () =\u003e {\n            const index = handlers.findIndex(h =\u003e h.id === handlerInfo.id);\n            if (index !== -1) {\n                handlers.splice(index, 1);\n            }\n        };\n    }\n    \n    once(event, handler, options = {}) {\n        return this.on(event, handler, { ...options, once: true });\n    }\n    \n    off(event, handler = null, namespace = null) {\n        if (!this.events.has(event)) return;\n        \n        const handlers = this.events.get(event);\n        \n        if (!handler \u0026\u0026 !namespace) {\n            // Remove all handlers for event\n            handlers.length = 0;\n        } else if (namespace) {\n            // Remove handlers by namespace\n            for (let i = handlers.length - 1; i \u003e= 0; i--) {\n                if (handlers[i].namespace === namespace) {\n                    handlers.splice(i, 1);\n                }\n            }\n        } else {\n            // Remove specific handler\n            const index = handlers.findIndex(h =\u003e h.handler === handler);\n            if (index !== -1) {\n                handlers.splice(index, 1);\n            }\n        }\n    }\n    \n    async emit(event, data = null, options = {}) {\n        const {\n            async = false,\n            timeout = 5000,\n            stopOnError = false\n        } = options;\n        \n        this.metrics.totalEvents++;\n        this.metrics.eventCounts.set(event, (this.metrics.eventCounts.get(event) || 0) + 1);\n        \n        // Apply interceptors\n        const interceptedData = await this.applyInterceptors(event, data);\n        \n        // Apply middleware\n        const processedData = await this.applyMiddleware(event, interceptedData);\n        \n        if (!this.events.has(event)) return [];\n        \n        const handlers = this.events.get(event).slice(); // Copy to avoid modification during iteration\n        const results = [];\n        \n        for (const handlerInfo of handlers) {\n            try {\n                // Check condition\n                if (handlerInfo.condition \u0026\u0026 !handlerInfo.condition(processedData, event)) {\n                    continue;\n                }\n                \n                const eventObject = {\n                    type: event,\n                    data: processedData,\n                    timestamp: Date.now(),\n                    preventDefault: false,\n                    stopPropagation: false\n                };\n                \n                let result;\n                \n                if (async) {\n                    result = await Promise.race([\n                        Promise.resolve(handlerInfo.handler(eventObject)),\n                        new Promise((_, reject) =\u003e \n                            setTimeout(() =\u003e reject(new Error('Handler timeout')), timeout)\n                        )\n                    ]);\n                } else {\n                    result = handlerInfo.handler(eventObject);\n                }\n                \n                results.push(result);\n                \n                // Remove once handlers\n                if (handlerInfo.once) {\n                    this.off(event, handlerInfo.handler);\n                }\n                \n                // Stop propagation if requested\n                if (eventObject.stopPropagation) {\n                    break;\n                }\n                \n            } catch (error) {\n                this.metrics.errors.push({\n                    event,\n                    error: error.message,\n                    timestamp: Date.now(),\n                    handler: handlerInfo.handler.name\n                });\n                \n                if (stopOnError) {\n                    throw error;\n                }\n                \n                console.error(`Error in event handler for '${event}':`, error);\n            }\n        }\n        \n        return results;\n    }\n    \n    async applyInterceptors(event, data) {\n        if (!this.interceptors.has(event)) return data;\n        \n        const interceptors = this.interceptors.get(event);\n        let processedData = data;\n        \n        for (const interceptor of interceptors) {\n            processedData = await interceptor(processedData, event);\n        }\n        \n        return processedData;\n    }\n    \n    async applyMiddleware(event, data) {\n        let processedData = data;\n        \n        for (const middleware of this.middleware) {\n            processedData = await middleware(event, processedData);\n        }\n        \n        return processedData;\n    }\n    \n    addInterceptor(event, interceptor) {\n        if (!this.interceptors.has(event)) {\n            this.interceptors.set(event, []);\n        }\n        \n        this.interceptors.get(event).push(interceptor);\n    }\n    \n    addMiddleware(middleware) {\n        this.middleware.push(middleware);\n    }\n    \n    // Utility methods\n    getEventNames() {\n        return Array.from(this.events.keys());\n    }\n    \n    getHandlerCount(event) {\n        return this.events.has(event) ? this.events.get(event).length : 0;\n    }\n    \n    getMetrics() {\n        return {\n            ...this.metrics,\n            eventCounts: Object.fromEntries(this.metrics.eventCounts)\n        };\n    }\n    \n    clear() {\n        this.events.clear();\n        this.interceptors.clear();\n        this.middleware = [];\n    }\n}\n\n// HOW: Reactive state management\nclass ReactiveStore {\n    constructor(initialState = {}) {\n        this.state = this.createReactiveState(initialState);\n        this.mutations = new Map();\n        this.actions = new Map();\n        this.getters = new Map();\n        this.subscribers = new Set();\n        this.middleware = [];\n        this.devtools = null;\n    }\n    \n    createReactiveState(obj, path = []) {\n        const self = this;\n        \n        return new Proxy(obj, {\n            get(target, prop) {\n                const value = target[prop];\n                \n                if (typeof value === 'object' \u0026\u0026 value !== null) {\n                    return self.createReactiveState(value, [...path, prop]);\n                }\n                \n                return value;\n            },\n            \n            set(target, prop, value) {\n                const oldValue = target[prop];\n                const fullPath = [...path, prop];\n                \n                // Apply middleware\n                const processedValue = self.applySetterMiddleware(fullPath, value, oldValue);\n                \n                target[prop] = processedValue;\n                \n                // Notify subscribers\n                self.notifySubscribers({\n                    type: 'mutation',\n                    path: fullPath,\n                    value: processedValue,\n                    oldValue\n                });\n                \n                return true;\n            }\n        });\n    }\n    \n    registerMutation(name, mutator) {\n        this.mutations.set(name, mutator);\n    }\n    \n    registerAction(name, action) {\n        this.actions.set(name, action);\n    }\n    \n    registerGetter(name, getter) {\n        this.getters.set(name, getter);\n    }\n    \n    commit(mutation, payload) {\n        if (!this.mutations.has(mutation)) {\n            throw new Error(`Unknown mutation: ${mutation}`);\n        }\n        \n        const mutator = this.mutations.get(mutation);\n        const oldState = JSON.parse(JSON.stringify(this.state));\n        \n        mutator(this.state, payload);\n        \n        this.notifySubscribers({\n            type: 'commit',\n            mutation,\n            payload,\n            state: this.state,\n            oldState\n        });\n        \n        if (this.devtools) {\n            this.devtools.commit(mutation, payload, this.state);\n        }\n    }\n    \n    async dispatch(action, payload) {\n        if (!this.actions.has(action)) {\n            throw new Error(`Unknown action: ${action}`);\n        }\n        \n        const actionHandler = this.actions.get(action);\n        \n        const context = {\n            state: this.state,\n            commit: this.commit.bind(this),\n            dispatch: this.dispatch.bind(this),\n            getters: this.createGetterProxy()\n        };\n        \n        try {\n            const result = await actionHandler(context, payload);\n            \n            this.notifySubscribers({\n                type: 'action',\n                action,\n                payload,\n                result\n            });\n            \n            return result;\n        } catch (error) {\n            this.notifySubscribers({\n                type: 'error',\n                action,\n                payload,\n                error\n            });\n            \n            throw error;\n        }\n    }\n    \n    createGetterProxy() {\n        const self = this;\n        \n        return new Proxy({}, {\n            get(target, prop) {\n                if (self.getters.has(prop)) {\n                    return self.getters.get(prop)(self.state);\n                }\n                \n                throw new Error(`Unknown getter: ${prop}`);\n            }\n        });\n    }\n    \n    subscribe(callback) {\n        this.subscribers.add(callback);\n        \n        return () =\u003e {\n            this.subscribers.delete(callback);\n        };\n    }\n    \n    notifySubscribers(event) {\n        this.subscribers.forEach(callback =\u003e {\n            try {\n                callback(event);\n            } catch (error) {\n                console.error('Subscriber error:', error);\n            }\n        });\n    }\n    \n    applySetterMiddleware(path, value, oldValue) {\n        return this.middleware.reduce((processedValue, middleware) =\u003e {\n            return middleware(path, processedValue, oldValue, this.state);\n        }, value);\n    }\n    \n    addMiddleware(middleware) {\n        this.middleware.push(middleware);\n    }\n    \n    // Time travel debugging\n    enableTimeTravel() {\n        this.history = [];\n        this.currentIndex = -1;\n        \n        this.subscribe((event) =\u003e {\n            if (event.type === 'commit') {\n                this.history = this.history.slice(0, this.currentIndex + 1);\n                this.history.push({\n                    mutation: event.mutation,\n                    payload: event.payload,\n                    state: JSON.parse(JSON.stringify(event.state)),\n                    timestamp: Date.now()\n                });\n                this.currentIndex = this.history.length - 1;\n            }\n        });\n    }\n    \n    travelTo(index) {\n        if (!this.history || index \u003c 0 || index \u003e= this.history.length) {\n            throw new Error('Invalid history index');\n        }\n        \n        this.currentIndex = index;\n        const snapshot = this.history[index];\n        \n        // Restore state\n        Object.assign(this.state, snapshot.state);\n        \n        this.notifySubscribers({\n            type: 'timeTravel',\n            index,\n            snapshot\n        });\n    }\n    \n    getHistory() {\n        return this.history ? [...this.history] : [];\n    }\n}\n\n// Usage examples\nconst store = new ReactiveStore({\n    user: { name: '', email: '' },\n    posts: [],\n    loading: false\n});\n\n// Register mutations\nstore.registerMutation('SET_USER', (state, user) =\u003e {\n    state.user = user;\n});\n\nstore.registerMutation('ADD_POST', (state, post) =\u003e {\n    state.posts.push(post);\n});\n\nstore.registerMutation('SET_LOADING', (state, loading) =\u003e {\n    state.loading = loading;\n});\n\n// Register actions\nstore.registerAction('fetchUser', async ({ commit }, userId) =\u003e {\n    commit('SET_LOADING', true);\n    \n    try {\n        const user = await api.getUser(userId);\n        commit('SET_USER', user);\n        return user;\n    } finally {\n        commit('SET_LOADING', false);\n    }\n});\n\n// Register getters\nstore.registerGetter('userPosts', (state) =\u003e {\n    return state.posts.filter(post =\u003e post.userId === state.user.id);\n});\n\n// Subscribe to changes\nstore.subscribe((event) =\u003e {\n    console.log('Store event:', event);\n});\n\n// Enable time travel\nstore.enableTimeTravel();\n\n// Usage\nstore.dispatch('fetchUser', 123);\nstore.commit('ADD_POST', { id: 1, title: 'Hello World', userId: 123 });\n```\n\nThis comprehensive guide covers advanced JavaScript patterns with deep theoretical understanding and practical implementations for scalable applications."])</script><script>self.__next_f.push([1,"9:[\"topic\",\"javascript-advanced-patterns\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"7uJ7BVaXJTiEOD9iYDv3n\",\"assetPrefix\":\"/interview\",\"urlParts\":[\"\",\"learn\",\"javascript-advanced-patterns\"],\"initialTree\":[\"\",{\"children\":[\"learn\",{\"children\":[[\"topic\",\"javascript-advanced-patterns\",\"d\"],{\"children\":[\"__PAGE__?{\\\"topic\\\":\\\"javascript-advanced-patterns\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"learn\",{\"children\":[[\"topic\",\"javascript-advanced-patterns\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"className\":\"max-w-6xl mx-auto px-8 py-24\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-4 mb-8\",\"children\":[\"$\",\"$L5\",null,{\"href\":\"/learn\",\"children\":[\"$\",\"button\",null,{\"className\":\"flex items-center gap-2 bg-gray-100 border border-gray-300 text-gray-700 px-4 py-3 rounded-md font-medium hover:bg-gray-200 transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left \",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\"Back to Learn\"]}]}]}],[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-8 mb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between mb-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold text-gray-900\",\"children\":\"Advanced JavaScript Patterns - Design Patterns and Architecture\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-4\",\"children\":[[\"$\",\"button\",null,{\"className\":\"flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-star \",\"children\":[[\"$\",\"polygon\",\"8f66p6\",{\"points\":\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"}],\"$undefined\"]}],\"Bookmark\"]}],[\"$\",\"button\",null,{\"className\":\"flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-share2 \",\"children\":[[\"$\",\"circle\",\"gq8acd\",{\"cx\":\"18\",\"cy\":\"5\",\"r\":\"3\"}],[\"$\",\"circle\",\"w7nqdw\",{\"cx\":\"6\",\"cy\":\"12\",\"r\":\"3\"}],[\"$\",\"circle\",\"1xt0gg\",{\"cx\":\"18\",\"cy\":\"19\",\"r\":\"3\"}],[\"$\",\"line\",\"47mynk\",{\"x1\":\"8.59\",\"x2\":\"15.42\",\"y1\":\"13.51\",\"y2\":\"17.49\"}],[\"$\",\"line\",\"1n3mei\",{\"x1\":\"15.41\",\"x2\":\"8.59\",\"y1\":\"6.51\",\"y2\":\"10.49\"}],\"$undefined\"]}],\"Share\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex gap-8 mb-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2 text-sm text-gray-600\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-clock \",\"children\":[[\"$\",\"circle\",\"1mglay\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"polyline\",\"68esgv\",{\"points\":\"12 6 12 12 16 14\"}],\"$undefined\"]}],\"2-3 hours\"]}],[\"$\",\"span\",null,{\"className\":\"px-3 py-1 rounded-full text-xs font-semibold text-white bg-yellow-500\",\"children\":\"Intermediate\"}],[\"$\",\"span\",null,{\"className\":\"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700\",\"children\":\"JavaScript\"}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap gap-2 mb-4\",\"children\":[[\"$\",\"span\",\"0\",{\"className\":\"bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium\",\"children\":\"javascript\"}],[\"$\",\"span\",\"1\",{\"className\":\"bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium\",\"children\":\"design-patterns\"}],[\"$\",\"span\",\"2\",{\"className\":\"bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium\",\"children\":\"architecture\"}],[\"$\",\"span\",\"3\",{\"className\":\"bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium\",\"children\":\"advanced\"}],[\"$\",\"span\",\"4\",{\"className\":\"bg-gray-100 text-gray-600 px-3 py-1 rounded-md text-xs font-medium\",\"children\":\"scalability\"}]]}],[\"$\",\"p\",null,{\"className\":\"text-lg text-gray-700 leading-relaxed\",\"children\":\"Master advanced JavaScript patterns, design principles, and architectural concepts for scalable applications\"}]]}],[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 lg:grid-cols-3 gap-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"lg:col-span-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-8\",\"children\":[\"$\",\"$L6\",null,{\"content\":\"$7\"}]}]}],[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-semibold text-gray-900 mb-4\",\"children\":\"Your Progress\"}],[\"$\",\"div\",null,{\"className\":\"w-full bg-gray-200 rounded-full h-2 mb-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"bg-blue-600 h-2 rounded-full\",\"style\":{\"width\":\"25%\"}}]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-gray-600\",\"children\":\"25% Complete\"}]]}],false]}]]}]]}],null],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"learn\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"learn\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/interview/_next/static/css/387024c6a2216908.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],\"params\":{}}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"2\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>