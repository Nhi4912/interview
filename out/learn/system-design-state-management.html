<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/interview/_next/static/css/387024c6a2216908.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js"/><script src="/interview/_next/static/chunks/fd9d1056-6922f449a204c2cc.js" async=""></script><script src="/interview/_next/static/chunks/117-e7ecc085ce9cfab3.js" async=""></script><script src="/interview/_next/static/chunks/main-app-b06be5f3411c20c3.js" async=""></script><script src="/interview/_next/static/chunks/918-3273b83890f10546.js" async=""></script><script src="/interview/_next/static/chunks/972-011bba60ed155615.js" async=""></script><script src="/interview/_next/static/chunks/930-3262a6c9c5acace4.js" async=""></script><script src="/interview/_next/static/chunks/app/learn/%5Btopic%5D/page-4ab144227f7a7b3e.js" async=""></script><script src="/interview/_next/static/chunks/710-dfaa11b4dff08f8e.js" async=""></script><script src="/interview/_next/static/chunks/233-3e0c1d820a17eca9.js" async=""></script><script src="/interview/_next/static/chunks/app/layout-333f4adcd11f8f39.js" async=""></script><title>Frontend Interview Prep 2025 - Big Tech Interview Guide</title><meta name="description" content="Comprehensive frontend interview preparation for Big Tech companies including React, TypeScript, algorithms, and system design."/><link rel="icon" href="/favicon.ico"/><meta name="theme-color" content="#1a1a1a"/><meta property="og:title" content="Frontend Interview Prep 2025"/><meta property="og:description" content="Complete guide for frontend engineers targeting Big Tech companies"/><meta property="og:type" content="website"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"/><meta name="next-size-adjust"/><script src="/interview/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-styled="" data-styled-version="6.1.19">*{margin:0;padding:0;box-sizing:border-box;}/*!sc*/
html{font-size:16px;line-height:1.5;scroll-behavior:smooth;}/*!sc*/
body{font-family:Inter,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;font-size:1rem;line-height:1.5;color:#1e293b;background-color:#ffffff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:700;line-height:1.25;margin-bottom:0.5em;}/*!sc*/
h1{font-size:3rem;}/*!sc*/
@media (max-width: 768px){h1{font-size:2.25rem;}}/*!sc*/
h2{font-size:2.25rem;}/*!sc*/
@media (max-width: 768px){h2{font-size:1.875rem;}}/*!sc*/
h3{font-size:1.875rem;}/*!sc*/
@media (max-width: 768px){h3{font-size:1.5rem;}}/*!sc*/
h4{font-size:1.5rem;}/*!sc*/
@media (max-width: 768px){h4{font-size:1.25rem;}}/*!sc*/
h5{font-size:1.25rem;}/*!sc*/
h6{font-size:1.125rem;}/*!sc*/
p{margin-bottom:1rem;line-height:1.75;}/*!sc*/
a{color:#3b82f6;text-decoration:none;transition:color 0.15s ease;}/*!sc*/
a:hover{color:#2563eb;}/*!sc*/
a:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
button{cursor:pointer;border:none;background:none;font-family:inherit;font-size:inherit;}/*!sc*/
button:disabled{cursor:not-allowed;opacity:0.6;}/*!sc*/
button:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
input,textarea,select{font-family:inherit;font-size:inherit;}/*!sc*/
input:focus,textarea:focus,select:focus{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
img{max-width:100%;height:auto;}/*!sc*/
ul,ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
li{margin-bottom:0.25rem;}/*!sc*/
blockquote{margin:1rem 0;padding:1rem;border-left:4px solid #3b82f6;background-color:#f1f5f9;font-style:italic;}/*!sc*/
code{font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;background-color:#f1f5f9;padding:0.2em 0.4em;border-radius:0.25rem;}/*!sc*/
pre{background-color:#f1f5f9;padding:1rem;border-radius:0.5rem;overflow-x:auto;margin-bottom:1rem;}/*!sc*/
pre code{background:none;padding:0;}/*!sc*/
table{width:100%;border-collapse:collapse;margin-bottom:1rem;}/*!sc*/
th,td{padding:0.75rem;text-align:left;border-bottom:1px solid #e2e8f0;}/*!sc*/
th{font-weight:600;background-color:#f1f5f9;}/*!sc*/
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0;}/*!sc*/
.skip-link{position:absolute;top:-40px;left:6px;background:#3b82f6;color:white;padding:8px;text-decoration:none;border-radius:4px;z-index:100;}/*!sc*/
.skip-link:focus{top:6px;}/*!sc*/
::-webkit-scrollbar{width:8px;height:8px;}/*!sc*/
::-webkit-scrollbar-track{background:#f1f5f9;}/*!sc*/
::-webkit-scrollbar-thumb{background:#94a3b8;border-radius:4px;}/*!sc*/
::-webkit-scrollbar-thumb:hover{background:#64748b;}/*!sc*/
::selection{background:#3b82f6;color:white;}/*!sc*/
.focus-visible{outline:2px solid #3b82f6;outline-offset:2px;}/*!sc*/
.fade-in{opacity:0;animation:fadeIn 0.3s ease forwards;}/*!sc*/
.slide-up{transform:translateY(20px);opacity:0;animation:slideUp 0.3s ease forwards;}/*!sc*/
@keyframes fadeIn{to{opacity:1;}}/*!sc*/
@keyframes slideUp{to{transform:translateY(0);opacity:1;}}/*!sc*/
@media print{*{background:white!important;color:black!important;box-shadow:none!important;text-shadow:none!important;}a,a:visited{text-decoration:underline;}h1,h2,h3,h4,h5,h6{break-after:avoid;}pre,blockquote{border:1px solid #999;break-inside:avoid;}img{max-width:100%!important;}@page{margin:0.5in;}}/*!sc*/
data-styled.g21[id="sc-global-kxA-Ddz1"]{content:"sc-global-kxA-Ddz1,"}/*!sc*/
.iIQwfN{position:fixed;top:0;width:100%;z-index:1020;background:transparent;backdrop-filter:blur(10px);border-bottom:1px solid transparent;transition:all 0.3s ease;}/*!sc*/
data-styled.g22[id="sc-gGKoUb"]{content:"iIQwfN,"}/*!sc*/
.cEuiWg{max-width:1200px;margin:0 auto;padding:0 2rem;display:flex;align-items:center;justify-content:space-between;height:70px;}/*!sc*/
data-styled.g23[id="sc-hwddKA"]{content:"cEuiWg,"}/*!sc*/
.bqPomF{display:flex;align-items:center;gap:0.5rem;font-size:1.5rem;font-weight:700;color:#3b82f6;text-decoration:none;cursor:pointer;}/*!sc*/
.bqPomF:hover{color:#2563eb;}/*!sc*/
data-styled.g24[id="sc-jaXbil"]{content:"bqPomF,"}/*!sc*/
.iwwpNe{display:flex;align-items:center;gap:2rem;}/*!sc*/
@media (max-width: 768px){.iwwpNe{display:none;}}/*!sc*/
data-styled.g25[id="sc-eqNDNG"]{content:"iwwpNe,"}/*!sc*/
.iuGltB{color:#1e293b;font-weight:500;text-decoration:none;transition:color 0.15s ease;position:relative;}/*!sc*/
.iuGltB:hover{color:#3b82f6;}/*!sc*/
.iuGltB:after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:#3b82f6;transition:width 0.15s ease;}/*!sc*/
.iuGltB:hover:after{width:100%;}/*!sc*/
data-styled.g26[id="sc-fVHBlr"]{content:"iuGltB,"}/*!sc*/
.lmsDAj{display:none;background:none;border:none;color:#1e293b;cursor:pointer;padding:0.5rem;}/*!sc*/
@media (max-width: 768px){.lmsDAj{display:block;}}/*!sc*/
data-styled.g27[id="sc-gLaqbQ"]{content:"lmsDAj,"}/*!sc*/
.keTsRT{display:flex;align-items:center;gap:0.5rem;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:0.5rem;padding:0.5rem 1rem;color:#64748b;font-size:0.9rem;transition:all 0.15s ease;}/*!sc*/
.keTsRT:hover{background:#ffffff;border-color:#3b82f6;}/*!sc*/
data-styled.g31[id="sc-cOpnSz"]{content:"keTsRT,"}/*!sc*/
.hrfQfY{background:#1e293b;color:white;padding:3rem 0 1rem;margin-top:auto;}/*!sc*/
data-styled.g32[id="sc-kjwdDK"]{content:"hrfQfY,"}/*!sc*/
.dwFHjZ{max-width:1200px;margin:0 auto;padding:0 2rem;}/*!sc*/
data-styled.g33[id="sc-eVqvcJ"]{content:"dwFHjZ,"}/*!sc*/
.kWATso{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:2rem;margin-bottom:2rem;}/*!sc*/
@media (max-width: 768px){.kWATso{grid-template-columns:1fr 1fr;gap:1.5rem;}}/*!sc*/
@media (max-width: 480px){.kWATso{grid-template-columns:1fr;}}/*!sc*/
data-styled.g34[id="sc-bbbBoY"]{content:"kWATso,"}/*!sc*/
.fBmmqS h3{font-size:1.1rem;font-weight:600;margin-bottom:1rem;color:white;}/*!sc*/
.fBmmqS ul{list-style:none;padding:0;margin:0;}/*!sc*/
.fBmmqS li{margin-bottom:0.5rem;}/*!sc*/
.fBmmqS a{color:rgba(255, 255, 255, 0.7);text-decoration:none;transition:color 0.15s ease;}/*!sc*/
.fBmmqS a:hover{color:white;}/*!sc*/
data-styled.g35[id="sc-cdmAjP"]{content:"fBmmqS,"}/*!sc*/
.iNKxsb{display:flex;align-items:center;gap:0.5rem;font-size:1.2rem;font-weight:700;margin-bottom:1rem;color:white;}/*!sc*/
data-styled.g36[id="sc-jytpVa"]{content:"iNKxsb,"}/*!sc*/
.fYhkiV{color:rgba(255, 255, 255, 0.7);line-height:1.6;margin-bottom:1rem;}/*!sc*/
data-styled.g37[id="sc-eknHtZ"]{content:"fYhkiV,"}/*!sc*/
.eVAQiq{display:flex;gap:1rem;}/*!sc*/
.eVAQiq a{display:flex;align-items:center;justify-content:center;width:40px;height:40px;background:rgba(255, 255, 255, 0.1);border-radius:0.5rem;color:rgba(255, 255, 255, 0.7);transition:all 0.15s ease;}/*!sc*/
.eVAQiq a:hover{background:rgba(255, 255, 255, 0.2);color:white;}/*!sc*/
data-styled.g38[id="sc-pYNGo"]{content:"eVAQiq,"}/*!sc*/
.fgJmHp{border-top:1px solid rgba(255, 255, 255, 0.1);padding-top:2rem;display:flex;justify-content:space-between;align-items:center;}/*!sc*/
@media (max-width: 768px){.fgJmHp{flex-direction:column;gap:1rem;text-align:center;}}/*!sc*/
data-styled.g39[id="sc-cCVJLD"]{content:"fgJmHp,"}/*!sc*/
.gYGLHT{color:rgba(255, 255, 255, 0.7);margin:0;font-size:0.9rem;}/*!sc*/
data-styled.g40[id="sc-jYczwO"]{content:"gYGLHT,"}/*!sc*/
.ghBULZ{display:flex;gap:2rem;}/*!sc*/
@media (max-width: 480px){.ghBULZ{flex-direction:column;gap:1rem;}}/*!sc*/
.ghBULZ a{color:rgba(255, 255, 255, 0.7);text-decoration:none;font-size:0.9rem;transition:color 0.15s ease;}/*!sc*/
.ghBULZ a:hover{color:white;}/*!sc*/
data-styled.g41[id="sc-dNFkOE"]{content:"ghBULZ,"}/*!sc*/
.fUIuKh{color:#1e293b;line-height:1.6;}/*!sc*/
.fUIuKh h1,.fUIuKh h2,.fUIuKh h3,.fUIuKh h4,.fUIuKh h5,.fUIuKh h6{color:#1e293b;margin-top:2rem;margin-bottom:1rem;font-weight:600;}/*!sc*/
.fUIuKh h1{font-size:2rem;border-bottom:2px solid #e2e8f0;padding-bottom:0.5rem;}/*!sc*/
.fUIuKh h2{font-size:1.5rem;border-bottom:1px solid #e2e8f0;padding-bottom:0.3rem;}/*!sc*/
.fUIuKh h3{font-size:1.25rem;}/*!sc*/
.fUIuKh h4{font-size:1.1rem;}/*!sc*/
.fUIuKh p{margin-bottom:1rem;color:#64748b;}/*!sc*/
.fUIuKh a{color:#3b82f6;text-decoration:none;}/*!sc*/
.fUIuKh a:hover{text-decoration:underline;}/*!sc*/
.fUIuKh ul,.fUIuKh ol{margin-bottom:1rem;padding-left:1.5rem;}/*!sc*/
.fUIuKh ul li,.fUIuKh ol li{margin-bottom:0.5rem;color:#64748b;}/*!sc*/
.fUIuKh blockquote{border-left:4px solid #3b82f6;padding-left:1rem;margin:1rem 0;font-style:italic;color:#64748b;background:#f1f5f9;padding:1rem;border-radius:0.5rem;}/*!sc*/
.fUIuKh code{background:#f1f5f9;padding:0.2rem 0.4rem;border-radius:0.25rem;font-family:SFMono-Regular,Consolas,"Liberation Mono",Menlo,monospace;font-size:0.9em;color:#f59e0b;}/*!sc*/
.fUIuKh pre{background:#ffffff;border:1px solid #e2e8f0;border-radius:0.5rem;padding:1rem;margin:1rem 0;overflow-x:auto;}/*!sc*/
.fUIuKh pre code{background:none;padding:0;color:#1e293b;font-size:0.9rem;}/*!sc*/
.fUIuKh table{width:100%;border-collapse:collapse;margin:1rem 0;}/*!sc*/
.fUIuKh table th,.fUIuKh table td{border:1px solid #e2e8f0;padding:0.5rem;text-align:left;}/*!sc*/
.fUIuKh table th{background:#ffffff;font-weight:600;}/*!sc*/
.fUIuKh table tr:nth-child(even){background:#f1f5f9;}/*!sc*/
.fUIuKh hr{border:none;height:1px;background:#e2e8f0;margin:2rem 0;}/*!sc*/
.fUIuKh .highlight{background:#3b82f620;padding:0.2rem 0.4rem;border-radius:0.25rem;font-weight:600;}/*!sc*/
.fUIuKh .hljs{background:#ffffff;color:#1e293b;}/*!sc*/
.fUIuKh .hljs-keyword{color:#3b82f6;font-weight:600;}/*!sc*/
.fUIuKh .hljs-string{color:#10b981;}/*!sc*/
.fUIuKh .hljs-function{color:#f59e0b;}/*!sc*/
.fUIuKh .hljs-comment{color:#94a3b8;font-style:italic;}/*!sc*/
.fUIuKh .hljs-number{color:#f59e0b;}/*!sc*/
.fUIuKh .hljs-variable{color:#1e293b;}/*!sc*/
.fUIuKh .hljs-title{color:#f59e0b;font-weight:600;}/*!sc*/
data-styled.g42[id="sc-fszimp"]{content:"fUIuKh,"}/*!sc*/
</style></head><body class="__className_6eac61"><div style="min-height:100vh;display:flex;flex-direction:column"><nav class="sc-gGKoUb iIQwfN"><div class="sc-hwddKA cEuiWg"><a href="/interview"><a class="sc-jaXbil bqPomF"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</a></a><div class="sc-eqNDNG iwwpNe"><a href="/interview/problems"><a class="sc-fVHBlr iuGltB">Problems</a></a><a href="/interview/learn"><a class="sc-fVHBlr iuGltB">Learn</a></a><a href="/interview/study-guide"><a class="sc-fVHBlr iuGltB">Study Guide</a></a><a href="/interview/system-design"><a class="sc-fVHBlr iuGltB">System Design</a></a><a href="/interview/performance"><a class="sc-fVHBlr iuGltB">Performance</a></a><a href="/interview/accessibility"><a class="sc-fVHBlr iuGltB">Accessibility</a></a><a href="/interview/interview-tips"><a class="sc-fVHBlr iuGltB">Interview Tips</a></a><button class="sc-cOpnSz keTsRT"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search "><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg>Search</button></div><button class="sc-gLaqbQ lmsDAj"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu "><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button></div></nav><main style="flex:1"><div class="max-w-6xl mx-auto px-8 py-24"><div class="flex items-center gap-4 mb-8"><a href="/interview/learn"><button class="flex items-center gap-2 bg-gray-100 border border-gray-300 text-gray-700 px-4 py-3 rounded-md font-medium hover:bg-gray-200 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-arrow-left "><path d="m12 19-7-7 7-7"></path><path d="M19 12H5"></path></svg>Back to Learn</button></a></div><div class="bg-white border border-gray-200 rounded-lg p-8 mb-8"><div class="flex items-center justify-between mb-4"><h1 class="text-3xl font-bold text-gray-900">State Management for Frontend Interviews</h1><div class="flex gap-4"><button class="flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-star "><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon></svg>Bookmark</button><button class="flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-share2 "><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"></line><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"></line></svg>Share</button></div></div><div class="flex gap-8 mb-4"><div class="flex items-center gap-2 text-sm text-gray-600"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-clock "><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg>2-3 hours</div><span class="px-3 py-1 rounded-full text-xs font-semibold text-white bg-yellow-500">Intermediate</span><span class="px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700">General</span></div><p class="text-lg text-gray-700 leading-relaxed">**Quản lý trạng thái cho phỏng vấn Frontend**...</p></div><div class="grid grid-cols-1 lg:grid-cols-3 gap-8"><div class="lg:col-span-2"><div class="bg-white border border-gray-200 rounded-lg p-8"><div class="sc-fszimp fUIuKh"><h1 id="state-management-for-frontend-interviews" node="[object Object]">State Management for Frontend Interviews</h1>
<p><strong>Quản lý trạng thái cho phỏng vấn Frontend</strong></p>
<h2 id="1.-why-state-management?" node="[object Object]">1. Why State Management?</h2>
<ul>
<li><strong>Local state:</strong> useState, useReducer, component state.</li>
<li><strong>Global state:</strong> Shared across app (user, theme, cart).</li>
<li><strong>Server state:</strong> Data from API, cache, sync.</li>
</ul>
<h2 id="2.-tools-&amp;-libraries" node="[object Object]">2. Tools &amp; Libraries</h2>
<ul>
<li><strong>Redux:</strong> Predictable, single source, middleware (thunk, saga), devtools.</li>
<li><strong>Context API:</strong> Lightweight, for small/medium apps, avoid prop drilling.</li>
<li><strong>MobX:</strong> Observable, reactive, less boilerplate.</li>
<li><strong>Zustand:</strong> Minimal, hooks-based, scalable.</li>
<li><strong>Recoil:</strong> Atom/selectors, async, React integration.</li>
<li><strong>Jotai, XState, Akita:</strong> Other options.</li>
</ul>
<h2 id="3.-patterns" node="[object Object]">3. Patterns</h2>
<ul>
<li><strong>Lifting state up:</strong> Move state to common ancestor.</li>
<li><strong>Derived state:</strong> Compute from other state, avoid duplication.</li>
<li><strong>Selector functions:</strong> Memoize, reselect.</li>
<li><strong>Normalized state:</strong> Store by ID, avoid deep nesting.</li>
</ul>
<h2 id="4.-best-practices" node="[object Object]">4. Best Practices</h2>
<ul>
<li><strong>Keep state minimal:</strong> Only what you need.</li>
<li><strong>Avoid prop drilling:</strong> Use context or global store.</li>
<li><strong>Immutable updates:</strong> Spread/rest, immer.</li>
<li><strong>Testing:</strong> Mock store, test reducers/selectors.</li>
<li><strong>Performance:</strong> Avoid unnecessary re-renders, use memoization.</li>
</ul>
<h2 id="5.-interview-questions" node="[object Object]">5. Interview Questions</h2>
<ul>
<li>When to use Redux vs Context?</li>
<li>How to handle async state (API calls)?</li>
<li>How to avoid prop drilling?</li>
<li>How to test state logic?</li>
</ul>
<h2 id="6.-resources" node="[object Object]">6. Resources</h2>
<ul>
<li><a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer" node="[object Object]">Redux Docs</a></li>
<li><a href="https://mobx.js.org/" target="_blank" rel="noopener noreferrer" node="[object Object]">MobX Docs</a></li>
<li><a href="https://docs.pmnd.rs/zustand/getting-started/introduction" target="_blank" rel="noopener noreferrer" node="[object Object]">Zustand</a></li>
<li><a href="https://recoiljs.org/" target="_blank" rel="noopener noreferrer" node="[object Object]">Recoil</a></li>
</ul>
<h1 id="state-management-interview-preparation" node="[object Object]">State Management Interview Preparation</h1>
<h2 id="core-concepts" node="[object Object]">Core Concepts</h2>
<h3 id="state-management-fundamentals" node="[object Object]">State Management Fundamentals</h3>
<ul>
<li><strong>Local State</strong>: Component-level state (useState, useReducer)</li>
<li><strong>Global State</strong>: Application-wide state shared across components</li>
<li><strong>Server State</strong>: Data fetched from APIs and cached</li>
<li><strong>Form State</strong>: User input and form validation state</li>
<li><strong>UI State</strong>: Loading, error, modal, navigation states</li>
</ul>
<h3 id="state-management-patterns" node="[object Object]">State Management Patterns</h3>
<ul>
<li><strong>Flux Architecture</strong>: Unidirectional data flow</li>
<li><strong>Redux Pattern</strong>: Predictable state container</li>
<li><strong>Context API</strong>: React&#x27;s built-in state sharing</li>
<li><strong>Atomic State</strong>: Small, focused state pieces</li>
<li><strong>Event Sourcing</strong>: State as sequence of events</li>
</ul>
<h2 id="advanced-topics" node="[object Object]">Advanced Topics</h2>
<h3 id="modern-state-management" node="[object Object]">Modern State Management</h3>
<ul>
<li><strong>Redux Toolkit</strong>: Simplified Redux with RTK Query</li>
<li><strong>Zustand</strong>: Lightweight state management</li>
<li><strong>Jotai</strong>: Atomic state management</li>
<li><strong>Recoil</strong>: Facebook&#x27;s experimental state management</li>
<li><strong>XState</strong>: State machines and statecharts</li>
</ul>
<h3 id="state-synchronization" node="[object Object]">State Synchronization</h3>
<ul>
<li><strong>Optimistic Updates</strong>: Update UI before server confirmation</li>
<li><strong>Pessimistic Updates</strong>: Wait for server response</li>
<li><strong>Real-time Sync</strong>: WebSocket state synchronization</li>
<li><strong>Offline Support</strong>: Local state with sync when online</li>
<li><strong>Conflict Resolution</strong>: Handling concurrent updates</li>
</ul>
<h2 id="common-interview-questions-&amp;-answers" node="[object Object]">Common Interview Questions &amp; Answers</h2>
<h3 id="state-management-questions" node="[object Object]">State Management Questions</h3>
<p><strong>Q: When would you use Redux vs Context API vs local state?</strong>
A:</p>
<ul>
<li><strong>Local State</strong>: Component-specific data, form inputs, UI toggles</li>
<li><strong>Context API</strong>: Theme, authentication, user preferences, simple global state</li>
<li><strong>Redux</strong>: Complex application state, multiple data sources, debugging needs</li>
</ul>
<p><strong>Q: Explain the Redux flow and its three principles.</strong>
A: Redux follows unidirectional data flow:</p>
<ol>
<li><strong>Store</strong>: Single source of truth</li>
<li><strong>Actions</strong>: Plain objects describing what happened</li>
<li><strong>Reducers</strong>: Pure functions that update state</li>
</ol>
<p><strong>Three Principles</strong>:</p>
<ul>
<li>Single source of truth</li>
<li>State is read-only</li>
<li>Changes made with pure functions</li>
</ul>
<p><strong>Q: What are the benefits and drawbacks of Redux?</strong>
A:
<strong>Benefits</strong>:</p>
<ul>
<li>Predictable state updates</li>
<li>Great debugging with DevTools</li>
<li>Middleware ecosystem</li>
<li>Time-travel debugging</li>
</ul>
<p><strong>Drawbacks</strong>:</p>
<ul>
<li>Boilerplate code</li>
<li>Learning curve</li>
<li>Overkill for simple apps</li>
<li>Performance overhead</li>
</ul>
<h3 id="advanced-questions" node="[object Object]">Advanced Questions</h3>
<p><strong>Q: How would you implement optimistic updates in a state management system?</strong>
A: Optimistic updates modify UI immediately, then sync with server:</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// Redux Toolkit example</span>
<span class="hljs-keyword">const</span> userSlice = <span class="hljs-title function_">createSlice</span>({
  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;user&quot;</span>,
  <span class="hljs-attr">initialState</span>: { <span class="hljs-attr">users</span>: [], <span class="hljs-attr">loading</span>: <span class="hljs-literal">false</span> },
  <span class="hljs-attr">reducers</span>: {
    <span class="hljs-attr">addUserOptimistic</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      state.<span class="hljs-property">users</span>.<span class="hljs-title function_">push</span>({ ...action.<span class="hljs-property">payload</span>, <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;temp-&quot;</span> + <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() });
    },
    <span class="hljs-attr">addUserSuccess</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> index = state.<span class="hljs-property">users</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function">(<span class="hljs-params">u</span>) =&gt;</span> u.<span class="hljs-property">id</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;temp-&quot;</span>));
      <span class="hljs-keyword">if</span> (index !== -<span class="hljs-number">1</span>) {
        state.<span class="hljs-property">users</span>[index] = action.<span class="hljs-property">payload</span>;
      }
    },
    <span class="hljs-attr">addUserFailure</span>: <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
      state.<span class="hljs-property">users</span> = state.<span class="hljs-property">users</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">u</span>) =&gt;</span> !u.<span class="hljs-property">id</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;temp-&quot;</span>));
    },
  },
});

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">addUser</span> = (<span class="hljs-params">userData</span>) =&gt; <span class="hljs-title function_">async</span> (dispatch) =&gt; {
  <span class="hljs-comment">// Optimistic update</span>
  <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">addUserOptimistic</span>(userData));

  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> api.<span class="hljs-title function_">createUser</span>(userData);
    <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">addUserSuccess</span>(response.<span class="hljs-property">data</span>));
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">addUserFailure</span>(error));
  }
};
</code></pre></pre>
<p><strong>Q: How would you implement real-time state synchronization?</strong>
A: Using WebSockets with state management:</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">RealTimeStateManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">store</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span> = store;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span> = <span class="hljs-literal">null</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> = <span class="hljs-number">0</span>;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxReconnectAttempts</span> = <span class="hljs-number">5</span>;
  }

  <span class="hljs-title function_">connect</span>(<span class="hljs-params">url</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WebSocket</span>(url);

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span>.<span class="hljs-property">onopen</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebSocket connected&quot;</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> = <span class="hljs-number">0</span>;
    };

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span>.<span class="hljs-property">onmessage</span> = <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(event.<span class="hljs-property">data</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleMessage</span>(data);
    };

    <span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span>.<span class="hljs-property">onclose</span> = <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;WebSocket disconnected&quot;</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">scheduleReconnect</span>();
    };
  }

  <span class="hljs-title function_">handleMessage</span>(<span class="hljs-params">data</span>) {
    <span class="hljs-keyword">switch</span> (data.<span class="hljs-property">type</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;USER_UPDATED&quot;</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">updateUser</span>(data.<span class="hljs-property">payload</span>));
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;MESSAGE_RECEIVED&quot;</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">addMessage</span>(data.<span class="hljs-property">payload</span>));
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;STATUS_CHANGED&quot;</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-property">store</span>.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">updateUserStatus</span>(data.<span class="hljs-property">payload</span>));
        <span class="hljs-keyword">break</span>;
    }
  }

  <span class="hljs-title function_">sendMessage</span>(<span class="hljs-params">type, payload</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span>?.<span class="hljs-property">readyState</span> === <span class="hljs-title class_">WebSocket</span>.<span class="hljs-property">OPEN</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span>.<span class="hljs-title function_">send</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>({ type, payload }));
    }
  }

  <span class="hljs-title function_">scheduleReconnect</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">maxReconnectAttempts</span>) {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span>++;
      <span class="hljs-keyword">const</span> delay = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">reconnectAttempts</span>) * <span class="hljs-number">1000</span>;

      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">connect</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">socket</span>.<span class="hljs-property">url</span>);
      }, delay);
    }
  }
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> realTimeManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RealTimeStateManager</span>(store);
realTimeManager.<span class="hljs-title function_">connect</span>(<span class="hljs-string">&quot;wss://api.example.com/ws&quot;</span>);
</code></pre></pre>
<h2 id="practical-problems-&amp;-solutions" node="[object Object]">Practical Problems &amp; Solutions</h2>
<h3 id="problem-1:-implement-a-custom-state-management-library" node="[object Object]">Problem 1: Implement a Custom State Management Library</h3>
<p><strong>Challenge</strong>: Create a lightweight state management library similar to Zustand.</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SimpleStore</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">initialState = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = initialState;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span> = [];
  }

  <span class="hljs-title function_">getState</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>;
  }

  <span class="hljs-title function_">setState</span>(<span class="hljs-params">partial</span>) {
    <span class="hljs-keyword">const</span> prevState = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, ...partial };

    <span class="hljs-comment">// Run middleware</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">middleware</span>) =&gt;</span> {
      <span class="hljs-title function_">middleware</span>(prevState, <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>);
    });

    <span class="hljs-comment">// Notify listeners</span>
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">listener</span>) =&gt;</span> <span class="hljs-title function_">listener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, prevState));
  }

  <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">listener</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">add</span>(listener);

    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">delete</span>(listener);
    };
  }

  <span class="hljs-title function_">useMiddleware</span>(<span class="hljs-params">middleware</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">middleware</span>.<span class="hljs-title function_">push</span>(middleware);
  }

  <span class="hljs-comment">// Action creators</span>
  <span class="hljs-title function_">createAction</span>(<span class="hljs-params">type, payload</span>) {
    <span class="hljs-keyword">return</span> { type, payload, <span class="hljs-attr">timestamp</span>: <span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>() };
  }

  <span class="hljs-title function_">dispatch</span>(<span class="hljs-params">action</span>) {
    <span class="hljs-comment">// Log action for debugging</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Action:&quot;</span>, action);

    <span class="hljs-comment">// Update state based on action</span>
    <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;INCREMENT&quot;</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">count</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> });
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;SET_USER&quot;</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">user</span>: action.<span class="hljs-property">payload</span> });
        <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;ADD_TODO&quot;</span>:
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({
          <span class="hljs-attr">todos</span>: [...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">todos</span>, action.<span class="hljs-property">payload</span>],
        });
        <span class="hljs-keyword">break</span>;
      <span class="hljs-attr">default</span>:
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">&quot;Unknown action type:&quot;</span>, action.<span class="hljs-property">type</span>);
    }
  }
}

<span class="hljs-comment">// React hook for using the store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useStore</span>(<span class="hljs-params">store, selector</span>) {
  <span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(<span class="hljs-function">() =&gt;</span> <span class="hljs-title function_">selector</span>(store.<span class="hljs-title function_">getState</span>()));

  <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> unsubscribe = store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">(<span class="hljs-params">newState</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> newSelectedState = <span class="hljs-title function_">selector</span>(newState);
      <span class="hljs-title function_">setState</span>(newSelectedState);
    });

    <span class="hljs-keyword">return</span> unsubscribe;
  }, [store, selector]);

  <span class="hljs-keyword">return</span> state;
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">SimpleStore</span>({
  <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,
  <span class="hljs-attr">user</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">todos</span>: [],
});

<span class="hljs-comment">// Add logging middleware</span>
store.<span class="hljs-title function_">useMiddleware</span>(<span class="hljs-function">(<span class="hljs-params">prevState, newState</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;State changed:&quot;</span>, { prevState, newState });
});

<span class="hljs-comment">// React component</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">Counter</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">useStore</span>(store, <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span>);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Count: {count}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> store.dispatch({ type: &quot;INCREMENT&quot; })}&gt;
        Increment
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}
</code></pre></pre>
<h3 id="problem-2:-create-a-form-state-manager" node="[object Object]">Problem 2: Create a Form State Manager</h3>
<p><strong>Challenge</strong>: Build a comprehensive form state management system with validation and error handling.</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">FormStateManager</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">initialValues = {}, validationSchema = {}</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">initialValues</span> = initialValues;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">validationSchema</span> = validationSchema;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = {
      <span class="hljs-attr">values</span>: { ...initialValues },
      <span class="hljs-attr">errors</span>: {},
      <span class="hljs-attr">touched</span>: {},
      <span class="hljs-attr">isValid</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">isDirty</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span>,
    };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
  }

  <span class="hljs-title function_">getFieldValue</span>(<span class="hljs-params">name</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">values</span>[name];
  }

  <span class="hljs-title function_">setFieldValue</span>(<span class="hljs-params">name, value</span>) {
    <span class="hljs-keyword">const</span> newValues = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">values</span>, [name]: value };
    <span class="hljs-keyword">const</span> newErrors = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(name, value);
    <span class="hljs-keyword">const</span> newTouched = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">touched</span>, [name]: <span class="hljs-literal">true</span> };

    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({
      <span class="hljs-attr">values</span>: newValues,
      <span class="hljs-attr">errors</span>: { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">errors</span>, [name]: newErrors[name] },
      <span class="hljs-attr">touched</span>: newTouched,
      <span class="hljs-attr">isDirty</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">isValid</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateForm</span>(newValues),
    });
  }

  <span class="hljs-title function_">setFieldError</span>(<span class="hljs-params">name, error</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({
      <span class="hljs-attr">errors</span>: { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">errors</span>, [name]: error },
      <span class="hljs-attr">isValid</span>: <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateForm</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">values</span>),
    });
  }

  <span class="hljs-title function_">validateField</span>(<span class="hljs-params">name, value</span>) {
    <span class="hljs-keyword">const</span> fieldSchema = <span class="hljs-variable language_">this</span>.<span class="hljs-property">validationSchema</span>[name];
    <span class="hljs-keyword">if</span> (!fieldSchema) <span class="hljs-keyword">return</span> {};

    <span class="hljs-keyword">const</span> errors = {};

    <span class="hljs-comment">// Required validation</span>
    <span class="hljs-keyword">if</span> (fieldSchema.<span class="hljs-property">required</span> &amp;&amp; (!value || value.<span class="hljs-title function_">trim</span>() === <span class="hljs-string">&quot;&quot;</span>)) {
      errors[name] = fieldSchema.<span class="hljs-property">required</span>;
    }

    <span class="hljs-comment">// Pattern validation</span>
    <span class="hljs-keyword">if</span> (fieldSchema.<span class="hljs-property">pattern</span> &amp;&amp; value &amp;&amp; !fieldSchema.<span class="hljs-property">pattern</span>.<span class="hljs-title function_">test</span>(value)) {
      errors[name] = fieldSchema.<span class="hljs-property">patternMessage</span> || <span class="hljs-string">&quot;Invalid format&quot;</span>;
    }

    <span class="hljs-comment">// Custom validation</span>
    <span class="hljs-keyword">if</span> (fieldSchema.<span class="hljs-property">validate</span>) {
      <span class="hljs-keyword">const</span> customError = fieldSchema.<span class="hljs-title function_">validate</span>(value, <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">values</span>);
      <span class="hljs-keyword">if</span> (customError) {
        errors[name] = customError;
      }
    }

    <span class="hljs-keyword">return</span> errors;
  }

  <span class="hljs-title function_">validateForm</span>(<span class="hljs-params">values</span>) {
    <span class="hljs-keyword">const</span> errors = {};

    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">validationSchema</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">fieldName</span>) =&gt;</span> {
      <span class="hljs-keyword">const</span> fieldErrors = <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">validateField</span>(fieldName, values[fieldName]);
      <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(errors, fieldErrors);
    });

    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(errors).<span class="hljs-property">length</span> === <span class="hljs-number">0</span>;
  }

  <span class="hljs-title function_">handleSubmit</span>(<span class="hljs-params">onSubmit</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">async</span> (event) =&gt; {
      event?.<span class="hljs-title function_">preventDefault</span>();

      <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">isValid</span>) {
        <span class="hljs-comment">// Mark all fields as touched to show errors</span>
        <span class="hljs-keyword">const</span> touched = {};
        <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">validationSchema</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> {
          touched[key] = <span class="hljs-literal">true</span>;
        });

        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ touched });
        <span class="hljs-keyword">return</span>;
      }

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">true</span> });

      <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">await</span> <span class="hljs-title function_">onSubmit</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>.<span class="hljs-property">values</span>);
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({ <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span> });
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({
          <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span>,
          <span class="hljs-attr">errors</span>: { <span class="hljs-attr">submit</span>: error.<span class="hljs-property">message</span> },
        });
      }
    };
  }

  <span class="hljs-title function_">reset</span>(<span class="hljs-params"></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">setState</span>({
      <span class="hljs-attr">values</span>: { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">initialValues</span> },
      <span class="hljs-attr">errors</span>: {},
      <span class="hljs-attr">touched</span>: {},
      <span class="hljs-attr">isValid</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">isDirty</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">isSubmitting</span>: <span class="hljs-literal">false</span>,
    });
  }

  <span class="hljs-title function_">setState</span>(<span class="hljs-params">partial</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span> = { ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>, ...partial };
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">listener</span>) =&gt;</span> <span class="hljs-title function_">listener</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">state</span>));
  }

  <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">listener</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">add</span>(listener);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">listeners</span>.<span class="hljs-title function_">delete</span>(listener);
  }
}

<span class="hljs-comment">// React hook for form state</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">useFormState</span>(<span class="hljs-params">formManager</span>) {
  <span class="hljs-keyword">const</span> [state, setState] = <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useState</span>(formManager.<span class="hljs-property">state</span>);

  <span class="hljs-title class_">React</span>.<span class="hljs-title function_">useEffect</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">return</span> formManager.<span class="hljs-title function_">subscribe</span>(setState);
  }, [formManager]);

  <span class="hljs-keyword">return</span> {
    ...state,
    <span class="hljs-attr">setFieldValue</span>: formManager.<span class="hljs-property">setFieldValue</span>.<span class="hljs-title function_">bind</span>(formManager),
    <span class="hljs-attr">setFieldError</span>: formManager.<span class="hljs-property">setFieldError</span>.<span class="hljs-title function_">bind</span>(formManager),
    <span class="hljs-attr">handleSubmit</span>: formManager.<span class="hljs-property">handleSubmit</span>.<span class="hljs-title function_">bind</span>(formManager),
    <span class="hljs-attr">reset</span>: formManager.<span class="hljs-property">reset</span>.<span class="hljs-title function_">bind</span>(formManager),
  };
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> validationSchema = {
  <span class="hljs-attr">email</span>: {
    <span class="hljs-attr">required</span>: <span class="hljs-string">&quot;Email is required&quot;</span>,
    <span class="hljs-attr">pattern</span>: <span class="hljs-regexp">/^[^\s@]+@[^\s@]+\.[^\s@]+$/</span>,
    <span class="hljs-attr">patternMessage</span>: <span class="hljs-string">&quot;Invalid email format&quot;</span>,
  },
  <span class="hljs-attr">password</span>: {
    <span class="hljs-attr">required</span>: <span class="hljs-string">&quot;Password is required&quot;</span>,
    <span class="hljs-attr">validate</span>: <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> {
      <span class="hljs-keyword">if</span> (value.<span class="hljs-property">length</span> &lt; <span class="hljs-number">8</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Password must be at least 8 characters&quot;</span>;
      }
      <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    },
  },
};

<span class="hljs-keyword">const</span> formManager = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormStateManager</span>(
  { <span class="hljs-attr">email</span>: <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-attr">password</span>: <span class="hljs-string">&quot;&quot;</span> },
  validationSchema
);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">LoginForm</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> {
    values,
    errors,
    touched,
    isValid,
    isSubmitting,
    setFieldValue,
    handleSubmit,
  } = <span class="hljs-title function_">useFormState</span>(formManager);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">onSubmit</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">values</span>) =&gt; {
    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;/api/login&quot;</span>, {
      <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;POST&quot;</span>,
      <span class="hljs-attr">headers</span>: { <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span> },
      <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(values),
    });

    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Login failed&quot;</span>);
    }
  };

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{handleSubmit(onSubmit)}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;email&quot;</span>
          <span class="hljs-attr">value</span>=<span class="hljs-string">{values.email}</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setFieldValue(&quot;email&quot;, e.target.value)}
          placeholder=&quot;Email&quot;
        /&gt;
        {touched.email &amp;&amp; errors.email &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;error&quot;</span>&gt;</span>{errors.email}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;password&quot;</span>
          <span class="hljs-attr">value</span>=<span class="hljs-string">{values.password}</span>
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> setFieldValue(&quot;password&quot;, e.target.value)}
          placeholder=&quot;Password&quot;
        /&gt;
        {touched.password &amp;&amp; errors.password &amp;&amp; (
          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">className</span>=<span class="hljs-string">&quot;error&quot;</span>&gt;</span>{errors.password}<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        )}
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;submit&quot;</span> <span class="hljs-attr">disabled</span>=<span class="hljs-string">{!isValid</span> || <span class="hljs-attr">isSubmitting</span>}&gt;</span>
        {isSubmitting ? &quot;Logging in...&quot; : &quot;Login&quot;}
      <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span>
  );
}
</code></pre></pre>
<h3 id="problem-3:-implement-redux-with-middleware" node="[object Object]">Problem 3: Implement Redux with Middleware</h3>
<p><strong>Challenge</strong>: Create a Redux-like state management system with middleware support.</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-comment">// Action types</span>
<span class="hljs-keyword">const</span> <span class="hljs-title class_">ActionTypes</span> = {
  <span class="hljs-attr">INIT</span>: <span class="hljs-string">&quot;@@redux/INIT&quot;</span>,
};

<span class="hljs-comment">// Create store</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createStore</span>(<span class="hljs-params">reducer, initialState, enhancer</span>) {
  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> enhancer === <span class="hljs-string">&quot;function&quot;</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">enhancer</span>(createStore)(reducer, initialState);
  }

  <span class="hljs-keyword">let</span> state = initialState;
  <span class="hljs-keyword">let</span> listeners = [];
  <span class="hljs-keyword">let</span> isDispatching = <span class="hljs-literal">false</span>;

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">getState</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">if</span> (isDispatching) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Cannot call getState while dispatching&quot;</span>);
    }
    <span class="hljs-keyword">return</span> state;
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">listener</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> listener !== <span class="hljs-string">&quot;function&quot;</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Listener must be a function&quot;</span>);
    }

    <span class="hljs-keyword">let</span> isSubscribed = <span class="hljs-literal">true</span>;
    listeners.<span class="hljs-title function_">push</span>(listener);

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">unsubscribe</span>(<span class="hljs-params"></span>) {
      <span class="hljs-keyword">if</span> (!isSubscribed) <span class="hljs-keyword">return</span>;

      isSubscribed = <span class="hljs-literal">false</span>;
      <span class="hljs-keyword">const</span> index = listeners.<span class="hljs-title function_">indexOf</span>(listener);
      listeners.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);
    };
  }

  <span class="hljs-keyword">function</span> <span class="hljs-title function_">dispatch</span>(<span class="hljs-params">action</span>) {
    <span class="hljs-keyword">if</span> (!action || <span class="hljs-keyword">typeof</span> action.<span class="hljs-property">type</span> === <span class="hljs-string">&quot;undefined&quot;</span>) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Actions must have a type property&quot;</span>);
    }

    <span class="hljs-keyword">if</span> (isDispatching) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Reducers may not dispatch actions&quot;</span>);
    }

    <span class="hljs-keyword">try</span> {
      isDispatching = <span class="hljs-literal">true</span>;
      state = <span class="hljs-title function_">reducer</span>(state, action);
    } <span class="hljs-keyword">finally</span> {
      isDispatching = <span class="hljs-literal">false</span>;
    }

    listeners.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">listener</span>) =&gt;</span> <span class="hljs-title function_">listener</span>());
    <span class="hljs-keyword">return</span> action;
  }

  <span class="hljs-comment">// Initialize store</span>
  <span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-title class_">ActionTypes</span>.<span class="hljs-property">INIT</span> });

  <span class="hljs-keyword">return</span> {
    getState,
    subscribe,
    dispatch,
  };
}

<span class="hljs-comment">// Apply middleware</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">applyMiddleware</span>(<span class="hljs-params">...middlewares</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">createStore</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">reducer, initialState</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(reducer, initialState);
    <span class="hljs-keyword">let</span> dispatch = store.<span class="hljs-property">dispatch</span>;

    <span class="hljs-keyword">const</span> middlewareAPI = {
      <span class="hljs-attr">getState</span>: store.<span class="hljs-property">getState</span>,
      <span class="hljs-attr">dispatch</span>: <span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> <span class="hljs-title function_">dispatch</span>(action),
    };

    <span class="hljs-keyword">const</span> chain = middlewares.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">middleware</span>) =&gt;</span> <span class="hljs-title function_">middleware</span>(middlewareAPI));
    dispatch = <span class="hljs-title function_">compose</span>(...chain)(store.<span class="hljs-property">dispatch</span>);

    <span class="hljs-keyword">return</span> {
      ...store,
      dispatch,
    };
  };
}

<span class="hljs-comment">// Compose functions</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">compose</span>(<span class="hljs-params">...funcs</span>) {
  <span class="hljs-keyword">if</span> (funcs.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">arg</span>) =&gt;</span> arg;
  }

  <span class="hljs-keyword">if</span> (funcs.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">return</span> funcs[<span class="hljs-number">0</span>];
  }

  <span class="hljs-keyword">return</span> funcs.<span class="hljs-title function_">reduce</span>(
    <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span>
      <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span>
        <span class="hljs-title function_">a</span>(<span class="hljs-title function_">b</span>(...args))
  );
}

<span class="hljs-comment">// Logger middleware</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">logger</span>(<span class="hljs-params">middlewareAPI</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">next</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> {
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">group</span>(action.<span class="hljs-property">type</span>);
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Previous State:&quot;</span>, middlewareAPI.<span class="hljs-title function_">getState</span>());
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Action:&quot;</span>, action);

    <span class="hljs-keyword">const</span> result = <span class="hljs-title function_">next</span>(action);

    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Next State:&quot;</span>, middlewareAPI.<span class="hljs-title function_">getState</span>());
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">groupEnd</span>();

    <span class="hljs-keyword">return</span> result;
  };
}

<span class="hljs-comment">// Thunk middleware</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">thunk</span>(<span class="hljs-params">middlewareAPI</span>) {
  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">next</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">action</span>) =&gt;</span> {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> action === <span class="hljs-string">&quot;function&quot;</span>) {
      <span class="hljs-keyword">return</span> <span class="hljs-title function_">action</span>(middlewareAPI.<span class="hljs-property">dispatch</span>, middlewareAPI.<span class="hljs-property">getState</span>);
    }
    <span class="hljs-keyword">return</span> <span class="hljs-title function_">next</span>(action);
  };
}

<span class="hljs-comment">// Example reducer</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">counterReducer</span>(<span class="hljs-params">state = { count: <span class="hljs-number">0</span> }, action</span>) {
  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;INCREMENT&quot;</span>:
      <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span> };
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;DECREMENT&quot;</span>:
      <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span> };
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;SET_COUNT&quot;</span>:
      <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">count</span>: action.<span class="hljs-property">payload</span> };
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> state;
  }
}

<span class="hljs-comment">// Action creators</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"></span>) =&gt; ({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;INCREMENT&quot;</span> });
<span class="hljs-keyword">const</span> <span class="hljs-title function_">decrement</span> = (<span class="hljs-params"></span>) =&gt; ({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;DECREMENT&quot;</span> });
<span class="hljs-keyword">const</span> <span class="hljs-title function_">setCount</span> = (<span class="hljs-params">count</span>) =&gt; ({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;SET_COUNT&quot;</span>, <span class="hljs-attr">payload</span>: count });

<span class="hljs-comment">// Async action creator</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">incrementAsync</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-function">(<span class="hljs-params">dispatch, getState</span>) =&gt;</span> {
  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">increment</span>());
  }, <span class="hljs-number">1000</span>);
};

<span class="hljs-comment">// Create store with middleware</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(
  counterReducer,
  { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> },
  <span class="hljs-title function_">applyMiddleware</span>(logger, thunk)
);

<span class="hljs-comment">// Usage</span>
store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;State:&quot;</span>, store.<span class="hljs-title function_">getState</span>());
});

store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">increment</span>()); <span class="hljs-comment">// 1</span>
store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">incrementAsync</span>()); <span class="hljs-comment">// 2 (after 1 second)</span>
store.<span class="hljs-title function_">dispatch</span>(<span class="hljs-title function_">setCount</span>(<span class="hljs-number">10</span>)); <span class="hljs-comment">// 10</span>
</code></pre></pre>
<h3 id="problem-4:-create-a-state-persistence-system" node="[object Object]">Problem 4: Create a State Persistence System</h3>
<p><strong>Challenge</strong>: Implement a system to persist and rehydrate state across browser sessions.</p>
<pre><pre><code class="hljs hljs language-javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">StatePersistence</span> {
  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">storage = <span class="hljs-variable language_">localStorage</span>, key = <span class="hljs-string">&quot;app-state&quot;</span></span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span> = storage;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = key;
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();
  }

  <span class="hljs-title function_">save</span>(<span class="hljs-params">state, options = {}</span>) {
    <span class="hljs-keyword">const</span> {
      includeKeys = <span class="hljs-literal">null</span>,
      excludeKeys = <span class="hljs-literal">null</span>,
      transform = <span class="hljs-literal">null</span>,
    } = options;

    <span class="hljs-keyword">let</span> stateToSave = state;

    <span class="hljs-comment">// Filter keys</span>
    <span class="hljs-keyword">if</span> (includeKeys) {
      stateToSave = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(state)
        .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> includeKeys.<span class="hljs-title function_">includes</span>(key))
        .<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">obj, key</span>) =&gt;</span> {
          obj[key] = state[key];
          <span class="hljs-keyword">return</span> obj;
        }, {});
    }

    <span class="hljs-keyword">if</span> (excludeKeys) {
      stateToSave = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(state)
        .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">key</span>) =&gt;</span> !excludeKeys.<span class="hljs-title function_">includes</span>(key))
        .<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">obj, key</span>) =&gt;</span> {
          obj[key] = state[key];
          <span class="hljs-keyword">return</span> obj;
        }, {});
    }

    <span class="hljs-comment">// Transform state</span>
    <span class="hljs-keyword">if</span> (transform) {
      stateToSave = <span class="hljs-title function_">transform</span>(stateToSave);
    }

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> serialized = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(stateToSave);
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>, serialized);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&quot;saved&quot;</span>, stateToSave);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Failed to save state:&quot;</span>, error);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&quot;error&quot;</span>, error);
    }
  }

  <span class="hljs-title function_">load</span>(<span class="hljs-params">options = {}</span>) {
    <span class="hljs-keyword">const</span> { transform = <span class="hljs-literal">null</span>, defaultValue = {} } = options;

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> serialized = <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>);
      <span class="hljs-keyword">if</span> (!serialized) {
        <span class="hljs-keyword">return</span> defaultValue;
      }

      <span class="hljs-keyword">let</span> state = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(serialized);

      <span class="hljs-comment">// Transform state</span>
      <span class="hljs-keyword">if</span> (transform) {
        state = <span class="hljs-title function_">transform</span>(state);
      }

      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&quot;loaded&quot;</span>, state);
      <span class="hljs-keyword">return</span> state;
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Failed to load state:&quot;</span>, error);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&quot;error&quot;</span>, error);
      <span class="hljs-keyword">return</span> defaultValue;
    }
  }

  <span class="hljs-title function_">clear</span>(<span class="hljs-params"></span>) {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-variable language_">this</span>.<span class="hljs-property">storage</span>.<span class="hljs-title function_">removeItem</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&quot;cleared&quot;</span>);
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Failed to clear state:&quot;</span>, error);
      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-string">&quot;error&quot;</span>, error);
    }
  }

  <span class="hljs-title function_">subscribe</span>(<span class="hljs-params">callback</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">add</span>(callback);
    <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">delete</span>(callback);
  }

  <span class="hljs-title function_">notifySubscribers</span>(<span class="hljs-params">event, data</span>) {
    <span class="hljs-variable language_">this</span>.<span class="hljs-property">subscribers</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">callback</span>) =&gt;</span> {
      <span class="hljs-keyword">try</span> {
        <span class="hljs-title function_">callback</span>(event, data);
      } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Subscriber error:&quot;</span>, error);
      }
    });
  }
}

<span class="hljs-comment">// Enhanced store with persistence</span>
<span class="hljs-keyword">function</span> <span class="hljs-title function_">createPersistentStore</span>(<span class="hljs-params">reducer, initialState, options = {}</span>) {
  <span class="hljs-keyword">const</span> {
    storage = <span class="hljs-variable language_">localStorage</span>,
    key = <span class="hljs-string">&quot;app-state&quot;</span>,
    includeKeys = <span class="hljs-literal">null</span>,
    excludeKeys = <span class="hljs-literal">null</span>,
    transform = <span class="hljs-literal">null</span>,
  } = options;

  <span class="hljs-keyword">const</span> persistence = <span class="hljs-keyword">new</span> <span class="hljs-title class_">StatePersistence</span>(storage, key);

  <span class="hljs-comment">// Load initial state from storage</span>
  <span class="hljs-keyword">const</span> savedState = persistence.<span class="hljs-title function_">load</span>({
    transform,
    <span class="hljs-attr">defaultValue</span>: initialState,
  });
  <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(reducer, savedState);

  <span class="hljs-comment">// Subscribe to state changes and save</span>
  store.<span class="hljs-title function_">subscribe</span>(<span class="hljs-function">() =&gt;</span> {
    <span class="hljs-keyword">const</span> currentState = store.<span class="hljs-title function_">getState</span>();
    persistence.<span class="hljs-title function_">save</span>(currentState, { includeKeys, excludeKeys, transform });
  });

  <span class="hljs-comment">// Add persistence methods to store</span>
  store.<span class="hljs-property">persist</span> = {
    <span class="hljs-attr">clear</span>: <span class="hljs-function">() =&gt;</span> persistence.<span class="hljs-title function_">clear</span>(),
    <span class="hljs-attr">on</span>: <span class="hljs-function">(<span class="hljs-params">event, callback</span>) =&gt;</span> persistence.<span class="hljs-title function_">subscribe</span>(callback),
  };

  <span class="hljs-keyword">return</span> store;
}

<span class="hljs-comment">// Usage</span>
<span class="hljs-keyword">const</span> <span class="hljs-title function_">counterReducer</span> = (<span class="hljs-params">state = { count: <span class="hljs-number">0</span>, lastUpdated: <span class="hljs-literal">null</span> }, action</span>) =&gt; {
  <span class="hljs-keyword">switch</span> (action.<span class="hljs-property">type</span>) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;INCREMENT&quot;</span>:
      <span class="hljs-keyword">return</span> {
        ...state,
        <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> + <span class="hljs-number">1</span>,
        <span class="hljs-attr">lastUpdated</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      };
    <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;DECREMENT&quot;</span>:
      <span class="hljs-keyword">return</span> {
        ...state,
        <span class="hljs-attr">count</span>: state.<span class="hljs-property">count</span> - <span class="hljs-number">1</span>,
        <span class="hljs-attr">lastUpdated</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toISOString</span>(),
      };
    <span class="hljs-attr">default</span>:
      <span class="hljs-keyword">return</span> state;
  }
};

<span class="hljs-comment">// Create persistent store</span>
<span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createPersistentStore</span>(
  counterReducer,
  { <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">lastUpdated</span>: <span class="hljs-literal">null</span> },
  {
    <span class="hljs-attr">key</span>: <span class="hljs-string">&quot;counter-state&quot;</span>,
    <span class="hljs-attr">includeKeys</span>: [<span class="hljs-string">&quot;count&quot;</span>], <span class="hljs-comment">// Only persist count</span>
    <span class="hljs-attr">transform</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({
      ...state,
      <span class="hljs-attr">version</span>: <span class="hljs-string">&quot;1.0&quot;</span>, <span class="hljs-comment">// Add version for migration</span>
    }),
  }
);

<span class="hljs-comment">// Listen to persistence events</span>
store.<span class="hljs-property">persist</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;saved&quot;</span>, <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;State saved:&quot;</span>, state);
});

store.<span class="hljs-property">persist</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;loaded&quot;</span>, <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;State loaded:&quot;</span>, state);
});

store.<span class="hljs-property">persist</span>.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;error&quot;</span>, <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> {
  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Persistence error:&quot;</span>, error);
});

<span class="hljs-comment">// Use the store</span>
store.<span class="hljs-title function_">dispatch</span>({ <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;INCREMENT&quot;</span> });
<span class="hljs-comment">// State will be automatically saved to localStorage</span>

<span class="hljs-comment">// Clear persisted state</span>
<span class="hljs-comment">// store.persist.clear();</span>
</code></pre></pre>
<h2 id="best-practices" node="[object Object]">Best Practices</h2>
<h3 id="state-structure" node="[object Object]">State Structure</h3>
<ul>
<li>Normalize complex data structures</li>
<li>Keep state flat and avoid nesting</li>
<li>Separate UI state from business logic</li>
<li>Use selectors for derived state</li>
<li>Implement proper error boundaries</li>
</ul>
<h3 id="performance-optimization" node="[object Object]">Performance Optimization</h3>
<ul>
<li>Use React.memo for expensive components</li>
<li>Implement proper memoization with useMemo/useCallback</li>
<li>Avoid unnecessary re-renders</li>
<li>Use React DevTools Profiler</li>
<li>Implement code splitting for large state</li>
</ul>
<h3 id="testing" node="[object Object]">Testing</h3>
<ul>
<li>Test reducers as pure functions</li>
<li>Mock external dependencies</li>
<li>Test async actions with proper setup/teardown</li>
<li>Use snapshot testing for UI components</li>
<li>Implement integration tests for state flows</li>
</ul>
<h2 id="resources" node="[object Object]">Resources</h2>
<h3 id="documentation" node="[object Object]">Documentation</h3>
<ul>
<li><a href="https://redux.js.org/" target="_blank" rel="noopener noreferrer" node="[object Object]">Redux Documentation</a></li>
<li><a href="https://redux-toolkit.js.org/" target="_blank" rel="noopener noreferrer" node="[object Object]">Redux Toolkit</a></li>
<li><a href="https://reactjs.org/docs/context.html" target="_blank" rel="noopener noreferrer" node="[object Object]">React Context API</a></li>
<li><a href="https://github.com/pmndrs/zustand" target="_blank" rel="noopener noreferrer" node="[object Object]">Zustand</a></li>
</ul>
<h3 id="tools" node="[object Object]">Tools</h3>
<ul>
<li><a href="https://github.com/reduxjs/redux-devtools" target="_blank" rel="noopener noreferrer" node="[object Object]">Redux DevTools</a></li>
<li><a href="https://reactjs.org/blog/2019/08/15/new-react-devtools.html" target="_blank" rel="noopener noreferrer" node="[object Object]">React DevTools</a></li>
<li><a href="https://immerjs.github.io/immer/" target="_blank" rel="noopener noreferrer" node="[object Object]">Immer</a> - Immutable updates</li>
<li><a href="https://github.com/reduxjs/reselect" target="_blank" rel="noopener noreferrer" node="[object Object]">Reselect</a> - Memoized selectors</li>
</ul>
<h3 id="practice-platforms" node="[object Object]">Practice Platforms</h3>
<ul>
<li><a href="https://redux-toolkit.js.org/introduction/quick-start" target="_blank" rel="noopener noreferrer" node="[object Object]">Redux Toolkit Examples</a></li>
<li><a href="https://kentcdodds.com/blog/application-state-management-with-react" target="_blank" rel="noopener noreferrer" node="[object Object]">React State Management Patterns</a></li>
<li><a href="https://redux.js.org/style-guide/" target="_blank" rel="noopener noreferrer" node="[object Object]">State Management Best Practices</a></li>
</ul>
<hr/>
<p><em>This guide covers essential state management concepts for frontend interviews, including practical problems and advanced techniques commonly asked at Big Tech companies.</em></p></div></div></div><div class="space-y-6"><div class="bg-white border border-gray-200 rounded-lg p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Your Progress</h3><div class="w-full bg-gray-200 rounded-full h-2 mb-2"><div class="bg-blue-600 h-2 rounded-full" style="width:25%"></div></div><p class="text-sm text-gray-600">25% Complete</p></div></div></div></div></main><footer class="sc-kjwdDK hrfQfY"><div class="sc-eVqvcJ dwFHjZ"><div class="sc-bbbBoY kWATso"><div class="sc-cdmAjP fBmmqS"><div class="sc-jytpVa iNKxsb"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-code "><polyline points="16 18 22 12 16 6"></polyline><polyline points="8 6 2 12 8 18"></polyline></svg>Frontend Interview Prep</div><p class="sc-eknHtZ fYhkiV">Comprehensive interview preparation for frontend engineers targeting Big Tech companies.</p><div class="sc-pYNGo eVAQiq"><a href="https://github.com" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github "><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"></path><path d="M9 18c-4.51 2-5-2-7-2"></path></svg></a><a href="https://twitter.com" aria-label="Twitter"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-twitter "><path d="M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z"></path></svg></a><a href="https://linkedin.com" aria-label="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-linkedin "><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect width="4" height="12" x="2" y="9"></rect><circle cx="4" cy="4" r="2"></circle></svg></a><a href="mailto:contact@example.com" aria-label="Email"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail "><rect width="20" height="16" x="2" y="4" rx="2"></rect><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path></svg></a></div></div><div class="sc-cdmAjP fBmmqS"><h3>Study Materials</h3><ul><li><a href="/algorithms">Algorithms</a></li><li><a href="/react">React &amp; Frontend</a></li><li><a href="/system-design">System Design</a></li><li><a href="/typescript">TypeScript</a></li><li><a href="/performance">Performance</a></li></ul></div><div class="sc-cdmAjP fBmmqS"><h3>Companies</h3><ul><li><a href="/google">Google</a></li><li><a href="/meta">Meta</a></li><li><a href="/amazon">Amazon</a></li><li><a href="/microsoft">Microsoft</a></li><li><a href="/apple">Apple</a></li></ul></div><div class="sc-cdmAjP fBmmqS"><h3>Resources</h3><ul><li><a href="/interview-tips">Interview Tips</a></li><li><a href="/coding-challenges">Coding Challenges</a></li><li><a href="/mock-interviews">Mock Interviews</a></li><li><a href="/blog">Blog</a></li><li><a href="/faq">FAQ</a></li></ul></div></div><div class="sc-cCVJLD fgJmHp"><p class="sc-jYczwO gYGLHT">© 2025 Frontend Interview Prep. All rights reserved.</p><div class="sc-dNFkOE ghBULZ"><a href="/privacy">Privacy Policy</a><a href="/terms">Terms of Service</a><a href="/contact">Contact</a></div></div></div></footer></div><script src="/interview/_next/static/chunks/webpack-be7d7df45533bffc.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/interview/_next/static/media/e4af272ccee01ff0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/interview/_next/static/css/387024c6a2216908.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[2846,[],\"\"]\n5:I[2972,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"930\",\"static/chunks/930-3262a6c9c5acace4.js\",\"289\",\"static/chunks/app/learn/%5Btopic%5D/page-4ab144227f7a7b3e.js\"],\"\"]\n6:I[5907,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"930\",\"static/chunks/930-3262a6c9c5acace4.js\",\"289\",\"static/chunks/app/learn/%5Btopic%5D/page-4ab144227f7a7b3e.js\"],\"default\"]\n8:I[4707,[],\"\"]\na:I[6423,[],\"\"]\nb:I[2,[\"918\",\"static/chunks/918-3273b83890f10546.js\",\"710\",\"static/chunks/710-dfaa11b4dff08f8e.js\",\"972\",\"static/chunks/972-011bba60ed155615.js\",\"233\",\"static/chunks/233-3e0c1d820a17eca9.js\",\"185\",\"static/chunks/app/layout-333f4adcd11f8f39.js\"],\"default\",1]\nd:I[1060,[],\"\"]\n7:T60d6,"])</script><script>self.__next_f.push([1,"# State Management for Frontend Interviews\n\n**Quản lý trạng thái cho phỏng vấn Frontend**\n\n## 1. Why State Management?\n\n- **Local state:** useState, useReducer, component state.\n- **Global state:** Shared across app (user, theme, cart).\n- **Server state:** Data from API, cache, sync.\n\n## 2. Tools \u0026 Libraries\n\n- **Redux:** Predictable, single source, middleware (thunk, saga), devtools.\n- **Context API:** Lightweight, for small/medium apps, avoid prop drilling.\n- **MobX:** Observable, reactive, less boilerplate.\n- **Zustand:** Minimal, hooks-based, scalable.\n- **Recoil:** Atom/selectors, async, React integration.\n- **Jotai, XState, Akita:** Other options.\n\n## 3. Patterns\n\n- **Lifting state up:** Move state to common ancestor.\n- **Derived state:** Compute from other state, avoid duplication.\n- **Selector functions:** Memoize, reselect.\n- **Normalized state:** Store by ID, avoid deep nesting.\n\n## 4. Best Practices\n\n- **Keep state minimal:** Only what you need.\n- **Avoid prop drilling:** Use context or global store.\n- **Immutable updates:** Spread/rest, immer.\n- **Testing:** Mock store, test reducers/selectors.\n- **Performance:** Avoid unnecessary re-renders, use memoization.\n\n## 5. Interview Questions\n\n- When to use Redux vs Context?\n- How to handle async state (API calls)?\n- How to avoid prop drilling?\n- How to test state logic?\n\n## 6. Resources\n\n- [Redux Docs](https://redux.js.org/)\n- [MobX Docs](https://mobx.js.org/)\n- [Zustand](https://docs.pmnd.rs/zustand/getting-started/introduction)\n- [Recoil](https://recoiljs.org/)\n\n# State Management Interview Preparation\n\n## Core Concepts\n\n### State Management Fundamentals\n\n- **Local State**: Component-level state (useState, useReducer)\n- **Global State**: Application-wide state shared across components\n- **Server State**: Data fetched from APIs and cached\n- **Form State**: User input and form validation state\n- **UI State**: Loading, error, modal, navigation states\n\n### State Management Patterns\n\n- **Flux Architecture**: Unidirectional data flow\n- **Redux Pattern**: Predictable state container\n- **Context API**: React's built-in state sharing\n- **Atomic State**: Small, focused state pieces\n- **Event Sourcing**: State as sequence of events\n\n## Advanced Topics\n\n### Modern State Management\n\n- **Redux Toolkit**: Simplified Redux with RTK Query\n- **Zustand**: Lightweight state management\n- **Jotai**: Atomic state management\n- **Recoil**: Facebook's experimental state management\n- **XState**: State machines and statecharts\n\n### State Synchronization\n\n- **Optimistic Updates**: Update UI before server confirmation\n- **Pessimistic Updates**: Wait for server response\n- **Real-time Sync**: WebSocket state synchronization\n- **Offline Support**: Local state with sync when online\n- **Conflict Resolution**: Handling concurrent updates\n\n## Common Interview Questions \u0026 Answers\n\n### State Management Questions\n\n**Q: When would you use Redux vs Context API vs local state?**\nA:\n\n- **Local State**: Component-specific data, form inputs, UI toggles\n- **Context API**: Theme, authentication, user preferences, simple global state\n- **Redux**: Complex application state, multiple data sources, debugging needs\n\n**Q: Explain the Redux flow and its three principles.**\nA: Redux follows unidirectional data flow:\n\n1. **Store**: Single source of truth\n2. **Actions**: Plain objects describing what happened\n3. **Reducers**: Pure functions that update state\n\n**Three Principles**:\n\n- Single source of truth\n- State is read-only\n- Changes made with pure functions\n\n**Q: What are the benefits and drawbacks of Redux?**\nA:\n**Benefits**:\n\n- Predictable state updates\n- Great debugging with DevTools\n- Middleware ecosystem\n- Time-travel debugging\n\n**Drawbacks**:\n\n- Boilerplate code\n- Learning curve\n- Overkill for simple apps\n- Performance overhead\n\n### Advanced Questions\n\n**Q: How would you implement optimistic updates in a state management system?**\nA: Optimistic updates modify UI immediately, then sync with server:\n\n```javascript\n// Redux Toolkit example\nconst userSlice = createSlice({\n  name: \"user\",\n  initialState: { users: [], loading: false },\n  reducers: {\n    addUserOptimistic: (state, action) =\u003e {\n      state.users.push({ ...action.payload, id: \"temp-\" + Date.now() });\n    },\n    addUserSuccess: (state, action) =\u003e {\n      const index = state.users.findIndex((u) =\u003e u.id.startsWith(\"temp-\"));\n      if (index !== -1) {\n        state.users[index] = action.payload;\n      }\n    },\n    addUserFailure: (state, action) =\u003e {\n      state.users = state.users.filter((u) =\u003e !u.id.startsWith(\"temp-\"));\n    },\n  },\n});\n\n// Usage\nconst addUser = (userData) =\u003e async (dispatch) =\u003e {\n  // Optimistic update\n  dispatch(addUserOptimistic(userData));\n\n  try {\n    const response = await api.createUser(userData);\n    dispatch(addUserSuccess(response.data));\n  } catch (error) {\n    dispatch(addUserFailure(error));\n  }\n};\n```\n\n**Q: How would you implement real-time state synchronization?**\nA: Using WebSockets with state management:\n\n```javascript\nclass RealTimeStateManager {\n  constructor(store) {\n    this.store = store;\n    this.socket = null;\n    this.reconnectAttempts = 0;\n    this.maxReconnectAttempts = 5;\n  }\n\n  connect(url) {\n    this.socket = new WebSocket(url);\n\n    this.socket.onopen = () =\u003e {\n      console.log(\"WebSocket connected\");\n      this.reconnectAttempts = 0;\n    };\n\n    this.socket.onmessage = (event) =\u003e {\n      const data = JSON.parse(event.data);\n      this.handleMessage(data);\n    };\n\n    this.socket.onclose = () =\u003e {\n      console.log(\"WebSocket disconnected\");\n      this.scheduleReconnect();\n    };\n  }\n\n  handleMessage(data) {\n    switch (data.type) {\n      case \"USER_UPDATED\":\n        this.store.dispatch(updateUser(data.payload));\n        break;\n      case \"MESSAGE_RECEIVED\":\n        this.store.dispatch(addMessage(data.payload));\n        break;\n      case \"STATUS_CHANGED\":\n        this.store.dispatch(updateUserStatus(data.payload));\n        break;\n    }\n  }\n\n  sendMessage(type, payload) {\n    if (this.socket?.readyState === WebSocket.OPEN) {\n      this.socket.send(JSON.stringify({ type, payload }));\n    }\n  }\n\n  scheduleReconnect() {\n    if (this.reconnectAttempts \u003c this.maxReconnectAttempts) {\n      this.reconnectAttempts++;\n      const delay = Math.pow(2, this.reconnectAttempts) * 1000;\n\n      setTimeout(() =\u003e {\n        this.connect(this.socket.url);\n      }, delay);\n    }\n  }\n}\n\n// Usage\nconst realTimeManager = new RealTimeStateManager(store);\nrealTimeManager.connect(\"wss://api.example.com/ws\");\n```\n\n## Practical Problems \u0026 Solutions\n\n### Problem 1: Implement a Custom State Management Library\n\n**Challenge**: Create a lightweight state management library similar to Zustand.\n\n```javascript\nclass SimpleStore {\n  constructor(initialState = {}) {\n    this.state = initialState;\n    this.listeners = new Set();\n    this.middleware = [];\n  }\n\n  getState() {\n    return this.state;\n  }\n\n  setState(partial) {\n    const prevState = { ...this.state };\n    this.state = { ...this.state, ...partial };\n\n    // Run middleware\n    this.middleware.forEach((middleware) =\u003e {\n      middleware(prevState, this.state);\n    });\n\n    // Notify listeners\n    this.listeners.forEach((listener) =\u003e listener(this.state, prevState));\n  }\n\n  subscribe(listener) {\n    this.listeners.add(listener);\n\n    return () =\u003e {\n      this.listeners.delete(listener);\n    };\n  }\n\n  useMiddleware(middleware) {\n    this.middleware.push(middleware);\n  }\n\n  // Action creators\n  createAction(type, payload) {\n    return { type, payload, timestamp: Date.now() };\n  }\n\n  dispatch(action) {\n    // Log action for debugging\n    console.log(\"Action:\", action);\n\n    // Update state based on action\n    switch (action.type) {\n      case \"INCREMENT\":\n        this.setState({ count: this.state.count + 1 });\n        break;\n      case \"SET_USER\":\n        this.setState({ user: action.payload });\n        break;\n      case \"ADD_TODO\":\n        this.setState({\n          todos: [...this.state.todos, action.payload],\n        });\n        break;\n      default:\n        console.warn(\"Unknown action type:\", action.type);\n    }\n  }\n}\n\n// React hook for using the store\nfunction useStore(store, selector) {\n  const [state, setState] = React.useState(() =\u003e selector(store.getState()));\n\n  React.useEffect(() =\u003e {\n    const unsubscribe = store.subscribe((newState) =\u003e {\n      const newSelectedState = selector(newState);\n      setState(newSelectedState);\n    });\n\n    return unsubscribe;\n  }, [store, selector]);\n\n  return state;\n}\n\n// Usage\nconst store = new SimpleStore({\n  count: 0,\n  user: null,\n  todos: [],\n});\n\n// Add logging middleware\nstore.useMiddleware((prevState, newState) =\u003e {\n  console.log(\"State changed:\", { prevState, newState });\n});\n\n// React component\nfunction Counter() {\n  const count = useStore(store, (state) =\u003e state.count);\n\n  return (\n    \u003cdiv\u003e\n      \u003cp\u003eCount: {count}\u003c/p\u003e\n      \u003cbutton onClick={() =\u003e store.dispatch({ type: \"INCREMENT\" })}\u003e\n        Increment\n      \u003c/button\u003e\n    \u003c/div\u003e\n  );\n}\n```\n\n### Problem 2: Create a Form State Manager\n\n**Challenge**: Build a comprehensive form state management system with validation and error handling.\n\n```javascript\nclass FormStateManager {\n  constructor(initialValues = {}, validationSchema = {}) {\n    this.initialValues = initialValues;\n    this.validationSchema = validationSchema;\n    this.state = {\n      values: { ...initialValues },\n      errors: {},\n      touched: {},\n      isValid: true,\n      isDirty: false,\n      isSubmitting: false,\n    };\n    this.listeners = new Set();\n  }\n\n  getFieldValue(name) {\n    return this.state.values[name];\n  }\n\n  setFieldValue(name, value) {\n    const newValues = { ...this.state.values, [name]: value };\n    const newErrors = this.validateField(name, value);\n    const newTouched = { ...this.state.touched, [name]: true };\n\n    this.setState({\n      values: newValues,\n      errors: { ...this.state.errors, [name]: newErrors[name] },\n      touched: newTouched,\n      isDirty: true,\n      isValid: this.validateForm(newValues),\n    });\n  }\n\n  setFieldError(name, error) {\n    this.setState({\n      errors: { ...this.state.errors, [name]: error },\n      isValid: this.validateForm(this.state.values),\n    });\n  }\n\n  validateField(name, value) {\n    const fieldSchema = this.validationSchema[name];\n    if (!fieldSchema) return {};\n\n    const errors = {};\n\n    // Required validation\n    if (fieldSchema.required \u0026\u0026 (!value || value.trim() === \"\")) {\n      errors[name] = fieldSchema.required;\n    }\n\n    // Pattern validation\n    if (fieldSchema.pattern \u0026\u0026 value \u0026\u0026 !fieldSchema.pattern.test(value)) {\n      errors[name] = fieldSchema.patternMessage || \"Invalid format\";\n    }\n\n    // Custom validation\n    if (fieldSchema.validate) {\n      const customError = fieldSchema.validate(value, this.state.values);\n      if (customError) {\n        errors[name] = customError;\n      }\n    }\n\n    return errors;\n  }\n\n  validateForm(values) {\n    const errors = {};\n\n    Object.keys(this.validationSchema).forEach((fieldName) =\u003e {\n      const fieldErrors = this.validateField(fieldName, values[fieldName]);\n      Object.assign(errors, fieldErrors);\n    });\n\n    return Object.keys(errors).length === 0;\n  }\n\n  handleSubmit(onSubmit) {\n    return async (event) =\u003e {\n      event?.preventDefault();\n\n      if (!this.state.isValid) {\n        // Mark all fields as touched to show errors\n        const touched = {};\n        Object.keys(this.validationSchema).forEach((key) =\u003e {\n          touched[key] = true;\n        });\n\n        this.setState({ touched });\n        return;\n      }\n\n      this.setState({ isSubmitting: true });\n\n      try {\n        await onSubmit(this.state.values);\n        this.setState({ isSubmitting: false });\n      } catch (error) {\n        this.setState({\n          isSubmitting: false,\n          errors: { submit: error.message },\n        });\n      }\n    };\n  }\n\n  reset() {\n    this.setState({\n      values: { ...this.initialValues },\n      errors: {},\n      touched: {},\n      isValid: true,\n      isDirty: false,\n      isSubmitting: false,\n    });\n  }\n\n  setState(partial) {\n    this.state = { ...this.state, ...partial };\n    this.listeners.forEach((listener) =\u003e listener(this.state));\n  }\n\n  subscribe(listener) {\n    this.listeners.add(listener);\n    return () =\u003e this.listeners.delete(listener);\n  }\n}\n\n// React hook for form state\nfunction useFormState(formManager) {\n  const [state, setState] = React.useState(formManager.state);\n\n  React.useEffect(() =\u003e {\n    return formManager.subscribe(setState);\n  }, [formManager]);\n\n  return {\n    ...state,\n    setFieldValue: formManager.setFieldValue.bind(formManager),\n    setFieldError: formManager.setFieldError.bind(formManager),\n    handleSubmit: formManager.handleSubmit.bind(formManager),\n    reset: formManager.reset.bind(formManager),\n  };\n}\n\n// Usage\nconst validationSchema = {\n  email: {\n    required: \"Email is required\",\n    pattern: /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/,\n    patternMessage: \"Invalid email format\",\n  },\n  password: {\n    required: \"Password is required\",\n    validate: (value) =\u003e {\n      if (value.length \u003c 8) {\n        return \"Password must be at least 8 characters\";\n      }\n      return null;\n    },\n  },\n};\n\nconst formManager = new FormStateManager(\n  { email: \"\", password: \"\" },\n  validationSchema\n);\n\nfunction LoginForm() {\n  const {\n    values,\n    errors,\n    touched,\n    isValid,\n    isSubmitting,\n    setFieldValue,\n    handleSubmit,\n  } = useFormState(formManager);\n\n  const onSubmit = async (values) =\u003e {\n    const response = await fetch(\"/api/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(values),\n    });\n\n    if (!response.ok) {\n      throw new Error(\"Login failed\");\n    }\n  };\n\n  return (\n    \u003cform onSubmit={handleSubmit(onSubmit)}\u003e\n      \u003cdiv\u003e\n        \u003cinput\n          type=\"email\"\n          value={values.email}\n          onChange={(e) =\u003e setFieldValue(\"email\", e.target.value)}\n          placeholder=\"Email\"\n        /\u003e\n        {touched.email \u0026\u0026 errors.email \u0026\u0026 (\n          \u003cspan className=\"error\"\u003e{errors.email}\u003c/span\u003e\n        )}\n      \u003c/div\u003e\n\n      \u003cdiv\u003e\n        \u003cinput\n          type=\"password\"\n          value={values.password}\n          onChange={(e) =\u003e setFieldValue(\"password\", e.target.value)}\n          placeholder=\"Password\"\n        /\u003e\n        {touched.password \u0026\u0026 errors.password \u0026\u0026 (\n          \u003cspan className=\"error\"\u003e{errors.password}\u003c/span\u003e\n        )}\n      \u003c/div\u003e\n\n      \u003cbutton type=\"submit\" disabled={!isValid || isSubmitting}\u003e\n        {isSubmitting ? \"Logging in...\" : \"Login\"}\n      \u003c/button\u003e\n    \u003c/form\u003e\n  );\n}\n```\n\n### Problem 3: Implement Redux with Middleware\n\n**Challenge**: Create a Redux-like state management system with middleware support.\n\n```javascript\n// Action types\nconst ActionTypes = {\n  INIT: \"@@redux/INIT\",\n};\n\n// Create store\nfunction createStore(reducer, initialState, enhancer) {\n  if (typeof enhancer === \"function\") {\n    return enhancer(createStore)(reducer, initialState);\n  }\n\n  let state = initialState;\n  let listeners = [];\n  let isDispatching = false;\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error(\"Cannot call getState while dispatching\");\n    }\n    return state;\n  }\n\n  function subscribe(listener) {\n    if (typeof listener !== \"function\") {\n      throw new Error(\"Listener must be a function\");\n    }\n\n    let isSubscribed = true;\n    listeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) return;\n\n      isSubscribed = false;\n      const index = listeners.indexOf(listener);\n      listeners.splice(index, 1);\n    };\n  }\n\n  function dispatch(action) {\n    if (!action || typeof action.type === \"undefined\") {\n      throw new Error(\"Actions must have a type property\");\n    }\n\n    if (isDispatching) {\n      throw new Error(\"Reducers may not dispatch actions\");\n    }\n\n    try {\n      isDispatching = true;\n      state = reducer(state, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    listeners.forEach((listener) =\u003e listener());\n    return action;\n  }\n\n  // Initialize store\n  dispatch({ type: ActionTypes.INIT });\n\n  return {\n    getState,\n    subscribe,\n    dispatch,\n  };\n}\n\n// Apply middleware\nfunction applyMiddleware(...middlewares) {\n  return (createStore) =\u003e (reducer, initialState) =\u003e {\n    const store = createStore(reducer, initialState);\n    let dispatch = store.dispatch;\n\n    const middlewareAPI = {\n      getState: store.getState,\n      dispatch: (action) =\u003e dispatch(action),\n    };\n\n    const chain = middlewares.map((middleware) =\u003e middleware(middlewareAPI));\n    dispatch = compose(...chain)(store.dispatch);\n\n    return {\n      ...store,\n      dispatch,\n    };\n  };\n}\n\n// Compose functions\nfunction compose(...funcs) {\n  if (funcs.length === 0) {\n    return (arg) =\u003e arg;\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(\n    (a, b) =\u003e\n      (...args) =\u003e\n        a(b(...args))\n  );\n}\n\n// Logger middleware\nfunction logger(middlewareAPI) {\n  return (next) =\u003e (action) =\u003e {\n    console.group(action.type);\n    console.log(\"Previous State:\", middlewareAPI.getState());\n    console.log(\"Action:\", action);\n\n    const result = next(action);\n\n    console.log(\"Next State:\", middlewareAPI.getState());\n    console.groupEnd();\n\n    return result;\n  };\n}\n\n// Thunk middleware\nfunction thunk(middlewareAPI) {\n  return (next) =\u003e (action) =\u003e {\n    if (typeof action === \"function\") {\n      return action(middlewareAPI.dispatch, middlewareAPI.getState);\n    }\n    return next(action);\n  };\n}\n\n// Example reducer\nfunction counterReducer(state = { count: 0 }, action) {\n  switch (action.type) {\n    case \"INCREMENT\":\n      return { ...state, count: state.count + 1 };\n    case \"DECREMENT\":\n      return { ...state, count: state.count - 1 };\n    case \"SET_COUNT\":\n      return { ...state, count: action.payload };\n    default:\n      return state;\n  }\n}\n\n// Action creators\nconst increment = () =\u003e ({ type: \"INCREMENT\" });\nconst decrement = () =\u003e ({ type: \"DECREMENT\" });\nconst setCount = (count) =\u003e ({ type: \"SET_COUNT\", payload: count });\n\n// Async action creator\nconst incrementAsync = () =\u003e (dispatch, getState) =\u003e {\n  setTimeout(() =\u003e {\n    dispatch(increment());\n  }, 1000);\n};\n\n// Create store with middleware\nconst store = createStore(\n  counterReducer,\n  { count: 0 },\n  applyMiddleware(logger, thunk)\n);\n\n// Usage\nstore.subscribe(() =\u003e {\n  console.log(\"State:\", store.getState());\n});\n\nstore.dispatch(increment()); // 1\nstore.dispatch(incrementAsync()); // 2 (after 1 second)\nstore.dispatch(setCount(10)); // 10\n```\n\n### Problem 4: Create a State Persistence System\n\n**Challenge**: Implement a system to persist and rehydrate state across browser sessions.\n\n```javascript\nclass StatePersistence {\n  constructor(storage = localStorage, key = \"app-state\") {\n    this.storage = storage;\n    this.key = key;\n    this.subscribers = new Set();\n  }\n\n  save(state, options = {}) {\n    const {\n      includeKeys = null,\n      excludeKeys = null,\n      transform = null,\n    } = options;\n\n    let stateToSave = state;\n\n    // Filter keys\n    if (includeKeys) {\n      stateToSave = Object.keys(state)\n        .filter((key) =\u003e includeKeys.includes(key))\n        .reduce((obj, key) =\u003e {\n          obj[key] = state[key];\n          return obj;\n        }, {});\n    }\n\n    if (excludeKeys) {\n      stateToSave = Object.keys(state)\n        .filter((key) =\u003e !excludeKeys.includes(key))\n        .reduce((obj, key) =\u003e {\n          obj[key] = state[key];\n          return obj;\n        }, {});\n    }\n\n    // Transform state\n    if (transform) {\n      stateToSave = transform(stateToSave);\n    }\n\n    try {\n      const serialized = JSON.stringify(stateToSave);\n      this.storage.setItem(this.key, serialized);\n      this.notifySubscribers(\"saved\", stateToSave);\n    } catch (error) {\n      console.error(\"Failed to save state:\", error);\n      this.notifySubscribers(\"error\", error);\n    }\n  }\n\n  load(options = {}) {\n    const { transform = null, defaultValue = {} } = options;\n\n    try {\n      const serialized = this.storage.getItem(this.key);\n      if (!serialized) {\n        return defaultValue;\n      }\n\n      let state = JSON.parse(serialized);\n\n      // Transform state\n      if (transform) {\n        state = transform(state);\n      }\n\n      this.notifySubscribers(\"loaded\", state);\n      return state;\n    } catch (error) {\n      console.error(\"Failed to load state:\", error);\n      this.notifySubscribers(\"error\", error);\n      return defaultValue;\n    }\n  }\n\n  clear() {\n    try {\n      this.storage.removeItem(this.key);\n      this.notifySubscribers(\"cleared\");\n    } catch (error) {\n      console.error(\"Failed to clear state:\", error);\n      this.notifySubscribers(\"error\", error);\n    }\n  }\n\n  subscribe(callback) {\n    this.subscribers.add(callback);\n    return () =\u003e this.subscribers.delete(callback);\n  }\n\n  notifySubscribers(event, data) {\n    this.subscribers.forEach((callback) =\u003e {\n      try {\n        callback(event, data);\n      } catch (error) {\n        console.error(\"Subscriber error:\", error);\n      }\n    });\n  }\n}\n\n// Enhanced store with persistence\nfunction createPersistentStore(reducer, initialState, options = {}) {\n  const {\n    storage = localStorage,\n    key = \"app-state\",\n    includeKeys = null,\n    excludeKeys = null,\n    transform = null,\n  } = options;\n\n  const persistence = new StatePersistence(storage, key);\n\n  // Load initial state from storage\n  const savedState = persistence.load({\n    transform,\n    defaultValue: initialState,\n  });\n  const store = createStore(reducer, savedState);\n\n  // Subscribe to state changes and save\n  store.subscribe(() =\u003e {\n    const currentState = store.getState();\n    persistence.save(currentState, { includeKeys, excludeKeys, transform });\n  });\n\n  // Add persistence methods to store\n  store.persist = {\n    clear: () =\u003e persistence.clear(),\n    on: (event, callback) =\u003e persistence.subscribe(callback),\n  };\n\n  return store;\n}\n\n// Usage\nconst counterReducer = (state = { count: 0, lastUpdated: null }, action) =\u003e {\n  switch (action.type) {\n    case \"INCREMENT\":\n      return {\n        ...state,\n        count: state.count + 1,\n        lastUpdated: new Date().toISOString(),\n      };\n    case \"DECREMENT\":\n      return {\n        ...state,\n        count: state.count - 1,\n        lastUpdated: new Date().toISOString(),\n      };\n    default:\n      return state;\n  }\n};\n\n// Create persistent store\nconst store = createPersistentStore(\n  counterReducer,\n  { count: 0, lastUpdated: null },\n  {\n    key: \"counter-state\",\n    includeKeys: [\"count\"], // Only persist count\n    transform: (state) =\u003e ({\n      ...state,\n      version: \"1.0\", // Add version for migration\n    }),\n  }\n);\n\n// Listen to persistence events\nstore.persist.on(\"saved\", (state) =\u003e {\n  console.log(\"State saved:\", state);\n});\n\nstore.persist.on(\"loaded\", (state) =\u003e {\n  console.log(\"State loaded:\", state);\n});\n\nstore.persist.on(\"error\", (error) =\u003e {\n  console.error(\"Persistence error:\", error);\n});\n\n// Use the store\nstore.dispatch({ type: \"INCREMENT\" });\n// State will be automatically saved to localStorage\n\n// Clear persisted state\n// store.persist.clear();\n```\n\n## Best Practices\n\n### State Structure\n\n- Normalize complex data structures\n- Keep state flat and avoid nesting\n- Separate UI state from business logic\n- Use selectors for derived state\n- Implement proper error boundaries\n\n### Performance Optimization\n\n- Use React.memo for expensive components\n- Implement proper memoization with useMemo/useCallback\n- Avoid unnecessary re-renders\n- Use React DevTools Profiler\n- Implement code splitting for large state\n\n### Testing\n\n- Test reducers as pure functions\n- Mock external dependencies\n- Test async actions with proper setup/teardown\n- Use snapshot testing for UI components\n- Implement integration tests for state flows\n\n## Resources\n\n### Documentation\n\n- [Redux Documentation](https://redux.js.org/)\n- [Redux Toolkit](https://redux-toolkit.js.org/)\n- [React Context API](https://reactjs.org/docs/context.html)\n- [Zustand](https://github.com/pmndrs/zustand)\n\n### Tools\n\n- [Redux DevTools](https://github.com/reduxjs/redux-devtools)\n- [React DevTools](https://reactjs.org/blog/2019/08/15/new-react-devtools.html)\n- [Immer](https://immerjs.github.io/immer/) - Immutable updates\n- [Reselect](https://github.com/reduxjs/reselect) - Memoized selectors\n\n### Practice Platforms\n\n- [Redux Toolkit Examples](https://redux-toolkit.js.org/introduction/quick-start)\n- [React State Management Patterns](https://kentcdodds.com/blog/application-state-management-with-react)\n- [State Management Best Practices](https://redux.js.org/style-guide/)\n\n---\n\n_This guide covers essential state management concepts for frontend interviews, including practical problems and advanced techniques commonly asked at Big Tech companies._\n"])</script><script>self.__next_f.push([1,"9:[\"topic\",\"system-design-state-management\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L3\",null,{\"buildId\":\"fejmt13PAtxRD63R9Wq_i\",\"assetPrefix\":\"/interview\",\"urlParts\":[\"\",\"learn\",\"system-design-state-management\"],\"initialTree\":[\"\",{\"children\":[\"learn\",{\"children\":[[\"topic\",\"system-design-state-management\",\"d\"],{\"children\":[\"__PAGE__?{\\\"topic\\\":\\\"system-design-state-management\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"learn\",{\"children\":[[\"topic\",\"system-design-state-management\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",[\"$\",\"div\",null,{\"className\":\"max-w-6xl mx-auto px-8 py-24\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-4 mb-8\",\"children\":[\"$\",\"$L5\",null,{\"href\":\"/learn\",\"children\":[\"$\",\"button\",null,{\"className\":\"flex items-center gap-2 bg-gray-100 border border-gray-300 text-gray-700 px-4 py-3 rounded-md font-medium hover:bg-gray-200 transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-arrow-left \",\"children\":[[\"$\",\"path\",\"1l729n\",{\"d\":\"m12 19-7-7 7-7\"}],[\"$\",\"path\",\"x3x0zl\",{\"d\":\"M19 12H5\"}],\"$undefined\"]}],\"Back to Learn\"]}]}]}],[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-8 mb-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between mb-4\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"text-3xl font-bold text-gray-900\",\"children\":\"State Management for Frontend Interviews\"}],[\"$\",\"div\",null,{\"className\":\"flex gap-4\",\"children\":[[\"$\",\"button\",null,{\"className\":\"flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-star \",\"children\":[[\"$\",\"polygon\",\"8f66p6\",{\"points\":\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"}],\"$undefined\"]}],\"Bookmark\"]}],[\"$\",\"button\",null,{\"className\":\"flex items-center gap-2 bg-transparent text-gray-700 border border-gray-300 px-6 py-3 rounded-md font-semibold hover:bg-gray-50 transition-colors\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-share2 \",\"children\":[[\"$\",\"circle\",\"gq8acd\",{\"cx\":\"18\",\"cy\":\"5\",\"r\":\"3\"}],[\"$\",\"circle\",\"w7nqdw\",{\"cx\":\"6\",\"cy\":\"12\",\"r\":\"3\"}],[\"$\",\"circle\",\"1xt0gg\",{\"cx\":\"18\",\"cy\":\"19\",\"r\":\"3\"}],[\"$\",\"line\",\"47mynk\",{\"x1\":\"8.59\",\"x2\":\"15.42\",\"y1\":\"13.51\",\"y2\":\"17.49\"}],[\"$\",\"line\",\"1n3mei\",{\"x1\":\"15.41\",\"x2\":\"8.59\",\"y1\":\"6.51\",\"y2\":\"10.49\"}],\"$undefined\"]}],\"Share\"]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex gap-8 mb-4\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex items-center gap-2 text-sm text-gray-600\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":16,\"height\":16,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-clock \",\"children\":[[\"$\",\"circle\",\"1mglay\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"10\"}],[\"$\",\"polyline\",\"68esgv\",{\"points\":\"12 6 12 12 16 14\"}],\"$undefined\"]}],\"2-3 hours\"]}],[\"$\",\"span\",null,{\"className\":\"px-3 py-1 rounded-full text-xs font-semibold text-white bg-yellow-500\",\"children\":\"Intermediate\"}],[\"$\",\"span\",null,{\"className\":\"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-700\",\"children\":\"General\"}]]}],false,[\"$\",\"p\",null,{\"className\":\"text-lg text-gray-700 leading-relaxed\",\"children\":\"**Quản lý trạng thái cho phỏng vấn Frontend**...\"}]]}],[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 lg:grid-cols-3 gap-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"lg:col-span-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-8\",\"children\":[\"$\",\"$L6\",null,{\"content\":\"$7\"}]}]}],[\"$\",\"div\",null,{\"className\":\"space-y-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"bg-white border border-gray-200 rounded-lg p-6\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"text-lg font-semibold text-gray-900 mb-4\",\"children\":\"Your Progress\"}],[\"$\",\"div\",null,{\"className\":\"w-full bg-gray-200 rounded-full h-2 mb-2\",\"children\":[\"$\",\"div\",null,{\"className\":\"bg-blue-600 h-2 rounded-full\",\"style\":{\"width\":\"25%\"}}]}],[\"$\",\"p\",null,{\"className\":\"text-sm text-gray-600\",\"children\":\"25% Complete\"}]]}],false]}]]}]]}],null],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"learn\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"learn\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/interview/_next/static/css/387024c6a2216908.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$Lb\",null,{\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],\"params\":{}}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"2\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>